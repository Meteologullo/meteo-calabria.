<!DOCTYPE html>

<html lang="it">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Meteo Calabria ‚Äì Dashboard Unificata</title>
<!-- Google¬†Fonts & FontAwesome -->
<link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&amp;family=Baloo+2:wght@600&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<style>
  /* ‚Äî‚Äî Palette & Theme ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */
  :root{
    --bg:linear-gradient(135deg,#001219,#005f73 40%,#0a9396);
    --glass:rgba(255,255,255,.14);
    --blur:14px;
    --radius:18px;
    --accent:#00d2ff;
    --accent2:#3a7bd5;
    --text:#ecf1f8;
    --marker-size:clamp(22px,5vw,48px);
    --text-dim:#c5d0e6;

    /* Widget */
    --clr-sky:#4fd1ff;
    --clr-sky-2:#0ea5e9;
    --clr-night:#06214b;
    --clr-night-2:#010c1e;
    --clr-accent:#facc15;
    --clr-accent-night:#ffe680;
  }
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
  body{
    min-height:100vh;background:var(--bg);font-family:"Inter",sans-serif;color:var(--text);
    display:flex;flex-direction:column;align-items:center;padding:20px 12px;
  }
  /* ‚Äî‚Äî Search bar ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */
  .search{display:flex;gap:.5rem;width:100%;max-width:820px;margin-bottom:20px}
  .search input{flex:1;padding:.9rem 1.1rem;border:none;border-radius:var(--radius);background:var(--glass);backdrop-filter:blur(var(--blur));color:var(--text);font-size:1rem;outline:none;}
  .search button{padding:.9rem 1.2rem;border:none;border-radius:var(--radius);background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;font-weight:700;font-size:1rem;cursor:pointer;}
  /* ‚Äî‚Äî Main widget (map¬†+ tabelle) ‚Äî‚Äî‚Äî */
  #widget{width:100%;max-width:820px;display:grid;grid-template-columns:1fr auto;grid-template-rows:auto 1fr auto;grid-template-areas:"header header""map forecast""bottom bottom";background:radial-gradient(circle at 50% 15%,var(--clr-sky) 0%,var(--clr-sky-2) 100%);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.25);overflow:hidden;position:relative;isolation:isolate;transition:background .4s;}
  body.night #widget{background:radial-gradient(circle at 50% 15%,var(--clr-night) 0%,var(--clr-night-2) 100%);}  
  @media(max-width:600px){#widget{grid-template-columns:1fr;grid-template-areas:"header""map""forecast""bottom";}}
  header{grid-area:header;padding:18px 14px;text-shadow:0 2px 6px rgba(0,0,0,.5);font-family:'Baloo 2',cursive;}
  header h1{font-size:clamp(26px,6vw,38px);font-weight:800;line-height:1.1;}
  header p{font-size:clamp(14px,3vw,18px);margin-top:2px;font-weight:600;opacity:.9;}
  body.night header *{filter:brightness(.88);}  
  /* ‚Äî‚Äî Map ‚Äî‚Äî */
  #mapArea{grid-area:map;position:relative;margin:0 14px 88px 14px;border-radius:6px;aspect-ratio:3/4;}
  @media(max-width:600px){#mapArea{margin:0 14px 20px 14px;}}
  #mapArea::before{content:"";position:absolute;inset:0;background:rgba(255,255,255,.08);border-radius:inherit;}
  #map{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;pointer-events:none;opacity:.3;filter:drop-shadow(0 0 2px rgba(0,0,0,.5));}
  .marker{position:absolute;left:0;top:0;transform: translate(-50%, -50%) var(--rot, rotate(0deg));font-size:var(--marker-size);user-select:none;cursor:default;text-shadow:0 1px 3px rgba(0,0,0,.45);}
.marker .fa-solid,.marker .fa-regular,.marker .fa-light,.marker .fa-duotone,.marker .fa{font-size:var(--marker-size);width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);line-height:var(--marker-size);display:inline-flex;align-items:center;justify-content:center;}

.marker img.weather-icon{width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);}
  
  /* ‚Äî‚Äî Forecast table ‚Äî‚Äî */
  #forecast{grid-area:forecast;margin:20px 14px 0 0;border-collapse:collapse;border-radius:10px;background:rgba(255,255,255,.15);backdrop-filter:blur(10px);font-size:13px;min-width:160px;max-width:100%;box-shadow:0 4px 12px rgba(0,0,0,.25);overflow:hidden;z-index:2;transition:background .35s;}
  body.night #forecast{background:rgba(255,255,255,.10);}  
  #forecast th,#forecast td{padding:4px 10px;}
  #forecast th{background:rgba(255,255,255,.25);font-weight:700;font-family:'Baloo 2',cursive;transition:background .35s;}
  body.night #forecast th{background:rgba(255,255,255,.18);}  
  #forecast tr:nth-child(even) td{background:rgba(255,255,255,.05);}  
  #forecast tr:hover td{background:rgba(255,255,255,.08);}  
  #forecast th:first-child::before{content:"üå°Ô∏è ";}
  #forecast td:nth-child(2),#forecast td:nth-child(3){font-weight:800;font-size:18px;}
  /* ‚Äî‚Äî Bottom nav ‚Äî‚Äî */
  #bottomBar{grid-area:bottom;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:6px 14px 14px;background:rgba(255,255,255,.15);backdrop-filter:blur(6px);box-shadow:0 -4px 12px rgba(0,0,0,.25);border-top-left-radius:12px;border-top-right-radius:12px;z-index:3;transition:background .35s;}
  body.night #bottomBar{background:rgba(255,255,255,.10);}  
  #nav{flex:1;display:flex;gap:6px;flex-wrap:wrap;justify-content:center;overflow-x:auto;padding:2px 0;}
  #nav button{background:transparent;border:none;font-size:14px;font-weight:600;padding:6px 10px;border-radius:8px;transition:background .2s,color .2s;color:#fff;white-space:nowrap;}
  #nav button:hover{background:rgba(255,255,255,.25);}body.night #nav button:hover{background:rgba(255,255,255,.18);}#nav button.active{background:var(--clr-accent);color:#000;}body.night #nav button.active{background:var(--clr-accent-night);color:#000;}
  .fab-btn{width:52px;height:52px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 6px 14px rgba(0,0,0,.35);transition:transform .2s,background .35s;flex-shrink:0;font-size:26px;}
  .fab-btn:hover{transform:scale(1.08);}#fab{background:var(--clr-accent);color:#000;}body.night #fab{background:var(--clr-accent-night);}#themeBtn{background:#ffffff26;color:#fff;}body.night #themeBtn{background:#ffffff33;}
  /* ‚Äî‚Äî Extra panels ‚Äî‚Äî */
  .panel,.card{background:var(--glass);backdrop-filter:blur(var(--blur));border-radius:var(--radius);padding:1.1rem 1.4rem;margin-bottom:1.1rem;width:100%;max-width:820px;}
  .station-header{display:flex;justify-content:space-between;margin-bottom:.4rem;flex-wrap:wrap;gap:.4rem}
  .metric-row{display:flex;flex-wrap:wrap;gap:1rem}
  .metric{display:flex;align-items:center;gap:.4rem;font-size:.95rem}
  .metric i{font-size:1.1rem}
  .main-temp{font-size:2.4rem;font-weight:600;margin-right:.3rem}
  table.hourly{width:100%;border-collapse:collapse;font-size:.85rem}
  table.hourly th,table.hourly td{padding:.45rem .2rem;text-align:center}
  table.hourly th{color:var(--text);font-weight:600}
  table.hourly tr:nth-child(even){background:rgba(255,255,255,.05)}
  .days{display:grid;grid-template-columns:repeat(auto-fill,minmax(78px,1fr));gap:.6rem}
  .day{background:rgba(255,255,255,.08);border-radius:var(--radius);padding:.55rem .25rem;text-align:center}
  .day i{font-size:1.3rem;margin-bottom:.2rem}
  .day .min{color:var(--text-dim);font-size:.8rem}
  .radar{width:100%;border:none;border-radius:var(--radius);overflow:hidden;height:450px;max-width:820px;}
  .advice{display:flex;align-items:center;gap:.7rem;font-size:1.05rem;font-weight:600}
  .advice.ok{color:#1dd05d}.advice.no{color:#ff6565}
  /* ‚Äî‚Äî Admin modal ‚Äî‚Äî */
  #adminPanel{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.55);backdrop-filter:blur(3px);z-index:999;visibility:hidden;opacity:0;transition:opacity .25s; }
  #adminPanel.open{visibility:visible;opacity:1;}
  #adminPanel .modal{background:rgba(0,0,0,.85);border-radius:var(--radius);padding:1.4rem;max-width:400px;width:90%;color:var(--text);}
  #adminPanel button{background:var(--clr-accent);border:none;border-radius:8px;font-weight:600;padding:.6rem 1rem;cursor:pointer;margin-top:1rem;}
  footer{font-size:.8rem;color:var(--text-dim);text-align:center;margin-top:1.4rem;max-width:820px}
  a{color:var(--accent)}
  @media(max-width:380px){.main-temp{font-size:2rem}table.hourly{font-size:.75rem}}
  

body.modal-open{overflow:hidden}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0008;backdrop-filter:blur(4px);z-index:99;}
.modal.hidden{display:none}
.modal .box{background:var(--glass);backdrop-filter:blur(var(--blur));border-radius:var(--radius);padding:1.4rem;max-width:500px;width:90%;color:var(--text);}
.modal textarea{width:100%;height:250px;background:rgba(255,255,255,.1);border:none;color:var(--text);border-radius:var(--radius);padding:.6rem;font-family:monospace;}
.modal button{border:none;cursor:pointer;border-radius:var(--radius);padding:.5rem 1rem;font-weight:700;}


/* === Map Control Panel (imported) === */
#panel{
  position:absolute; right:12px; top:84px; bottom:96px; width:360px; z-index:20;
  background:rgba(255,255,255,.95); color:#004070;
  padding:16px 16px 18px; border-radius:18px;
  transform:translateX(120%); transition:transform .28s ease, opacity .28s ease;
  box-shadow:0 10px 30px rgba(0,0,0,.25); backdrop-filter:blur(8px);
  overflow-y:auto; max-height:calc(100% - 180px); opacity:.98;
}
#panel.open{ transform:translateX(0); }
#panel.peek{ width:48px; padding:8px; overflow:hidden; }
#panel .toolbar{display:flex; align-items:center; gap:10px; margin-bottom:10px;}
#panel .toolbar label{display:flex; align-items:center; gap:8px; font-size:12px; font-weight:600;}
@media(max-width:820px){
  #panel{ left:0; right:0; top:auto; bottom:0; width:auto; border-radius:18px 18px 0 0; transform:translateY(110%); }
  #panel.open{ transform:translateY(0); }
  #panel.peek{ width:auto; height:42px; }
}

#panel.open{transform:translateY(0);}
#handle{width:50px;height:6px;background:#bbb;border-radius:3px;margin:0 auto 12px;}
#panel h3{margin:12px 0 6px;font-size:18px;font-weight:800;font-family:'Baloo 2',cursive;}
#panel label{display:block;margin-top:12px;font-size:14px;}
#panel input,#panel select{
  width:100%;padding:8px 10px;font-size:15px;border:1px solid #c0c0c0;border-radius:6px;
}
#panel .row{display:flex;gap:10px;flex-wrap:wrap;}
#panel button{
  width:100%;padding:11px;font-size:16px;border:none;border-radius:8px;font-weight:700;
  cursor:pointer;transition:filter .15s;
}
#panel button:hover{filter:brightness(1.08);}
#btnSaveMarker{background:#facc15;}
#btnDeleteMarker{background:#ff6666;color:#fff;}
#btnSaveLayout{background:#10b981;color:#fff;}
#btnReset{background:#ef4444;color:#fff;}
#btnSaveForecast{background:#facc15;}
#toast{
  position:absolute;top:22px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.85);color:#fff;padding:8px 18px;border-radius:8px;font-size:15px;
  box-shadow:0 4px 10px rgba(0,0,0,.45);display:none;z-index:25;
}

.icon-list{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.icon-list button{border:none;background:#e5e5e5;border-radius:6px;padding:4px 8px;font-size:22px;cursor:pointer;line-height:1}
.icon-list button.active{outline:2px solid var(--accent);background:#fff}


  /* ‚Äî‚Äî Icon picker ‚Äî‚Äî‚Äî */
  .icon-picker{display:flex;flex-wrap:wrap;gap:4px;margin-top:6px;}
  .icon-picker button{font-size:24px;padding:4px 6px;background:none;border:1px solid #555;border-radius:6px;cursor:pointer;}
  .icon-picker button.active{outline:2px solid var(--accent);}


  /* ‚Äî‚Äî‚Äî Panel tidy overrides ‚Äî‚Äî‚Äî */
  #panel{display:flex;flex-direction:column;gap:14px;}
  #panel .row{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;}
  #panel h3{flex:0 0 auto;}

  
/* === Enhanced Weather Icon Styles === */
@keyframes floatIcon {
  0%   { transform: translate(-50%, -50%) translateY(0); }
  50%  { transform: translate(-50%, -50%) translateY(-6px); }
  100% { transform: translate(-50%, -50%) translateY(0); }
}
@keyframes pulseIcon {
  0%,100% { transform: scale(1); }
  50%     { transform: scale(1.2); }
}

/* Map markers */
.marker i{
  font-size:calc(var(--marker-size) * 1.4);
  animation:floatIcon 4s ease-in-out infinite;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.45));
width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);line-height:var(--marker-size);display:inline-flex;align-items:center;justify-content:center;}
/* Forecast panels */
.day i,
.hourly i{
  font-size:30px;
  animation:pulseIcon 6s ease-in-out infinite;
  filter:drop-shadow(0 1px 2px rgba(0,0,0,.3));
  transition:transform .25s;
}
.day:hover i,
.hourly:hover i{
  transform:scale(1.15) rotate(4deg);
}

/* Color palette per icon */
.fa-sun{color:#facc15;}
.fa-cloud-sun{color:#ffbe6f;}
.fa-cloud{color:#a3bffa;}
.fa-cloud-rain,
.fa-cloud-showers-heavy{color:#4DB7FF;}
.fa-cloud-meatball{color:#39c9e8;}
.fa-smog{color:#9ca3af;}
.fa-snowflake{color:#8ecae6;}
.fa-bolt{color:#ffd43b;}


  /* ‚Äî‚Äî Forecast table refreshed ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */
  #forecast{
    background:var(--glass);
    backdrop-filter:blur(var(--blur));
    border-radius:var(--radius);
    width:100%;
    border-collapse:collapse;
    overflow:hidden;
  }
  #forecast th,#forecast td{
    padding:.55rem .4rem;
    text-align:center;
  }
  #forecast th{
    background:rgba(255,255,255,.09);
    color:var(--text);
    font-weight:600;
  }
  #forecast tr:nth-child(even){
    background:rgba(255,255,255,.05);
  }

  /* Bottom navigation bar polished */
  #bottomBar{
    background:var(--glass);
    backdrop-filter:blur(var(--blur));
    border-bottom-left-radius:var(--radius);
    border-bottom-right-radius:var(--radius);
  }

  /* Hourly & Daily cards harmonised */
  table.hourly th{
    background:rgba(255,255,255,.09);
  }
  table.hourly tr:nth-child(even){
    background:rgba(255,255,255,.05);
  }
  .day{
    background:rgba(255,255,255,.08);
  }

  @media(max-width:600px){
    #forecast{margin:14px 0;}
  }


@media(max-width:600px){
  #forecast{display:none;}
  #bottomBar{
    background:transparent;
    backdrop-filter:none;
    padding:4px 4px 0;
  }
  #nav{
    gap:6px;
    flex-wrap:nowrap;
    overflow-x:auto;
    justify-content:flex-start;
  }
  #nav button{
    padding:4px 8px;
    font-size:.8rem;
  }
  #bottomBar::-webkit-scrollbar,
  #nav::-webkit-scrollbar{display:none;}
  #nearestStation{margin-top:14px;}
}


table.hourly td:nth-child(3), table.hourly th:nth-child(3){
  text-align:left;
  padding-left:4px;
}


@media(max-width:600px){
  #mapArea{
    height:55vh;
  }
  #map{
    width:100%;
    height:100%;
    object-fit:contain;
  }
}


/* icons */
.weather-icon{display:inline-block;width:1.2em;height:1.2em;vertical-align:sub;object-fit:contain;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }

/* Nasconde la "barretta" dei giorni e i suoi pulsanti in modalit√† solo-previsione */
#widget.forecast-only #bottomBar,
#widget.forecast-only #nav{
  display: none !important;
}

/* === Override: nav pills match site's Info/Search buttons (closer) === */
.mlg-pill{
  position: relative;
  padding: 12px 22px;
  border-radius: 999px;
  font-weight: 800;
  letter-spacing:.2px;
  text-decoration:none;
  color:#ffffff;
  background: linear-gradient(135deg, #3FD2FF 0%, #2E63FF 100%);
  border: 1px solid rgba(255,255,255,0.30);
  box-shadow:
    0 14px 28px rgba(0, 0, 0, 0.38),
    inset 0 1px 0 rgba(255,255,255,0.25);
  text-shadow: 0 2px 8px rgba(0,0,0,.35);
  transition: transform .06s ease, box-shadow .15s ease, filter .15s ease;
}
.mlg-pill::after{
  content:"";
  position:absolute; inset:2px;
  border-radius:inherit;
  background: radial-gradient(120% 120% at 20% 10%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%);
  pointer-events:none;
}
.mlg-pill:hover{
  transform: translateY(-1px);
  filter: brightness(1.05);
  box-shadow:
    0 18px 34px rgba(0, 0, 0, 0.42),
    inset 0 1px 0 rgba(255,255,255,0.30);
}
.mlg-pill:active{ transform: translateY(0); filter: brightness(.98); }
.mlg-pill:focus-visible{
  outline: 3px solid rgba(255,255,255,.7);
  outline-offset: 2px;
}
/* Smaller on narrow viewports */
@media (max-width: 860px){
  .mlg-pill{ padding: 10px 16px; font-weight: 800; }
}
/* === FIX MOBILE NAV VISIBILITY === */
@media (max-width: 860px){
  .mlg-banner{ z-index: 1000; }
  .mlg-inner{ flex-wrap: wrap; align-items: flex-start; row-gap: 8px; }
  .mlg-title{ padding-right: 6px; }
  .mlg-nav{
    display: flex !important;    /* forza la visualizzazione su mobile */
    order:2; width:100%;
    overflow-x:auto; overflow-y:hidden;
    flex-wrap:nowrap; gap:10px;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    padding: 6px 6px 10px;
    margin: 0;
  }
  .mlg-nav::-webkit-scrollbar{ display:none; }
  .mlg-pill{ padding: 12px 16px; flex: 0 0 auto; } /* chip di dimensione fissa */
}

/* === MOBILE: titolo centrato, pulsanti compatti, no scorrimento === */
@media (max-width: 860px){
  .mlg-inner{ flex-wrap:wrap; justify-content:center; row-gap:8px; }
  .mlg-title{ width:100%; display:flex; justify-content:center; text-align:center; margin:2px 0 4px; }
  .mlg-nav{
    display:flex !important;
    width:100%;
    flex-wrap:wrap;                 /* va a capo, NON scorrevole */
    justify-content:center;
    gap:8px 10px;
    overflow:visible;               /* niente overflow */
    padding: 2px 8px 10px;
    margin:0;
  }
  .mlg-pill{
    padding:8px 12px;
    font-size: clamp(13px, 3.7vw, 15px);
    box-shadow:
      0 8px 18px rgba(0,0,0,.30),
      inset 0 1px 0 rgba(255,255,255,0.22);
  }
}

</style>
<style>
/* === Mobile & Map Visual Tweaks (added) === */
#widget{
  background:var(--glass);
  backdrop-filter:blur(var(--blur));
}
body.night #widget{
  background:rgba(255,255,255,.08);
}
#mapArea::before{
  background:rgba(255,255,255,.06);
}
/* Remove blue tint under map image */
#map{
  opacity:0.9 !important;
  filter:none !important;
}
/* Reduce bottom margin on small screens */
@media(max-width:600px){
  #mapArea{
    margin:0 12px 20px 12px;
    aspect-ratio:3/4;
  }
  #forecast{
    margin:10px 14px 0 14px;
  }
}

  /* ‚Äî‚Äî Forecast table refreshed ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî */
  #forecast{
    background:var(--glass);
    backdrop-filter:blur(var(--blur));
    border-radius:var(--radius);
    width:100%;
    border-collapse:collapse;
    overflow:hidden;
  }
  #forecast th,#forecast td{
    padding:.55rem .4rem;
    text-align:center;
  }
  #forecast th{
    background:rgba(255,255,255,.09);
    color:var(--text);
    font-weight:600;
  }
  #forecast tr:nth-child(even){
    background:rgba(255,255,255,.05);
  }

  /* Bottom navigation bar polished */
  #bottomBar{
    background:var(--glass);
    backdrop-filter:blur(var(--blur));
    border-bottom-left-radius:var(--radius);
    border-bottom-right-radius:var(--radius);
  }

  /* Hourly & Daily cards harmonised */
  table.hourly th{
    background:rgba(255,255,255,.09);
  }
  table.hourly tr:nth-child(even){
    background:rgba(255,255,255,.05);
  }
  .day{
    background:rgba(255,255,255,.08);
  }

  @media(max-width:600px){
    #forecast{margin:14px 0;}
  }


/* icons */
.weather-icon{display:inline-block;width:1.2em;height:1.2em;vertical-align:sub;object-fit:contain;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style>
/* === Mobile layout refinements (2025‚Äë07) === */

/* 1. Hourly forecast: horizontal scroll + column pruning */
@media(max-width:600px){
  /* keep table readable while allowing swipe */
  #hourlyPanel table.hourly{
    display:block;
    overflow-x:auto;
    white-space:nowrap;
    font-size:0.83rem;
    min-width:550px;          /* keeps columns from squashing too much */
  }
}
@media(max-width:480px){
  /* hide less‚Äëcritical columns on very small screens */
  /*#hourlyPanel table.hourly th:nth-child(n+4),
  #hourlyPanel table.hourly td:nth-child(n+4){*/
    display:none;
  }
  #hourlyPanel table.hourly{
    min-width:320px;
  }
}

/* 2. Daily/extra cards tighter padding on phones */
@media(max-width:600px){
  .card,
  .panel{
    padding:0.9rem 1.1rem;
  }
  .day{
    padding:0.45rem 0.2rem;
  }
}

/* 3. Sticky search bar for quick access */
@media(max-width:600px){
  .search{
    position:sticky;
    top:8px;
    z-index:120;
    margin-bottom:14px;
  }
}

/* 4. Ensure nav pills scroll nicely edge‚Äëto‚Äëedge */
#nav{
  scroll-padding-left:12px;
}

/* icons */
.weather-icon{display:inline-block;width:1.2em;height:1.2em;vertical-align:sub;object-fit:contain;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style>
/* === Extra breakpoint up to 900px (table condenses sooner) === */
@media(max-width:900px){
  /* shrink font & allow horizontal scroll earlier */
  #hourlyPanel table.hourly{
    display:block;
    overflow-x:auto;
    white-space:nowrap;
    font-size:0.9rem;
  }
  /* tighten cards and map container */
  .card,
  .panel{
    max-width:100%;
  }
}

/* icons */
.weather-icon{display:inline-block;width:1.2em;height:1.2em;vertical-align:sub;object-fit:contain;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style>
/* Orario icon cells */
table.hourly td:nth-child(2), table.hourly th:nth-child(2){
  text-align:center;
  width:38px;
}

/* icons */
.weather-icon{display:inline-block;width:1.2em;height:1.2em;vertical-align:sub;object-fit:contain;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17">
/* === Import ottimizzazioni mobile da provamob17 (curate) ‚Äî 2025‚Äë08‚Äë01 === */
/* Non altera l'HTML/JS: solo fix CSS per mobile */

html, body { max-width: 100%; overflow-x: hidden; }

/* Map area: lascia spazio alla bottom bar su schermi stretti */
@media (max-width:600px){
  #mapArea{ margin-bottom:60px !important; }
}

/* Bottom bar: sempre visibile e scorrevole */
@media (max-width: 600px) {
  #bottomBar{
    position: sticky;
    bottom: 0; left: 0; right: 0;
    padding: 6px 8px !important;
    gap: 8px !important;
    max-width: 100%;
    overflow: hidden;
  }
  #nav{
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
  }
  #nav button{
    font-size: 12px !important;
    padding: 6px 10px !important;
    flex: 0 0 auto;
  }
  .fab-btn{
    width: 42px !important;
    height: 42px !important;
    font-size: 20px !important;
    flex: 0 0 auto;
  }
}

/* 24h: mantieni dentro viewport con scroll orizzontale se serve */
@media (max-width: 700px){
  table.hourly{
    font-size: 12px !important;
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  table.hourly th, table.hourly td{
    padding: .35rem .35rem !important;
    white-space: nowrap;
  }
}

/* Compatta la tabellina giornaliera su telefoni */
@media (max-width: 480px){
  #forecast{
    display: block;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  #forecast th, #forecast td{
    padding: .45rem .5rem !important;
    font-size: 14px !important;
    white-space: nowrap;
  }
}

/* Assicurati che media non escano dai container */
img, canvas, svg{ max-width: 100%; height: auto; }

/* consenti ai figli flex di comprimersi */
#bottomBar, #nav{ min-width: 0; }

/* Metriche live pi√π piccole su mobile */
@media (max-width:600px){
  .station-header h2{ font-size:1rem; }
  .metric-row{ gap:.5rem; }
  .metric{ font-size:.9rem; }
  .main-temp{ font-size:1.8rem; }
}

/* 7 giorni: riga scorrevole su mobile */
@media (max-width:600px){
  .days{ display:flex; gap:.5rem; overflow-x:auto; padding-bottom:.2rem; }
  .day{ min-width:80px; }
  .day .weather-icon{ width:36px; height:36px; }
}

/* 24h: icone sempre visibili e dimensionate; colonna icona stretta */
#hourlyPanel table.hourly th:nth-child(2),
#hourlyPanel table.hourly td:nth-child(2){
  width:34px !important;
  text-align:center !important;
}
#hourlyPanel .weather-icon{
  display:inline-block !important;
  width:24px !important;
  height:24px !important;
  object-fit:contain !important;
  vertical-align:middle !important;
  opacity:1 !important;
}

/* Mantieni visibili vento/precipitazioni anche su schermi stretti */
@media (max-width: 900px){
  #hourlyPanel table.hourly th:nth-child(6),
  #hourlyPanel table.hourly td:nth-child(6),
  #hourlyPanel table.hourly th:nth-child(7),
  #hourlyPanel table.hourly td:nth-child(7),
  #hourlyPanel table.hourly th:nth-child(8),
  #hourlyPanel table.hourly td:nth-child(8){
    display:table-cell !important;
  }
  #hourlyPanel table.hourly{ min-width:650px !important; }
}

/* Centra la mappa su mobile ed evita crop strani */
@media (max-width: 600px){
  #map{ 
    object-fit: contain !important; 
    object-position: center center !important;
  }
  #mapArea{ 
    margin-left:auto !important; 
    margin-right:auto !important; 
  }
}

/* Contenitore scroll 24h: piena larghezza e padding a sinistra per non schiacciare */
.hourly-scroll{ width:100%; overflow-x:auto; -webkit-overflow-scrolling:touch; }
#hourlyPanel .hourly-scroll{ padding-left: 32px !important; }
@media (max-width: 820px){
  #hourlyPanel .hourly-scroll{ padding-left: 36px !important; }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17-v2">
/* ‚Äî‚Äî‚Äî Patch v2 (2025‚Äë08‚Äë01): richieste utente ‚Äî‚Äî‚Äî */

/* 1) Elimina tabella temperature nel box mappa e allarga la mappa */
#forecast{ display:none !important; }
#mapArea{ grid-column: 1 / -1 !important; } /* la mappa occupa tutta la larghezza del widget */

/* 2) 24h: centra il box e rendi scorrevole/leggibile su mobile */
#hourlyPanel .card{
  margin-left:auto; margin-right:auto;
  padding-left:12px; padding-right:12px;
}
#hourlyPanel .card > div{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
#hourlyPanel table.hourly{ margin:0 auto; min-width:520px; }
@media (max-width: 480px){
  #hourlyPanel table.hourly{ min-width:460px; font-size:0.82rem; }
  #hourlyPanel table.hourly th, 
  #hourlyPanel table.hourly td{ padding:0.4rem 0.35rem; }
}

/* 3) 7 giorni: strip pi√π compatta e senza trabordare */
.days{ grid-template-columns: repeat(auto-fill, minmax(68px,1fr)) !important; gap:.45rem !important; }
.day{ padding:.45rem .3rem !important; }
.day i{ font-size:1.15rem !important; margin-bottom:.15rem !important; }
.day .min{ font-size:.78rem !important; opacity:.9; }
.day > div{ line-height:1.05; }

/* su schermi stretti: una sola riga orizzontale scorrevole */
@media (max-width: 520px){
  .days{
    display:flex !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch;
    scrollbar-width:thin;
    gap:.4rem !important;
    padding-bottom:4px;
  }
  .day{ flex:0 0 64px; min-width:64px; }
}

/* 4) Uniforma lo stile delle icone della strip ai set usati altrove */
.day i.fa-solid{
  line-height:1;
  text-shadow:none;
  vertical-align:middle;
  /* l'altezza e la resa sono coerenti con le icone del resto della dashboard */
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17-v3">
/* ‚Äî‚Äî‚Äî Patch v3 (2025‚Äë08‚Äë01): Ulteriore compattazione 7 giorni + fix centratura 24h ‚Äî‚Äî‚Äî */

/* A. 24 ORE: centratura reale e leggibilit√† */
#hourlyPanel .card{ margin-left:auto !important; margin-right:auto !important; max-width:820px !important; }
#hourlyPanel .card > div{ overflow-x:auto !important; -webkit-overflow-scrolling:touch; padding-left:12px; padding-right:12px; }
#hourlyPanel table.hourly{ display:block !important; margin-left:auto !important; margin-right:auto !important; }
@media (max-width: 520px){
  #hourlyPanel table.hourly{ min-width:520px !important; font-size:0.85rem !important; }
  #hourlyPanel table.hourly th, #hourlyPanel table.hourly td{ padding:0.42rem 0.38rem !important; }
}

/* B. 7 GIORNI: pi√π compatta + icone coerenti col resto (no FA predefinite) */
.days{ gap:.35rem !important; }
.day{ padding:.4rem .28rem !important; }
.day > div:first-child{ font-size:.74rem !important; }
.day .min{ font-size:.74rem !important; opacity:.9; }
.daily-icon{ display:block; line-height:1; margin:.1rem auto .2rem; text-align:center; }
.daily-icon .alt-icon{ display:none !important; } /* nasconde fallback FA */

/* Dimensioni icone immagine uguali al resto ma ridotte per la strip */
.days .day img.weather-icon{
  width:28px !important; height:28px !important; 
  filter:drop-shadow(0 1px 2px rgba(0,0,0,.25)) !important;
}

/* su schermi stretti: strip orizzontale scorrevole super-compatta */
@media (max-width: 520px){
  .days{
    display:flex !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch;
    gap:.32rem !important;
    padding-bottom:4px;
  }
  .day{ flex:0 0 58px; min-width:58px; }
}

/* C. sicurezza: niente overflow orizzontale globale */
html, body{ overflow-x:hidden; }

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17-v4">
/* ‚Äî‚Äî‚Äî Patch v4 (2025‚Äë08‚Äë01): 7 giorni ancora pi√π compatta + centratura forte 24h ‚Äî‚Äî‚Äî */

/* 24 ORE ‚Äî centratura forte e anti-taglio */
#hourlyPanel .card{
  margin-left:auto !important; 
  margin-right:auto !important; 
  max-width:960px !important;
}
#hourlyPanel .card > div{
  display:grid !important;           /* centro intrinseco */
  place-items:center !important;
  overflow-x:auto !important;
  -webkit-overflow-scrolling:touch;
  padding-left:14px !important; 
  padding-right:14px !important;
}
#hourlyPanel table.hourly{
  width:max-content !important;      /* usa larghezza intrinseca */
  min-width:540px !important;
  margin:0 !important;               /* il centraggio lo fa il grid del wrapper */
}
@media (max-width: 520px){
  #hourlyPanel table.hourly{ min-width:520px !important; font-size:0.86rem !important; }
  #hourlyPanel table.hourly th, #hourlyPanel table.hourly td{ padding:0.40rem 0.36rem !important; }
}

/* 7 GIORNI ‚Äî ultra compatta */
.days{ gap:.28rem !important; }
.day{ padding:.36rem .22rem !important; }
.day > div:first-child{ font-size:.70rem !important; }
.day .min{ font-size:.70rem !important; opacity:.9; }

/* strip orizzontale stretta su mobile */
@media (max-width: 520px){
  .days{
    display:flex !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch;
    gap:.28rem !important;
    padding-bottom:4px;
  }
  .day{ flex:0 0 52px !important; min-width:52px !important; }
  .days .day img.weather-icon{ width:26px !important; height:26px !important; }
}

/* sicurezza */
html, body{ overflow-x:hidden; }

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17-v5">
/* ‚Äî‚Äî‚Äî Patch v5 (2025‚Äë08‚Äë01): centratura forte 24h, pannello dettaglio giorno, bucato in fondo ‚Äî‚Äî‚Äî */

/* 24 ORE: centratura definitiva */
#hourlyPanel .card{ margin-left:auto !important; margin-right:auto !important; max-width:960px !important; }
#hourlyPanel .card > div{ text-align:center !important; overflow-x:auto !important; -webkit-overflow-scrolling:touch; padding-left:14px !important; padding-right:14px !important; }
#hourlyPanel table.hourly{ display:inline-table !important; margin:0 auto !important; width:max-content !important; min-width:540px !important; }
@media (max-width: 520px){
  #hourlyPanel table.hourly{ min-width:520px !important; font-size:0.86rem !important; }
  #hourlyPanel table.hourly th, #hourlyPanel table.hourly td{ padding:0.40rem 0.36rem !important; }
}

/* 7 GIORNI: ancora pi√π compatta e cliccabile */
.days{ gap:.26rem !important; }
.day{ padding:.34rem .20rem !important; cursor:pointer !important; }
@media (max-width: 520px){
  .day{ flex:0 0 50px !important; min-width:50px !important; }
  .days .day img.weather-icon{ width:24px !important; height:24px !important; }
}

/* Pannello dettaglio giorno (clone 24h) */
#dailyDetailPanel{ margin:18px auto !important; max-width:960px !important; }
#dailyDetailPanel .content{ text-align:center !important; overflow-x:auto !important; -webkit-overflow-scrolling:touch; padding-left:14px !important; padding-right:14px !important; }
#dailyDetailPanel table{ display:inline-table !important; margin:0 auto !important; width:max-content !important; min-width:540px !important; }
@media (max-width: 520px){
  #dailyDetailPanel table{ min-width:520px !important; }
}

/* Sicurezza generale */
html, body{ overflow-x:hidden; }

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mobile-patches-from-provamob17-v6">
/* ‚Äî‚Äî‚Äî Patch v6 (2025‚Äë08‚Äë01): centratura forte 24h + fix listener 7-giorni + compattazione + bucato in fondo ‚Äî‚Äî‚Äî */

/* 24 ORE ‚Äî centratura a prova di layout */
#hourlyPanel .card{ margin-left:auto !important; margin-right:auto !important; max-width:980px !important; }
#hourlyPanel .card > div{
  display:flex !important;
  justify-content:center !important;
  overflow-x:auto !important;
  -webkit-overflow-scrolling:touch;
  padding-left:16px !important; 
  padding-right:16px !important;
}
#hourlyPanel table.hourly{
  width:max-content !important;
  margin:0 !important;                 /* centrato via flex del wrapper */
  min-width:540px !important;
}
@media (max-width: 520px){
  #hourlyPanel table.hourly{ min-width:520px !important; font-size:0.86rem !important; }
  #hourlyPanel table.hourly th, #hourlyPanel table.hourly td{ padding:0.40rem 0.36rem !important; }
}

/* 7 GIORNI ‚Äî compattazione ulteriore */
.days{ gap:.22rem !important; }
.day{ padding:.32rem .18rem !important; }
.day > div:first-child{ font-size:.68rem !important; }
.day .min{ font-size:.68rem !important; opacity:.9; }
@media (max-width: 520px){
  .days{ display:flex !important; overflow-x:auto !important; -webkit-overflow-scrolling:touch; gap:.24rem !important; padding-bottom:4px; }
  .day{ flex:0 0 48px !important; min-width:48px !important; }
  .days .day img.weather-icon{ width:24px !important; height:24px !important; }
}

/* Pannello dettaglio giorno */
#dailyDetailPanel{ margin:20px auto !important; max-width:980px !important; }
#dailyDetailPanel .content{ text-align:center !important; overflow-x:auto !important; -webkit-overflow-scrolling:touch; padding: 0 16px !important; }
#dailyDetailPanel table{ display:inline-table !important; width:max-content !important; min-width:540px !important; }
@media (max-width: 520px){
  #dailyDetailPanel table{ min-width:520px !important; }
}

/* Sicurezza */
html, body{ overflow-x:hidden; }

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="fix-centering-2025-08-01-bis">
@media (max-width: 700px){
  #hourlyPanel .card{ margin-left:auto !important; margin-right:auto !important; }
  #hourlyPanel .card > div{ display:flex !important; justify-content:center !important; overflow-x:auto !important; -webkit-overflow-scrolling:touch; }
  #hourlyPanel table.hourly{ display:inline-table !important; width:max-content !important; margin:0 !important; }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="hourly-mobile-hotfix-v9">
/* v9 ‚Äî forza visibilit√† della colonna "Ora" */
#hourlyPanel .scroll-x{
  padding-left: 76px !important;   /* spinge l'intera tabella un pelo a destra */
  overflow-x:auto !important; -webkit-overflow-scrolling:touch !important;
}
@media (max-width: 680px){
  #hourlyPanel table.hourly th:nth-child(1),
  #hourlyPanel table.hourly td:nth-child(1){ width:64px !important; text-align:center !important; }
  #hourlyPanel table.hourly th:nth-child(2),
  #hourlyPanel table.hourly td:nth-child(2){ width:40px !important; }
  #hourlyPanel table.hourly th:nth-child(3),
  #hourlyPanel table.hourly td:nth-child(3){ max-width:120px !important; overflow:hidden !important; text-overflow:ellipsis !important; }
  #hourlyPanel table.hourly th, #hourlyPanel table.hourly td{ padding:8px 8px !important; }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>

<style id="part-summary-css">
/* === Summary parts (mattina/pomeriggio/sera/notte) === */
.parts{display:flex;gap:.6rem;flex-wrap:wrap;justify-content:space-between}
.part{flex:1 1 100px;background:var(--glass);backdrop-filter:blur(var(--blur));border-radius:var(--radius);padding:.6rem .4rem;text-align:center;cursor:pointer;transition:background .25s}
.part:hover{background:rgba(255,255,255,.18)}
.part h4{font-size:0.9rem;margin-bottom:4px;font-weight:700}
.part i, .part img.weather-icon{display:block;margin:0 auto 4px;width:32px;height:32px;object-fit:contain}
.part .temp{font-size:1rem;font-weight:600}
.part .min{font-size:0.8rem;color:var(--text-dim)}
@media(max-width:600px){.parts{gap:.4rem}.part{flex:0 0 72px;padding:.5rem .3rem}.part h4{font-size:.78rem}}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<!-- === FIX 2025‚Äë08‚Äë04 MOBILE dayParts layout === -->
<style id="dayparts-mobile-css">
@media (max-width: 640px){
  #dayParts .parts{
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
  }
  #dayParts .part{
    margin:0;
  }
  /* optional: nicer tap targets */
  #dayParts .part summary{
    display:flex;
    flex-direction:column;
    align-items:center;
  }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="dayparts-night-first-order">
/* --- Mostra "Notte" come primo pannello (a sinistra) senza cambiare il DOM --- */
#dayParts .parts{ display:flex !important; flex-wrap:wrap; } /* assicura flex */
#dayParts .parts .part:nth-child(4){ order:0; }  /* Notte */
#dayParts .parts .part:nth-child(1){ order:1; }  /* Mattina */
#dayParts .parts .part:nth-child(2){ order:2; }  /* Pomeriggio */
#dayParts .parts .part:nth-child(3){ order:3; }  /* Sera */
</style>

<style id="compact-empty-fix">
/* == Compact layout when no forecast rows are present == */
#widget.empty{
  grid-template-rows:auto auto auto !important; /* collapse the unused 1fr row */
}
#widget.empty #mapArea{
  margin-bottom:30px !important; /* reduce bottom gap when forecast absent */
}

#widget.empty #forecast{display:none !important;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style>
/* Patch: show day parts inline */
.parts{
  display:flex;
  flex-wrap:nowrap;
  gap:0.5rem;
  justify-content:space-between;
}
.part{
  flex:1 1 calc(25% - 0.5rem);
  min-width:0;
}
@media (max-width:600px){
  .parts{
    flex-wrap:wrap;
  }
  .part{
    flex:1 1 48%;
    margin-bottom:0.5rem;
  }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<!-- === PATCH 2025‚Äë08‚Äë05 Day‚Äëpart Hourly table fix === -->
<style id="daypart-hourly-fix-2025-08-05">
/* Make the opened part expand full‚Äëwidth so its hourly table doesn‚Äôt overlap neighbours */
#dayParts .parts .part[open]{
  flex:1 1 100% !important;   /* claim the full row */
  width:100% !important;
}
/* Give the detail box horizontal scroll on mobile + some breathing room */
#dayParts .part .detail{
  width:100%;
  overflow-x:auto;
  -webkit-overflow-scrolling:touch;
  padding-top:6px;
}
/* Keep the card nicely centred and capped */
#dayParts .part .detail .hourly-card{
  margin-left:auto;
  margin-right:auto;
  max-width:860px;
}
/* Slightly smaller fonts + min‚Äëwidth guard on very small screens */
@media (max-width:600px){
  #dayParts .part .detail .hourly-card table{
    font-size:0.82rem;
    min-width:480px;
  }
}

/* Enhance readability of the hourly rows as a responsive grid on desktop */
@media (min-width:800px){
  .hourly-list{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
    gap:6px;
  }
  .hour-row{
    padding:14px 16px;
    border-radius:12px;
  }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="tri-modal-css">
@media (max-width:700px){
  .triModal{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,.55);backdrop-filter:blur(4px);z-index:1400;
  }
  .triModal.hidden{display:none;}
  .triModal .box{
    position:relative;background:var(--glass);backdrop-filter:blur(var(--blur));
    border-radius:var(--radius);padding:1rem 1.2rem;max-width:92vw;max-height:80vh;
    overflow-y:auto;color:var(--text);
  }
  #triModalClose{
    position:absolute;top:8px;right:12px;border:none;background:none;
    font-size:1.6rem;color:var(--text);cursor:pointer;
  }
  .card .parts::after{
    content:'Tocca un pannello per la previsione tri‚Äëoraria';
    display:block;margin-top:4px;font-size:0.75rem;text-align:center;color:var(--text-dim);
    white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  }
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style>
/* === AI Meteo Lo Gullo ‚Äî stile box (iniettato) === */
#mlgAiBox{
  width:100%; max-width:920px; margin:12px auto 18px;
  background:var(--glass, rgba(0,0,0,.25)); backdrop-filter:blur(var(--blur, 6px));
  border-radius:var(--radius, 14px); padding:12px; color:var(--text, #fff);
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.12);
}
.mlg-ai-head{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:8px}
.mlg-ai-head button{
  background:#ffffff26;border:none;border-radius:10px;padding:.45rem .7rem;color:#fff;cursor:pointer;font-weight:700
}
.mlg-ai-thread{
  display:flex;flex-direction:column;gap:8px;max-height:300px;overflow:auto;
  background:rgba(255,255,255,.06);border-radius:12px;padding:10px
}
.mlg-ai-msg{padding:.6rem .75rem;border-radius:10px;max-width:85%;line-height:1.25}
.mlg-ai-msg.ai{background:rgba(255,255,255,.10);}
.mlg-ai-msg.me{background:linear-gradient(135deg,var(--accent,#9cf),var(--accent2,#6f9)); color:#000; margin-left:auto}
.mlg-ai-form{display:flex;gap:8px;margin-top:10px}
.mlg-ai-form input{
  flex:1;padding:.75rem .9rem;border:none;border-radius:10px;background:rgba(255,255,255,.12);color:var(--text,#fff);outline:none
}
.mlg-ai-form button{
  padding:.75rem 1rem;border:none;border-radius:10px;font-weight:800;background:var(--clr-accent, #ffdd55);color:#000;cursor:pointer
}
.mlg-ai-suggest{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
.mlg-ai-suggest button{
  border:none;border-radius:999px;padding:.35rem .65rem;background:rgba(255,255,255,.10);color:var(--text,#fff);cursor:pointer;font-weight:600
}
@media(max-width:600px){
  #mlgAiBox{margin:6px auto 10px}
  .mlg-ai-thread{max-height:220px}
}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style><style>
/* spacing helper when under sticky days bar */
#mlgAiBox { margin-top: 10px; }

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<style id="mapdate-overlay-css">
/* === Map date overlay inside the map (non-blocking) === */
.map-date{
  position:absolute;
  top:10px;
  left:10px;
  background:rgba(0,0,0,.45);
  color:#fff;
  padding:6px 10px;
  border-radius:8px;
  font-weight:700;
  z-index:6;
  pointer-events:none; /* don't block marker interactions */
  backdrop-filter:blur(4px);
  box-shadow:0 2px 8px rgba(0,0,0,.25);
}
body.night .map-date{ background:rgba(0,0,0,.55); color:#fff; }
@media (max-width:600px){
  .map-date{ padding:5px 9px; border-radius:7px; font-size:.95rem; }
}
</style>
<script id="uniform-icon-normalizer">
/* === Uniform Weather Icon Normalizer ‚Äî downscale-only & match-the-smallest (2025‚Äë08‚Äë12) ===
   - Crops transparent padding so all icons have comparable "visual box"
   - NEVER upscales: larger icons are reduced, smaller ones stay as they are
   - Converges to the smallest visual size detected among icons (safe for mobile)
*/
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const CACHE = new Map();                // cache by original URL -> dataURL
  const ICONS = new Set();                // all <img.weather-icon> we touched
  let globalMin = Infinity;               // smallest detected visual box (max of cw,ch)
  let ready = false;
  const GROUPS = new Map(); // key: targetPx -> {min: Infinity}

  function computeBounds(img){
    const W = img.naturalWidth || img.width, H = img.naturalHeight || img.height;
    if(!W || !H) return null;
    const c = document.createElement('canvas');
    c.width = W; c.height = H;
    const ctx = c.getContext('2d', { willReadFrequently:true });
    ctx.drawImage(img, 0, 0);

    try{
      const { data } = ctx.getImageData(0,0,W,H);
      let minX=W, minY=H, maxX=0, maxY=0, found=false;
      for(let y=0; y<H; y++){
        for(let x=0; x<W; x++){
          const a = data[(y*W + x)*4 + 3];
          if(a){
            found = true;
            if(x < minX) minX = x; if(x > maxX) maxX = x;
            if(y < minY) minY = y; if(y > maxY) maxY = y;
          }
        }
      }
      if(!found) return null;
      const cw = Math.max(1, maxX - minX + 1);
      const ch = Math.max(1, maxY - minY + 1);
      return { minX, minY, cw, ch, W, H };
    }catch(e){
      // Tainted canvas || other issue: bail out quietly
      return null;
    }
  }

  function targetBoxPx(el){
    const elStyle = (el && el.nodeType===1) ? getComputedStyle(el) : null;
    const base = (elStyle ? parseFloat(elStyle.getPropertyValue('--marker-size')) : NaN) || parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--marker-size')) || 36;
    const styleRoot = getComputedStyle(document.documentElement);
    const userScale = parseFloat(styleRoot.getPropertyValue('--marker-scale-user')) || 1;
    const styleRoot = getComputedStyle(document.documentElement);
    const userScale = parseFloat(styleRoot.getPropertyValue('--marker-scale-user')) || 1;
    // Desktop/mobile base from CSS variable, fall back to 36
    const style = getComputedStyle(document.documentElement);
    const base = parseFloat(style.getPropertyValue('--marker-size')) || 36;
    // Keep our output box modest to prevent crowding; previous code used *1.4
    return Math.max(8, Math.round(base * 1.1 * userScale));
  }

  function rasterizeCrop(img, bounds, target, allowUpscale){
    const { minX, minY, cw, ch } = bounds;
    const out = document.createElement('canvas'), octx = out.getContext('2d');
    out.width = target; out.height = target;
    const scaleCand = Math.min(target / cw, target / ch);
    const scale = allowUpscale ? scaleCand : Math.min(1, scaleCand); // downscale-only by default
    const dw = Math.round(cw * scale), dh = Math.round(ch * scale);
    const dx = Math.floor((target - dw) / 2), dy = Math.floor((target - dh) / 2);
    octx.clearRect(0,0,target,target);
    octx.imageSmoothingEnabled = true;
    octx.imageSmoothingQuality = 'high';
    octx.drawImage(img, minX, minY, cw, ch, dx, dy, dw, dh);
    return out.toDataURL('image/png');
  }

  function normalizeWithBounds(el, ghost, bounds, target){
    // Use cache per original URL + target for correctness
    const key = (ghost.currentSrc || ghost.src) + "::" + target + "::downscaleOnly";
    if(CACHE.has(key)){
      el.src = CACHE.get(key);
      el.dataset.normDone = "1";
      return;
    }
    try{
      const dataURL = rasterizeCrop(ghost, bounds, target, /*allowUpscale*/ false);
      CACHE.set(key, dataURL);
      el.src = dataURL;
      el.dataset.normDone = "1";
    }catch(e){
      // graceful: leave original
      el.dataset.normDone = "1";
    }
  }

  function processElement(el){
    if(!el || el.dataset.normIgnore) return;
    const url = el.dataset.orig || el.currentSrc || el.src;
    if(!url) return;

    // Remember original source to allow future reprocessing
    if(!el.dataset.orig) el.dataset.orig = url;
    ICONS.add(el);

    const ghost = new Image();
    ghost.crossOrigin = 'anonymous';
    ghost.decoding = 'async';
    ghost.src = url;

    const finalize = (bounds)=>{
      if(!bounds){ el.dataset.normDone = "1"; return; }
      // Update global min visual size (largest side of visual content)
      const vis = Math.max(bounds.cw, bounds.ch);
      if(vis && isFinite(vis) && vis > 0){
        const t = targetBoxPx(el);
        let g = GROUPS.get(t); if(!g){ g = { min: Infinity }; GROUPS.set(t, g); }
        if(vis < g.min){ g.min = vis; queueReprocessAll(); }
        else if(g.min === Infinity){ g.min = vis; }
      }
      const t = targetBoxPx(el);
      let g = GROUPS.get(t); if(!g){ g = { min: Infinity }; GROUPS.set(t, g); }
      const target = Math.min(t, g.min || t);
      normalizeWithBounds(el, ghost, bounds, target);
    };

    (ghost.decode ? ghost.decode() : Promise.resolve())
      .then(()=>{
        const b = computeBounds(ghost);
        finalize(b);
      })
      .catch(()=>{ el.dataset.normDone = "1"; });
  }

  let reprocessQueued = false;
  function queueReprocessAll(){
    if(reprocessQueued) return;
    reprocessQueued = true;
    const run = ()=>{
      reprocessQueued = false;
      const t = targetBoxPx(el);
      let g = GROUPS.get(t); if(!g){ g = { min: Infinity }; GROUPS.set(t, g); }
      const target = Math.min(t, g.min || t);
      ICONS.forEach(el=>{
        const url = el.dataset.orig || el.currentSrc || el.src;
        if(!url) return;
        const ghost = new Image();
        ghost.crossOrigin = 'anonymous';
        ghost.decoding = 'async';
        ghost.src = url;
        (ghost.decode ? ghost.decode() : Promise.resolve())
          .then(()=>{
            const b = computeBounds(ghost);
            if(b) normalizeWithBounds(el, ghost, b, target);
          }).catch(()=>{});
      });
    };
    if('requestIdleCallback' in window){
      requestIdleCallback(run, { timeout: 1000 });
    }else{
      setTimeout(run, 120);
    }
  }

  function scan(root, reprocessAll=false){
    (root.querySelectorAll ? root : document).querySelectorAll('#mapArea .marker img.weather-icon:not([data-norm-ignore])')
      .forEach(el=>processElement(el, reprocessAll));
  }

  // Observe newly added markers
  const mo = new MutationObserver(list => {
    for(const m of list){
      for(const n of m.addedNodes || []){
        if(n.nodeType !== 1) continue;
        if(n.matches && n.matches('#mapArea .marker img.weather-icon')) processElement(n); queueReprocessAll();
        scan(n); queueReprocessAll();
      }
    }
  });

  function init(){
    if(ready) return;
    ready = true;
    scan(document);
    try{ mo.observe(document.body, { childList:true, subtree:true }); }catch(e){}
  }

  if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
  else init();
  try{
    window.addEventListener('markerSizeChanged', ()=>{ GROUPS.clear(); queueReprocessAll(); }, {passive:true});
    window.addEventListener('markerScaleChanged', ()=>{ GROUPS.clear(); queueReprocessAll(); }, {passive:true});
  }catch(e){}

    // Double-pass after load to ensure final uniform size on late assets (esp. mobile)
    try{
      setTimeout(queueReprocessAll, 250);
      setTimeout(queueReprocessAll, 1000);
    }catch(e){}
    
  ;window._reprocessWeatherIcons = queueReprocessAll;
  try{ window.addEventListener('markerScaleChanged', ()=>queueReprocessAll(), {passive:true}); }catch(e){}
  
})();
</script>
<style id="intro-previsioni-css">
/* === Intro Previsioni (compatto, uniforme) === */
#pageIntro.panel.intro{
  padding:.9rem 1.05rem;
  margin: 6px auto 12px;
}
#pageIntro .intro-title{
  font-family:'Baloo 2',cursive;
  font-weight:800;
  font-size:clamp(18px,3.6vw,22px);
  line-height:1.1;
  margin-bottom:.25rem;
}
#pageIntro .intro-text{
  font-size:.95rem;
  opacity:.95;
  margin:.15rem 0;
}
#pageIntro .intro-cta{
  display:flex; align-items:center; gap:.6rem; flex-wrap:wrap; margin-top:.35rem;
}
#pageIntro .btn-mlg-map{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.5rem .85rem; border-radius:12px; font-weight:800;
  background:linear-gradient(135deg,var(--accent),var(--accent2)); color:#000;
  text-decoration:none;
}
#pageIntro .btn-mlg-map i{ font-size:1rem; }
#pageIntro .intro-note{ font-size:.9rem; color:var(--text-dim); }
#pageIntro .intro-mini{ font-size:.88rem; color:var(--text-dim); margin-top:.35rem; }
@media(max-width:600px){
  #pageIntro.panel.intro{ padding:.8rem .9rem; margin: 6px auto 10px; }
  #pageIntro .intro-text{ font-size:.92rem; }
  #pageIntro .intro-mini{ font-size:.84rem; }
}
</style>
<script id="intro-previsioni-link">
// Consenti di impostare l'URL della MLG Map da una variabile globale senza toccare l'HTML
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  var url = window.MLG_MAP_URL || "https://www.meteologullo.com/stazioni-meteorologiche-mlg";
  var btn = document.getElementById("btnMlgMap");
  if(btn) btn.href = url;
  document.querySelectorAll('#pageIntro a[data-mlg-map="1"]').forEach(function(a){ a.href = url; });
})();
</script>
<style id="marker-mobile-resize-2025-08-12">
/* === Marker size & overlap fixes (2025-08-12) === */
/* Desktop & Mobile presets: keep desktop close to current, make mobile clearly smaller */
:root{
  --marker-size-desktop: clamp(22px, 1.8vw, 42px);
  --marker-size-mobile: clamp(14px, 3.6vw, 26px);
}
@media (min-width:601px){
  :root{ --marker-size: var(--marker-size-desktop); }
}
@media (max-width:600px){
  :root{ --marker-size: var(--marker-size-mobile); }

  /* Shrink FA and IMG boxes slightly vs old 1.4x ratio to prevent overlaps */
  #mapArea .marker i,
  #mapArea .marker .fa-solid,
  #mapArea .marker .fa-regular,
  #mapArea .marker .fa-light,
  #mapArea .marker .fa-duotone,
  #mapArea .marker .fa{
    font-size: calc(var(--marker-size-el) * 1.05) !important;
    width: calc(var(--marker-size-el) * 1.05) !important;
    height: calc(var(--marker-size-el) * 1.05) !important;
    line-height: var(--marker-size-el) !important;
  }
  #mapArea .marker img.weather-icon{
    width: calc(var(--marker-size-el) * 1.05) !important;
    height: calc(var(--marker-size-el) * 1.05) !important;
  }

  /* Stop floating animation that can visually increase overlap */
  #mapArea .marker i{ animation: none !important; }
}
</style>
<style id="marker-scale-user-2025-08-12">
/* === User-controlled marker scale (2025-08-12) ===
   - Default keeps desktop as-is; mobile can be tuned via --marker-scale-user
   - You can override at runtime: document.documentElement.style.setProperty('--marker-scale-user','0.75')
*/
:root{
  --marker-scale-user: 1;
  --marker-box-factor: 1.05; /* harmonizes visual box vs real glyph size */
}
/* Apply the user scale to icon boxes */
#mapArea .marker{ --marker-size-el: var(--marker-size-local, var(--marker-size)); }
#mapArea .marker i,
#mapArea .marker .fa-solid,
#mapArea .marker .fa-regular,
#mapArea .marker .fa-light,
#mapArea .marker .fa-duotone,
#mapArea .marker .fa,
#mapArea .marker img.weather-icon{
  width: calc(var(--marker-size-el) * var(--marker-box-factor) * var(--marker-scale-user)) !important;
  height: calc(var(--marker-size-el) * var(--marker-box-factor) * var(--marker-scale-user)) !important;
}
#mapArea .marker i{
  font-size: calc(var(--marker-size-el) * var(--marker-box-factor) * var(--marker-scale-user)) !important;
  line-height: calc(var(--marker-size-el) * var(--marker-scale-user)) !important;
}
</style>
<script id="marker-scale-controller-2025-08-12">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const PARAMS = new URLSearchParams(location.search);
  const KEY = "markerScaleUser";
  const clamp = v => Math.min(1, Math.max(0.4, v)); // allow downscaling down to 40%

  function applyScale(v, persist=true){
    if(!(v>0)) return;
    v = clamp(v);
    document.documentElement.style.setProperty('--marker-scale-user', String(v));
    if(persist){
      try{ localStorage.setItem(KEY, String(v)); }catch(e){}
    }
    try{ if(window._reprocessWeatherIcons) window._reprocessWeatherIcons(); }catch(e){}
    window.dispatchEvent(new CustomEvent("markerScaleChanged", { detail: v }));
  }

  // Initialize from URL ?markerScale=0.8 || ?iconScale=0.8, then localStorage
  let init = PARAMS.get('markerScale') || PARAMS.get('iconScale');
  if(init !== null){
    const v = parseFloat(init);
    if(v>0) applyScale(v, /*persist*/true);
  }else{
    let v = NaN;
    try{ v = parseFloat(localStorage.getItem(KEY)); }catch(e){}
    if(v>0) applyScale(v, /*persist*/false);
  }

  // Expose helpers
  window.setMarkerScale = (v)=>applyScale(parseFloat(v), true);
  window.getMarkerScale = ()=>parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--marker-scale-user'))||1;

  // Optional on-page tuner: add &showIconTuner=1 to URL to get a tiny slider
  if(PARAMS.get('showIconTuner') === '1'){
    const wrap = document.createElement('div');
    wrap.style.position = 'fixed';
    wrap.style.zIndex = '2147483647';
    wrap.style.right = '10px';
    wrap.style.bottom = '10px';
    wrap.style.background = 'rgba(0,0,0,0.6)';
    wrap.style.color = '#fff';
    wrap.style.padding = '8px 10px';
    wrap.style.borderRadius = '10px';
    wrap.style.fontSize = '12px';
    wrap.style.fontFamily = 'system-ui, sans-serif';
    wrap.style.backdropFilter = 'blur(4px)';
    wrap.title = 'Ridimensiona marker (0.4 ‚Äì 1.0)';
    const label = document.createElement('label');
    label.textContent = 'Marker:';
    label.style.marginRight = '6px';
    const input = document.createElement('input');
    input.type = 'range';
    input.min = '0.4'; input.max = '1'; input.step = '0.01';
    input.value = String(window.getMarkerScale());
    input.style.width = '120px';
    input.addEventListener('input', ()=>applyScale(parseFloat(input.value), true));
    wrap.appendChild(label); wrap.appendChild(input);
    document.body.appendChild(wrap);
  }

  // === Font-comp override via URL/localStorage ===
  const KEY_FA = "faScaleOverrides.v1";
  function applyFaScales(map, persist=true){
    if(!map) return;
    const root = document.documentElement;
    const set = (k,v)=>{ if(v>0){ root.style.setProperty(k, String(v)); } }
    // keys: faScale (all), faScaleSolid, faScaleRegular, faScaleLight, faScaleDuotone, faScaleFallback
    if(map.faScale){ set('--fa-scale-solid', map.faScale); set('--fa-scale-regular', map.faScale); set('--fa-scale-light', map.faScale); set('--fa-scale-duotone', map.faScale); set('--fa-scale-fallback', map.faScale); }
    if(map.faScaleSolid){ set('--fa-scale-solid', map.faScaleSolid); }
    if(map.faScaleRegular){ set('--fa-scale-regular', map.faScaleRegular); }
    if(map.faScaleLight){ set('--fa-scale-light', map.faScaleLight); }
    if(map.faScaleDuotone){ set('--fa-scale-duotone', map.faScaleDuotone); }
    if(map.faScaleFallback){ set('--fa-scale-fallback', map.faScaleFallback); }
    if(persist){ try{ localStorage.setItem(KEY_FA, JSON.stringify(map)); }catch(e){} }
  }
  // parse URL params
  const FA_KEYS = ['faScale','faScaleSolid','faScaleRegular','faScaleLight','faScaleDuotone','faScaleFallback'];
  const faFromUrl = {};
  for (const k of FA_KEYS){
    const v = PARAMS.get(k);
    if(v!==null){
      const n = parseFloat(v);
      if(n>0) faFromUrl[k] = n;
    }
  }
  if(Object.keys(faFromUrl).length) applyFaScales(faFromUrl, /*persist*/true);
  else{
    try{
      const saved = JSON.parse(localStorage.getItem(KEY_FA) || '{}');
      if(saved && Object.keys(saved).length) applyFaScales(saved, /*persist*/false);
    }catch(e){}
  }
  // Expose helper
  window.setFaScale = (overrides)=>applyFaScales(overrides||{}, true);

})();
</script>
<style id="fa-compensator-2025-08-12">
/* === Font Icon Visual Compensator (2025-08-12) ===
   Obiettivo: allineare visivamente le icone Font Awesome alle immagini normalizzate.
   - Usa trasformazione in-place (non cambia la box, quindi nessun impatto su layout/overlap)
   - Clip attivo per evitare bleed
*/
:root{
  /* Valori di default prudenziali (mobile leggermente pi√π "pompato") */
  --fa-scale-solid: 1.12;
  --fa-scale-regular: 1.14;
  --fa-scale-light: 1.18;
  --fa-scale-duotone: 1.10;
  --fa-scale-fallback: 1.12;
}

#mapArea .marker{ overflow: hidden; }

#mapArea .marker i,
#mapArea .marker .fa-solid,
#mapArea .marker .fa-regular,
#mapArea .marker .fa-light,
#mapArea .marker .fa-duotone,
#mapArea .marker .fa{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transform-origin: center center;
  will-change: transform;
}

/* Mappa le classi FA su variabili dedicate; se non matcha, usa fallback */
#mapArea .marker .fa-solid{ --fa-comp-scale: var(--fa-scale-solid); }
#mapArea .marker .fa-regular{ --fa-comp-scale: var(--fa-scale-regular); }
#mapArea .marker .fa-light{ --fa-comp-scale: var(--fa-scale-light); }
#mapArea .marker .fa-duotone{ --fa-comp-scale: var(--fa-scale-duotone); }
#mapArea .marker i:not(.fa-solid):not(.fa-regular):not(.fa-light):not(.fa-duotone),
#mapArea .marker .fa{ --fa-comp-scale: var(--fa-scale-fallback); }

/* Applica la compensazione con un leggero limite superiore per evitare clipping eccessivo */
@media (max-width:600px){
  #mapArea .marker i,
  #mapArea .marker .fa-solid,
  #mapArea .marker .fa-regular,
  #mapArea .marker .fa-light,
  #mapArea .marker .fa-duotone,
  #mapArea .marker .fa{
    transform: scale( clamp(0.85, var(--fa-comp-scale), 1.22) );
  }
}
@media (min-width:601px){
  /* Desktop: compensazione pi√π soft, ma comunque attiva */
  :root{
    --fa-scale-solid: 1.08;
    --fa-scale-regular: 1.10;
    --fa-scale-light: 1.14;
    --fa-scale-duotone: 1.06;
    --fa-scale-fallback: 1.10;
  }
  #mapArea .marker i,
  #mapArea .marker .fa-solid,
  #mapArea .marker .fa-regular,
  #mapArea .marker .fa-light,
  #mapArea .marker .fa-duotone,
  #mapArea .marker .fa{
    transform: scale( clamp(0.9, var(--fa-comp-scale), 1.16) );
  }
}
</style>
<script id="marker-size-api-2025-08-12">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const d = document, root = d.documentElement;
  function px(v){ return (typeof v==='number') ? (v+'px') : (''+v); }
  function dispatch(){ try{ window.dispatchEvent(new CustomEvent('markerSizeChanged')); }catch(e){} }

  function setMarkerSize(v){
    root.style.setProperty('--marker-size', px(v));
    dispatch();
    try{ if(window._reprocessWeatherIcons) window._reprocessWeatherIcons(); }catch(e){}
  }

  function setMarkerSizeFor(elOrSelector, v){
    const els = [];
    if(typeof elOrSelector === 'string'){
      document.querySelectorAll(elOrSelector).forEach(e=>els.push(e));
    }else if(elOrSelector && typeof elOrSelector.length === 'number'){
      for(const e of elOrSelector){ els.push(e); }
    }else if(elOrSelector && elOrSelector.nodeType === 1){
      els.push(elOrSelector);
    }
    for(const el of els){
      const box = el.closest ? (el.closest('#mapArea .marker') || el) : el;
      box.style.setProperty('--marker-size-local', px(v));
    }
    dispatch();
    try{ if(window._reprocessWeatherIcons) window._reprocessWeatherIcons(); }catch(e){}
  }

  function bindMarkerSizeInput(inputOrSelector, opts){
    const el = typeof inputOrSelector==='string' ? document.querySelector(inputOrSelector) : inputOrSelector;
    if(!el) return;
    const min = (opts && opts.min) || 12, max = (opts && opts.max) || 64;
    const update = ()=>{
      let v = parseFloat(el.value);
      if(!(v>0)) return;
      v = Math.max(min, Math.min(max, v));
      setMarkerSize(v);
    };
    el.addEventListener('input', update);
    el.addEventListener('change', update);
  }

  window.setMarkerSize = setMarkerSize;
  window.setMarkerSizeFor = setMarkerSizeFor;
  window.bindMarkerSizeInput = bindMarkerSizeInput;
})();
</script>
<style id="mlg-marker-children-guard">
/* Visual safety: keep only the last child visible inside a marker */
#mapArea .marker > *:not(:last-child){ display:none !important; }
</style>
<style id="intro-auto-hide-css">
/* Auto-hide intro panel + toggle button (ChatGPT injected) */
#pageIntro{ 
  transition: opacity .35s ease, max-height .35s ease, margin .35s ease, padding .35s ease;
  overflow:hidden; max-height:1000px;
}
#pageIntro.is-hidden{
  opacity:0; max-height:0; margin:0; padding:0 .9rem;
}
/* Toggle button (top-right) */
.intro-toggle{
  position:fixed; top:10px; right:10px; z-index:1100;
  display:none; align-items:center; gap:.45rem;
  border:none; border-radius:999px; padding:.5rem .8rem;
  font-weight:800; cursor:pointer;
  background:linear-gradient(135deg,var(--accent,#7de1ff),var(--accent2,#aefb8f)); color:#000;
  box-shadow:0 6px 14px rgba(0,0,0,.25);
}
.intro-toggle.show{ display:flex; }
.intro-toggle svg{ width:16px; height:16px; }
@media (max-width:600px){
  .intro-toggle{ top:8px; right:8px; padding:.45rem .7rem; }
}
@media (prefers-reduced-motion:reduce){
  #pageIntro{ transition:none; }
}
</style>


<style id="icon-contrast-fix-2025-09-05">
/* === FIX CONTRASTO ICONE ‚Äî DAY ONLY (ULTRA-SOFT) ===
   Un filo meno intenso della versione SOFT */
img.weather-icon{
  filter:
    drop-shadow(0 0 0.6px rgba(0,0,0,.64))
    drop-shadow(0 1px 0 rgba(0,0,0,.64))
    drop-shadow(0 -1px 0 rgba(0,0,0,.64))
    drop-shadow(1px 0 0 rgba(0,0,0,.64))
    drop-shadow(-1px 0 0 rgba(0,0,0,.64))
    drop-shadow(0 2px 6px rgba(0,0,0,.24)) !important;
  image-rendering: optimizeQuality;
  mix-blend-mode: normal;
}

/* FontAwesome: stessa attenuazione */
i[class*="fa-"]{
  text-shadow:
    0 0 1px rgba(0,0,0,.64),
    0 1px 0 rgba(0,0,0,.64),
    0 -1px 0 rgba(0,0,0,.64),
    1px 0 0 rgba(0,0,0,.64),
    -1px 0 0 rgba(0,0,0,.64),
    0 2px 6px rgba(0,0,0,.24) !important;
}

details.part summary h4{ text-shadow: 0 1px 2px rgba(0,0,0,.26); }
</style>

<style id="forecast-focus-css">
/* === Forecast Focus (non‚Äëdistruttivo) ‚Äî quando c'√® una ricerca, la previsione sale al posto della mappa === */
#widget{ position: relative; }

/* Animazioni morbide */
#mapArea{ transition: transform .35s ease, opacity .35s ease, margin .35s ease, height .35s ease; }
#forecast{ transition: transform .35s ease, margin .35s ease; }

/* Stato attivo: solo previsione in alto */
#widget.forecast-only{
  grid-template-columns: 1fr !important;
  grid-template-areas: "header" "forecast" "bottom" !important;
}
#widget.forecast-only #mapArea{
  transform: translateY(24px);
  opacity: 0;
  pointer-events: none;
  height: 0 !important;
  margin: 0 !important;
}

/* Il tavolo previsioni occupa lo spazio della mappa */
#widget.forecast-only #forecast{
  grid-area: map;               /* prende lo slot della mappa */
  margin: 0 14px 14px 14px !important;
}

/* Su mobile: assicura che la tabella sia visibile (override di eventuali display:none) */
@media (max-width: 600px){
  #widget.forecast-only #forecast{
    display: table !important;
  }
}

/* Pulsantino "indietro" minimale */


#forecastBack{
  position: fixed;        /* fisso rispetto alla finestra */
  top: 16px;              /* verr√† riposizionato via JS, questi sono i fallback */
  left: 16px;
  z-index: 9999;
  display: none;
  pointer-events: none;
}


#forecastBack button{
  pointer-events: all;
  width: 38px;
  height: 38px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(0,0,0,.32);
  backdrop-filter: blur(8px);
  color: #fff;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: .9;
  transition: opacity .2s ease, transform .1s ease;
  box-shadow: 0 2px 10px rgba(0,0,0,.35);
}

#forecastBack button:hover{ opacity: .92; }
#forecastBack button:active{ transform: translateY(1px); }
#widget.forecast-only 
#forecastBack{
  position: fixed;        /* fisso rispetto alla finestra */
  top: 16px;              /* verr√† riposizionato via JS, questi sono i fallback */
  left: 16px;
  z-index: 9999;
  display: none;
  pointer-events: none;
}

@media (max-width: 600px){
  
#forecastBack button{
  pointer-events: all;
  width: 38px;
  height: 38px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(0,0,0,.32);
  backdrop-filter: blur(8px);
  color: #fff;
  cursor: pointer;
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: .9;
  transition: opacity .2s ease, transform .1s ease;
  box-shadow: 0 2px 10px rgba(0,0,0,.35);
}

}
    
</style>


<style id="mlg-sync-badges-css">
#mlgLogoBadge, #mlgTopDate{ position:absolute; z-index:8; font-family:inherit; }
#mlgLogoBadge{
  right:14px; bottom:14px;
  display:flex; align-items:center; justify-content:center;
  padding:10px 12px;
  background:rgba(0,0,0,.10);
  border-radius:14px;
  box-shadow:0 8px 18px rgba(0,0,0,.18);
  pointer-events:none;
}
#mlgLogoBadge img{
  height:100px;
  display:block;
  filter: drop-shadow(0 0 1px rgba(0,0,0,.5))
          drop-shadow(0 4px 10px rgba(0,0,0,.35));
}
#mlgTopDate{
  right:14px; top:8px;
  padding:6px 10px;
  background:rgba(0,0,0,.36);
  color:#fff; border-radius:10px; font-weight:600; font-size:13px;
  text-shadow:0 1px 2px rgba(0,0,0,.55);
  backdrop-filter:blur(4px);
  box-shadow:0 2px 8px rgba(0,0,0,.25);
  pointer-events:none;
}
@media (max-width:600px){
  #mlgLogoBadge{ right:12px; bottom:12px; padding:8px 10px; }
  #mlgLogoBadge img{ height:84px; }
  #mlgTopDate{ right:12px; top:8px; transform:scale(.96); }
}
</style>


<style id="narrative-empty-hide-2025-09">
/* Nascondi la sintesi finch√© √® vuota */
#narrativeBox:empty{ display:none !important; }
</style>


<!-- === PATCH: headline sopra il 7-giorni (compact) === -->
<style id="mlg-search-headline-css">
#searchHeadline{ 
  margin: .25rem auto .5rem auto; 
  padding: .25rem .5rem;
  width: min(100%, 980px);
  font-weight: 700;
  font-size: clamp(14px, 3.7vw, 18px);
  line-height: 1.4;
  backdrop-filter: none;
  background: transparent;
  border: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
#searchHeadlineTitle{ display:inline; }
</style>


<style id="mini-bollettino-css">
#miniBollettino .mb-btn{
  background:var(--clr-accent,#facc15);
  color:#000;border:none;border-radius:10px;
  padding:.35rem .75rem;font-weight:800;cursor:pointer
}
#miniBollettino .mb-btn:disabled{opacity:.6;cursor:not-allowed}
#miniBollettino .tag{display:inline-block;margin-right:.35rem;padding:.08rem .45rem;border-radius:999px;background:rgba(255,255,255,.14);font-size:.85em}
</style>

<!-- === FIX 2025‚Äë09‚Äë11: Keep dayParts in a single horizontal row on mobile === -->
<style id="fix-dayparts-row-mobile-2025-09-11">
/* Force day-parts to stay inline (row) on phones, overriding older grid rules */
@media (max-width: 700px){
  #dayParts .parts{
    display:flex !important;
    flex-wrap:nowrap !important;
    gap:0.5rem !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch !important;
    scroll-snap-type:x proximity;
  }
  #dayParts .part{
    flex:0 0 auto !important;
    min-width:72px !important;   /* keeps each panel readable */
    scroll-snap-align:start;
  }
  /* Neutralize any grid leftovers */
  #dayParts .parts{ grid-template-columns:none !important; }
  /* Ensure icons/text don't wrap awkwardly inside */
  #dayParts .part h4{ white-space:nowrap; }
}
</style>

<style id="fix-dayparts-row-mobile-2025-09-11B">
@media (max-width: 700px){
  /* Row-only layout with horizontal scroll ‚Äî no vertical expansion */
  #dayParts .parts{
    display:grid !important;
    grid-template-columns:none !important;
    grid-auto-flow:column !important;
    grid-auto-columns:minmax(96px, 1fr) !important;
    gap:8px !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch !important;
    scroll-snap-type:x proximity;
  }
  /* Make each card compact and snap nicely */
  #dayParts .parts > .part{
    min-width:0 !important;
    scroll-snap-align:start;
  }
  /* Do NOT grow to full row when "open" on mobile */
  #dayParts .parts > .part[open]{
    width:auto !important;
    max-width:none !important;
  }
  /* Collapse internal detail inside the day-part on phones
     (the expanded view is handled elsewhere in the page) */
  #dayParts .part .detail{ display:none !important; }
}
</style>

<style id="fix-dayparts-row-mobile-2025-09-11C">
@media (max-width: 700px){
  /* Small, side-by-side cards */
  #dayParts .parts{
    display:grid !important;
    grid-auto-flow:column !important;
    grid-template-columns:none !important;
    grid-auto-columns:clamp(84px, 26vw, 112px) !important;
    gap:8px !important;
    overflow-x:auto !important;
    -webkit-overflow-scrolling:touch !important;
    scroll-snap-type:x mandatory;
    padding-bottom:4px; /* room for scrollbar */
  }
  #dayParts .parts > .part{
    flex:0 0 auto !important;
    min-width:clamp(84px, 26vw, 112px) !important;
    max-width:clamp(84px, 26vw, 112px) !important;
    scroll-snap-align:start;
    margin:0 !important;
  }

  /* Keep cards compact: prevent tall growth */
  #dayParts .part .detail,
  #dayParts .part[open] .detail{ display:none !important; }
  #dayParts .part[open]{ width:auto !important; max-width:unset !important; }

  /* Text hygiene */
  #dayParts .part h4,
  #dayParts .part .label,
  #dayParts .part .temp { 
      white-space:nowrap !important; 
      overflow:hidden !important; 
      text-overflow:ellipsis !important;
  }
  #dayParts .part h4{ font-size:0.9rem !important; }
  #dayParts .part .temp{ font-size:1rem !important; }

  /* Images/icons shouldn't stretch the card */
  #dayParts .part img, 
  #dayParts .part svg{ max-height:36px !important; width:auto !important; }
}
</style>

<!-- === 2025-09-11D: Remove hint + compact sizing on mobile === -->
<style id="fix-dayparts-compact-2025-09-11D">
@media (max-width: 700px){
  /* overall section tighter */
  #dayParts{ margin:6px 0 !important; }
  /* smaller side-by-side cards */
  #dayParts .parts{
    gap:6px !important;
    grid-auto-columns:clamp(72px, 22vw, 96px) !important;
    padding-bottom:2px !important;
  }
  #dayParts .parts > .part{
    min-width:clamp(72px, 22vw, 96px) !important;
    max-width:clamp(72px, 22vw, 96px) !important;
    padding:8px !important;
    border-radius:14px !important;
  }
  #dayParts .part h4{ font-size:0.82rem !important; line-height:1.05 !important; }
  #dayParts .part .temp{ font-size:0.92rem !important; line-height:1.1 !important; }
  #dayParts .part img, 
  #dayParts .part svg{ max-height:32px !important; width:auto !important; }

  /* hide any subtext/notes below the row to save space */
  #dayParts .hint, 
  #dayParts .help, 
  #dayParts .subtitle{ display:none !important; }
}
</style>

<script id="remove-tap-hint-2025-09-11D">
document.addEventListener('DOMContentLoaded', function(){
  var root = document.querySelector('#dayParts') || document;
  var sels = 'p,span,small,div,h1,h2,h3,h4,h5,h6';
  root.querySelectorAll(sels).forEach(function(el){
    var t = (el.innerText || '').trim();
    if(!t) return;
    if(t.startsWith('Tocca un pannello')){
      // remove the node or hide its closest small wrapper
      var target = el;
      // if it sits inside a tiny wrapper with no other visible content, remove wrapper
      if (el.parentElement && el.parentElement.children.length === 1) target = el.parentElement;
      target.remove();
    }
  });
});
</script>

<!-- === 2025-09-11E: Hide pseudo-element hint + extra-compact mobile sizing === -->
<style id="fix-dayparts-compact-2025-09-11E">
/* Remove the pseudo-element hint everywhere */
#dayParts .parts::after,
.card #dayParts .parts::after,
.card .parts::after{
  content: none !important;
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}
@media (max-width: 700px){
  #dayParts{ margin:4px 0 !important; }
  #dayParts .parts{
    gap:4px !important;
    grid-auto-columns:clamp(64px, 20vw, 88px) !important;
    padding-bottom:1px !important;
  }
  #dayParts .parts > .part{
    min-width:clamp(64px, 20vw, 88px) !important;
    max-width:clamp(64px, 20vw, 88px) !important;
    padding:6px !important;
    border-radius:12px !important;
  }
  #dayParts .part h4{ font-size:0.78rem !important; line-height:1.02 !important; }
  #dayParts .part .temp{ font-size:0.90rem !important; line-height:1.05 !important; }
  #dayParts .part img, 
  #dayParts .part svg{ max-height:28px !important; width:auto !important; }
}
</style>
<style id="mlg-banner-style">
/* === MLG Banner (inserito) =============================================== */
:root{
  --mlg-blue:#1e43a5;
  --mlg-blue-2:#163a93;
}
.mlg-banner{ 
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
  background:linear-gradient(180deg,var(--mlg-blue),var(--mlg-blue-2));
  color:#fff;
  box-shadow:0 6px 16px rgba(0,0,0,.28);
  border-radius:0; /* edge-to-edge */
}
.mlg-banner .mlg-inner{
  max-width:1100px; margin:0 auto;
  display:flex; align-items:center; gap:14px;
  padding:12px 16px;
}
.mlg-title{ display:flex; align-items:center; gap:10px; font-weight:800; 
            letter-spacing:.2px; font-size:clamp(18px,2.4vw,22px); }
.mlg-dot{ width:11px; height:11px; border-radius:50%; background:#cfe0ff;
          box-shadow:0 0 0 3px #ffffff33; flex:0 0 auto;}
.mlg-nav{ margin-left:auto; display:flex; gap:10px; flex-wrap:wrap; }
.mlg-pill{ display:inline-flex; align-items:center; justify-content:center;
           padding:10px 16px; border-radius:999px; font-weight:700; 
           text-decoration:none; color:#fff; background:#ffffff18; 
           border:1px solid #ffffff2b; transition:background .15s, transform .05s; }
.mlg-pill:hover{ background:#ffffff2e; }
.mlg-pill:active{ transform:translateY(1px); }
.mlg-toggle{ display:none; margin-left:auto; border:1px solid #ffffff2b; 
             background:#ffffff18; color:#fff; font-weight:800; 
             border-radius:999px; padding:10px 14px; cursor:pointer; }
.mlg-menu{ display:none; border-top:1px solid #ffffff24; 
           background:linear-gradient(180deg,var(--mlg-blue-2),#102b78); }
.mlg-menu.open{ display:block; }
.mlg-menu .mlg-grid{ max-width:1100px; margin:0 auto; padding:10px 16px 14px;
                     display:grid; gap:10px; grid-template-columns:repeat(2,minmax(0,1fr)); }
.mlg-menu .mlg-pill{ justify-content:center; }
@media (max-width: 860px){
  .mlg-nav{ display:none; }
  .mlg-toggle{ display:inline-flex; }
}
@media (min-width: 861px){
  .mlg-menu{ display:none !important; }
}
/* Per sicurezza: evita contenuti decorativi indesiderati da CSS globali */
.mlg-banner *::before, .mlg-banner *::after{ content: normal !important; }


/* Reset top gap and polish spacing */
html, body { margin: 0 !important; }
.mlg-banner { position: relative; margin-bottom: 14px; }

/* Mobile chip scroller */
@media (max-width: 860px){
  .mlg-inner{ flex-wrap: wrap; align-items: flex-start; row-gap: 8px; }
  .mlg-title{ padding-right: 6px; }
  .mlg-nav{
    order:2; width:100%;
    overflow-x:auto; overflow-y:hidden;
    flex-wrap:nowrap; gap:10px;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    padding-bottom: 6px;
    margin-left:0;
  }
  .mlg-nav::-webkit-scrollbar{ display:none; }
  .mlg-pill{ padding:9px 14px; }
}
</style>

<!-- === MLG Banner: mobile compact override (2025-09-11) === -->
<style id="mlg-banner-mobile-compact-2025-09-11">
@media (max-width: 860px){
  /* Stack title + single-row scroller, keep it tiny */
  .mlg-banner{ margin-bottom:8px !important; }
  .mlg-banner .mlg-inner{
    padding:6px 10px !important;
    row-gap:6px !important;
    flex-wrap:wrap !important;
    align-items:center !important;
  }
  .mlg-banner .mlg-title{
    width:100% !important;
    justify-content:center !important;
    text-align:center !important;
    margin:0 !important;
    gap:8px !important;
  }
  .mlg-banner .mlg-title span{ line-height:1.1 !important; }
  .mlg-banner .mlg-dot{ width:8px !important; height:8px !important; box-shadow:0 0 0 2px #ffffff33 !important; }

  /* Buttons: one single row, smaller, horizontal scroll if needed */
  .mlg-banner .mlg-nav{
    order:2 !important;
    width:100% !important;
    display:flex !important;
    flex-wrap:nowrap !important;
    overflow-x:auto !important;
    overflow-y:hidden !important;
    -webkit-overflow-scrolling:touch !important;
    gap:8px !important;
    padding:4px 6px 8px !important;
    margin:0 !important;
    scrollbar-width:none !important;
  }
  .mlg-banner .mlg-nav::-webkit-scrollbar{ display:none !important; }
  .mlg-banner .mlg-pill{
    flex:0 0 auto !important;
    padding:6px 10px !important;
    font-size:13px !important;
    line-height:1.1 !important;
  }
}
</style>

<!-- === MLG Banner: mobile compact override v2 (top gap + smaller pills) === -->
<style id="mlg-banner-mobile-compact-v2">
/* Kill default browser margins that create the white strip */
html, body { margin:0 !important; padding:0 !important; }
/* Ensure banner really sticks to the very top */
.mlg-banner{ margin-top:0 !important; border-top:0 !important; }
/* Tighter mobile layout */
@media (max-width: 860px){
  .mlg-banner .mlg-inner{
    padding:6px 10px !important;
    row-gap:4px !important;
  }
  .mlg-banner .mlg-nav{
    gap:6px !important;
    padding:2px 6px 6px !important; /* less vertical padding so buttons don't clip */
  }
  .mlg-banner .mlg-pill{
    padding:5px 9px !important;
    font-size:12px !important;
    line-height:1.1 !important;
  }
  /* Optional: slightly reduce dot size too */
  .mlg-banner .mlg-dot{ width:7px !important; height:7px !important; }
}
</style>

<!-- === MLG Auto-dismiss styles (Sezione Previsioni) === -->
<style id="mlg-auto-dismiss-css">
.mlg-autodismiss{
  will-change: height, opacity, margin;
  transition: opacity .5s ease, height .5s ease, margin .5s ease, padding .5s ease;
  overflow: hidden;
}
.mlg-autodismiss.is-hiding{
  opacity: 0;
  height: 0 !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}
</style>

<!-- === MLG BottomBar tighten (mobile) ‚Äî 2025-09-11 === -->
<style id="mlg-bottombar-tight-mobile">
/* Default: shave extra space just in case */
#mapArea{ margin-bottom: 12px !important; }
#bottomBar{ margin-top: 0 !important; }
/* Mobile-specific even tighter spacing */
@media (max-width: 860px){
  #mapArea{ margin-bottom: 8px !important; }
  #bottomBar{ margin-top: 0 !important; }
}
</style>

<!-- === MLG Map date: move to right on mobile (avoid covering map) === -->
<style id="mlg-mapdate-mobile-right">
@media (max-width: 860px){
  .map-date{
    left: auto !important;
    right: 10px !important;
    top: 10px !important;
    /* keep it discrete */
    font-size: .9rem !important;
    padding: 5px 9px !important;
  }
}
</style>

<!-- === MLG Map date: FORCE right on mobile (handles inline styles) === -->
<style id="mlg-mapdate-mobile-right-force">
@media (max-width: 860px){
  /* High-specificity fallbacks */
  #mapArea .map-date,
  .map-wrap .map-date,
  .map-date.map-date{
    position:absolute !important;
    inset: 10px 10px auto auto !important; /* top right */
    right: 10px !important;
    left: initial !important;
    transform: none !important;
  }
  /* Extra: if container has padding, stay within */
  #mapArea, .map-wrap { position: relative !important; }
}
</style>


<style id="banner-mobile-one-line-fit-strong-2025-09-11">
@media (max-width: 540px){
  .mlg-banner{
    max-width: 100vw !important;
    padding-left: max(8px, env(safe-area-inset-left)) !important;
    padding-right: max(8px, env(safe-area-inset-right)) !important;
  }
  .mlg-banner .mlg-title{
    width: 100% !important;
    text-align: center !important;
    display: block !important;
    margin: 4px 0 !important;
  }
  .mlg-banner .mlg-nav{
    display: flex !important;
    flex-wrap: nowrap !important;        /* never wrap */
    white-space: nowrap !important;
    gap: 4px !important;
    align-items: center !important;
    justify-content: center !important;   /* CENTER the row */
    text-align: center !important;
    overflow: hidden !important;          /* no horizontal scroll */
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin: 0 auto !important;
  }
  .mlg-banner .mlg-pill{
    padding: 4px 8px !important;          /* slimmer */
    font-size: 12px !important;
    line-height: 1.1 !important;
    border-width: 1px !important;
  }
}
</style>



<script id="banner-mobile-one-line-fit-strong-js-2025-09-11">
(function(){
  function fitNav(nav){
    if(!nav) return;
    // Build/ensure inner wrapper
    let inner = nav.querySelector(':scope > .mlg-fitwrap');
    if(!inner){
      inner = document.createElement('div');
      inner.className = 'mlg-fitwrap';
      while(nav.firstChild){ inner.appendChild(nav.firstChild); }
      nav.appendChild(inner);
    }
    const cs = getComputedStyle(nav);
    inner.style.display = 'inline-flex';
    inner.style.flexWrap = 'nowrap';
    inner.style.whiteSpace = 'nowrap';
    inner.style.alignItems = 'center';
    inner.style.columnGap = (cs.gap || '4px');
    inner.style.rowGap = '0px';
    inner.style.transformOrigin = 'center center';  // scale from center
    inner.style.willChange = 'transform';
    // center the wrapper itself
    inner.style.margin = '0 auto';

    // reset scale before measuring
    inner.style.transform = 'scale(1)';
    if(window.innerWidth > 540){
      return; // desktop/tablet
    }

    // Available width with safety margin
    const rect = nav.getBoundingClientRect();
    const padL = parseFloat(cs.paddingLeft) || 0;
    const padR = parseFloat(cs.paddingRight) || 0;
    const borderL = parseFloat(cs.borderLeftWidth) || 0;
    const borderR = parseFloat(cs.borderRightWidth) || 0;
    const dpr = Math.max(1, window.devicePixelRatio || 1);
    const safety = Math.max(4, Math.ceil(3 * dpr)); // 4-6 px
    const avail = Math.max(0, rect.width - padL - padR - borderL - borderR - safety);

    // content width needed (unscaled)
    const needed = inner.scrollWidth;
    if(avail > 0 && needed > 0){
      // cushion below exact fit to avoid edge clipping
      const s = Math.min(1, (avail / needed) * 0.985);
      const scale = (s > 0 && isFinite(s)) ? s : 1;
      inner.style.transform = 'scale(' + scale + ')';

      // ensure nav height fits scaled content
      const h = inner.getBoundingClientRect().height;
      nav.style.minHeight = Math.ceil(h) + 'px';
    }
  }

  function run(){
    document.querySelectorAll('.mlg-banner .mlg-nav').forEach(fitNav);
  }

  // Refit on layout changes
  const ro = new ResizeObserver(run);
  window.addEventListener('resize', run, {passive:true});
  window.addEventListener('orientationchange', run);
  document.addEventListener('DOMContentLoaded', function(){
    run();
    setTimeout(run, 50);
    setTimeout(run, 200);
    setTimeout(run, 600);
    if(document.fonts && document.fonts.ready){
      document.fonts.ready.then(run).catch(function(){});
    }
  });
  window.addEventListener('load', run);

  // Watch mutations within nav
  const mo = new MutationObserver(run);
  document.addEventListener('DOMContentLoaded', function(){
    document.querySelectorAll('.mlg-banner .mlg-nav').forEach(function(nav){
      try{
        ro.observe(nav);
        mo.observe(nav, {childList:true, subtree:true, characterData:true});
      }catch(e){}
    });
  });
})();
</script>


<style id="mlg-title-no-stripe-2025-09-11">
/* Rimuove la "striscetta bianca" a sinistra del titolo */
@media (max-width: 860px){
  .mlg-title .mlg-dot{ display:none !important; } /* nasconde il pallino decorativo */
}
/* Evita effetti di highlight/outline che possono sembrare una riga */
.mlg-title, .mlg-title *{
  -webkit-tap-highlight-color: transparent !important;
  outline: none !important;
  user-select: none !important;
}
</style>

<style id="mlg-banner-compact-2025-09-11">
/* Compatta il banner in mobile: meno blu sopra e sotto, senza stravolgere lo stile */
@media (max-width: 540px){
  .mlg-banner{
    padding-top: 8px !important;           /* prima era pi√π alto */
    padding-bottom: 8px !important;
    margin-bottom: 8px !important;         /* riduce lo spazio blu sotto i pulsanti */
  }
  .mlg-banner .mlg-inner{
    row-gap: 4px !important;               /* stringe lo spazio tra titolo e pulsanti */
    min-height: 0 !important;              /* niente altezza minima gonfiata */
  }
  .mlg-banner .mlg-title{
    margin: 2px auto 2px !important;       /* pi√π vicino ai pulsanti */
  }
  .mlg-banner .mlg-nav{
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }
  /* Se dopo il banner c'√® molta aria, riducila un po' */
  .mlg-banner + *{
    margin-top: 8px !important;
  }
}
</style>

<style id="mlg-banner-compact-plus-2025-09-11">
/* Ancora pi√π compatto sopra al titolo, senza arrivare a pelo */
@media (max-width: 540px){
  .mlg-banner{
    padding-top: 4px !important;      /* prima 8px */
    padding-bottom: 6px !important;
  }
  .mlg-banner .mlg-inner{
    row-gap: 2px !important;          /* avvicina titolo e pulsanti */
  }
  .mlg-banner .mlg-title{
    margin-top: 0 !important;
    margin-bottom: 2px !important;
    line-height: 1.05 !important;     /* stringe un filo la riga del titolo */
    font-size: clamp(18px, 5.4vw, 22px) !important; /* leggermente pi√π snello su telefoni piccoli */
  }
}
</style>

<style id="mlg-banner-bright-2025-09-11">
/* ‚Äî‚Äî‚Äî Banner pi√π luminoso + bordo giallo sul tasto Home ‚Äî‚Äî‚Äî */

/* Titolo pi√π brillante */
.mlg-banner .mlg-title{
  color: #ffffff !important;
  text-shadow: 0 2px 6px rgba(0,0,0,.45), 0 0 1px rgba(255,255,255,.18) !important;
}

/* Pill pi√π leggibili e "invoglianti" */
.mlg-banner .mlg-pill{
  color: #eef6ff !important;                     /* testo pi√π chiaro */
  border-color: rgba(255,255,255,.35) !important;/* bordo un filo pi√π visibile */
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    0 8px 16px rgba(0,0,0,.28) !important;       /* profondit√† */
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.mlg-banner .mlg-pill:hover,
.mlg-banner .mlg-pill:focus-visible{
  filter: brightness(1.12) saturate(1.05);
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.45),
    0 10px 20px rgba(0,0,0,.32) !important;
}

/* Stato attivo per "Home": solo il bordo giallo (riempimento invariato) */
.mlg-banner .mlg-pill.is-active{
  border-color: #FFD54A !important;
  box-shadow:
    inset 0 0 0 1px rgba(255,213,74,.65),
    0 0 0 2px rgba(255,213,74,.18),
    0 12px 22px rgba(0,0,0,.32) !important;
  filter: brightness(1.06) contrast(1.02);
}

/* Accessibilit√†: focus chiaro anche da tastiera */
.mlg-banner .mlg-pill:focus-visible{
  outline: 2px solid rgba(255,255,255,.45);
  outline-offset: 2px;
}

/* In mobile manteniamo le dimensioni compatte esistenti */
@media (max-width: 540px){
  .mlg-banner .mlg-pill{ color: #f5fbff !important; }
}
</style>

<script id="mlg-banner-bright-js-2025-09-11">
// Evidenzia "Home" con bordo giallo (solo bordo).
// Trova il pill corrispondente alla Home sia per testo che per href.
(function(){
  function markHome(){
    var navs = document.querySelectorAll('.mlg-banner .mlg-nav');
    navs.forEach(function(nav){
      var anchors = nav.querySelectorAll('a, button, [role="link"]');
      anchors.forEach(function(a){
        var txt = (a.textContent || '').trim().toLowerCase();
        var isHomeText = txt === 'home' || txt === 'homepage' || txt === 'inizio';
        var href = (a.getAttribute && a.getAttribute('href')) || '';
        var isHomeHref = href === '/' || /index\.html?$/.test(href || '') || href === '' || href === '#home';
        if(isHomeText || isHomeHref){
          a.classList.add('is-active');
        }
      });
    });
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', markHome);
  }else{
    markHome();
  }
  window.addEventListener('load', markHome);
})();
</script>
</head>
<script>
// --- Safe fallbacks (non-breaking) ---
window.$ = window.$ || (sel => document.querySelector(sel));
window.$$ = window.$$ || (sel => Array.from(document.querySelectorAll(sel)));
window.DAYS = Array.isArray(window.DAYS) ? window.DAYS : [];
window.CITIES = Array.isArray(window.CITIES) ? window.CITIES : [];
window.KNOWN = Array.isArray(window.KNOWN) ? window.KNOWN : [];
</script>
<body>
<header class="mlg-banner" role="banner">
  <div class="mlg-inner">
    <div class="mlg-title" aria-label="Meteo Lo Gullo">
      <span class="mlg-dot" aria-hidden="true"></span>
      <span>Meteo Lo Gullo</span>
    </div>
    <nav class="mlg-nav" aria-label="Sezioni">
      <a class="mlg-pill" href="#info" data-key="info" id="mlg-info-link">Info</a>
    <a class="mlg-pill" href="https://www.meteologullo.com/" data-key="home">Home</a>
      <a class="mlg-pill" href="https://www.meteologullo.com/stazioni-meteorologiche-mlg" data-key="mlgmap">MLG Map</a>
      <a class="mlg-pill" href="https://www.meteologullo.com/blog" data-key="news">News</a>
      <a class="mlg-pill" href="https://www.meteologullo.com/blank" data-key="chi-siamo">Chi Siamo</a>
      <a class="mlg-pill" href="https://www.meteologullo.com/blog/categories/meteo-curiosit%C3%A0" data-key="curiosita">Curiosit√†</a>
    </nav></div></div>
</header>



<!-- === Mini Bollettino Meteo (iniettato non-distruttivo) === -->
<div id="miniBollettino" class="panel" style="display:none" aria-live="polite">
  <div class="mb-head" style="display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:.4rem">
    <strong style="font-family:'Baloo 2',cursive;font-size:1.1rem">Mini bollettino ¬∑ Meteo Lo Gullo</strong>
    <div class="mb-actions" style="display:flex;gap:6px">
      <button id="mbOggi" type="button" class="mb-btn" title="Sintesi per oggi">Oggi</button>
      <button id="mbDomani" type="button" class="mb-btn" title="Sintesi per domani">Domani</button>
      <button id="mbCopia" type="button" class="mb-btn" title="Copia testo">Copia</button>
    </div>
  </div>
  <div id="mbContent" class="mb-content" style="font-size:1rem;line-height:1.35"></div>
  <div id="mbLaundry" class="mb-laundry" style="margin-top:.5rem;font-weight:700"></div>
</div>

<!-- ‚Äî‚Äî Search ‚Äî‚Äî -->
<section aria-label="Introduzione sezione Previsioni" class="panel intro" id="pageIntro">
<h2 class="intro-title">Sezione <span style="white-space:nowrap">Previsioni</span></h2>
<p class="intro-text">
    Benvenuti su www.meteologullo.com. In questa pagina trovate le <strong>previsioni per le prossime ore e i prossimi giorni</strong>.
    La <strong>mappa sottostante</strong> √® <strong>curata da MLG ‚Äì Meteo¬†Lo¬†Gullo</strong> (non √® una mappa automatica).
  </p>
<p class="intro-text">
    Le previsioni ottenute cercando una localit√† nella barra sono generate automaticamente ma
    <strong>controllate da MLG</strong>, rappresentano un‚Äô<strong>innovazione</strong> e sono
    <strong>integrate</strong> con i dati delle nostre stazioni meteorologiche (rete <em>MLG¬†Map</em>).
  </p>
<div class="intro-cta">
<a class="btn-mlg-map" href="https://www.meteologullo.com/stazioni-meteorologiche-mlg" id="btnMlgMap" rel="noopener" target="_blank">
<i class="fa-solid fa-map-location-dot"></i> Apri MLG¬†Map
    </a>
<span class="intro-note">L√¨ trovi <strong>tutti i dati in tempo reale</strong> dell‚Äôintero territorio regionale.</span>
</div>
<p class="intro-mini">
    In questa sezione sono presenti solo le <strong>previsioni del tempo</strong>.
    Per i dati in tempo reale usa <a data-mlg-map="1" href="#" rel="noopener" target="_blank">MLG¬†Map</a>.
    Scorrendo in basso trovi anche l‚Äô<a href="#mlgAiBox">Assistente</a> con cui fare domande e chiedere informazioni.
  </p>
</section>
<form class="search" id="searchForm">
<input autocomplete="off" id="cityInput" placeholder="Scrivi una citt√† o usa üìç‚Ä¶" required=""/>
<button type="submit"><i class="fa-solid fa-search"></i></button>
</form>
<!-- ‚Äî‚Äî Widget map + forecast ‚Äî‚Äî -->
<div id="widget">
<header style="display:none">
<h1 id="hDay">--</h1>
<p id="hDate"></p>
</header>
<div id="mapArea">
  <!-- === MLG | Data in alto destra (sincronizzata con barra) === -->
  <div id="mlgTopDate">‚Äî</div>

  <!-- === MLG | LOGO (synced version) === -->
  <div id="mlgLogoBadge" aria-hidden="true">
    <img src="https://meteologullo.github.io/mappamlg/logo.png" alt="MLG logo" loading="lazy">
  </div>

<img alt="Mappa Calabria" id="map" loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Map_of_region_of_Calabria%2C_Italy.svg/565px-Map_of_region_of_Calabria%2C_Italy.svg.png"/>
</div>
<!-- === AI Meteo Lo Gullo ‚Äî Chat box sotto la mappa (iniettato) === -->
<section aria-label="Assistente Meteo Lo Gullo" id="mlgAiBox" style="visibility:hidden">
<div class="mlg-ai-head">
<strong>üí¨ Meteo Lo Gullo ‚Äì Assistente</strong>
<div class="mlg-ai-head-actions">
<button id="mlgAiUseDay" title="Usa il giorno della mappa" type="button">üìÖ giorno mappa</button>
<button id="mlgAiUseMap" title="Usa localit√† dalla mappa" type="button">üó∫Ô∏è citt√† mappa</button>
</div>
</div>
<div aria-live="polite" class="mlg-ai-thread" id="mlgAiThread" role="log">
<div class="mlg-ai-msg ai">Ciao! Sono l‚Äôassistente di <b>Meteo Lo Gullo</b>. Chiedimi meteo, mare, montagna e condizioni ambientali per una zona e un momento. Es.: ‚ÄúA Cosenza come mi vesto oggi?‚Äù</div>
</div>
<form class="mlg-ai-form" id="mlgAiForm">
<input autocomplete="off" id="mlgAiInput" placeholder="Scrivi qui‚Ä¶ es: Domani vento forte a Cosenza?" required=""/>
<button aria-label="Invia" type="submit">Invia</button>
</form>
<div class="mlg-ai-suggest">
<button data-q="A Cosenza come mi vesto oggi?" type="button">Come mi vesto?</button>
<button data-q="Si sentir√† tanto caldo a Reggio Calabria oggi?" type="button">Si sentir√† caldo?</button>
<button data-q="Piover√† tanto a Catanzaro domani?" type="button">Pioggia domani</button>
<button data-q="Posso stendere i panni a Tropea oggi?" type="button">Bucato oggi?</button>
<button data-q="Dove posso leggere tutti i dati in tempo reale?" type="button">Dati in tempo reale</button>
</div>
</section>
<table aria-label="Previsioni meteo" id="forecast"></table>
<div id="bottomBar">
<button aria-label="Cambia tema" class="fab-btn" id="themeBtn" title="Cambia tema">üåô</button>
<nav aria-label="Seleziona giorno previsioni" id="nav"></nav>
<button aria-label="Pannello admin" class="fab-btn" id="fab" title="Pannello admin">‚öôÔ∏è</button>
</div>
<!-- === Map Control Panel === -->
<div id="panel">
<div id="handle"></div>
<div class="toolbar">
<label><input id="chkPin" type="checkbox"/> üìå Fissa pannello</label>
<button id="btnPeek" title="Riduci pannello">üëÅÔ∏è</button>
</div>
<h3>Modifica Giorno</h3>
<label>Giorno
      <select id="selDay"></select>
</label>
<label>Nome visualizzato
      <input id="inpDayName" type="text"/>
</label>
<label>Data visualizzata
      <input id="inpDayDate" type="text"/>
</label>
<hr style="margin:16px 0; border:none; border-top:1px solid #ddd;"/>
<h3>Modifica Marker</h3>
<label>Icona (nuovi simboli)
      <input id="inpIcon" placeholder="Sereno giorno.PNG o URL" type="text"/>
</label>
<div class="icon-picker" id="iconPicker"></div>
<label>Dimensione marker
      <input id="inpMarkerSize" max="128" min="24" step="1" type="range"/>
</label>
<label>Dimensione marker (solo selezionato)
      <input id="inpMarkerSizeOne" max="192" min="16" step="1" type="range"/>
</label>
<button id="btnResetSize" style="margin-top:6px;">‚Ü©Ô∏é¬†Reimposta dimensione del marker selezionato</button>
<label>Rotazione marker (¬∞)
      <input id="inpRotateOne" max="180" min="-180" step="1" type="range"/>
</label>
<button id="btnResetRotate" style="margin-top:6px;">‚Ü©Ô∏é¬†Reimposta rotazione</button>
<label style="display:flex;align-items:center;gap:8px;margin-top:10px;">
<input id="chkGlobal" type="checkbox"/> Applica globalmente (posizione, rotazione e ‚Äî se marker personalizzato ‚Äî icona)
</label>
<small style="color:#666;margin-top:-6px;">Se disattivo: le modifiche valgono solo per il giorno selezionato.</small>
<div class="row">
<button id="btnSaveMarker">Salva marker</button>
<button id="btnDeleteMarker">üóëÔ∏è¬†Elimina marker</button>
<button id="btnAddMarker">‚ûï¬†Nuovo marker</button>
<button id="btnSaveLayout">üíæ¬†Layout</button>
</div>
<div class="row"><button id="btnRestoreAuto">‚Ü©Ô∏é¬†Ripristina icona automatica (giorno+notte)</button></div>
<div class="icon-list" id="iconList"></div>
<hr style="margin:16px 0; border:none; border-top:1px solid #ddd;"/>
<h3>Modifica Tabella</h3>
<label>Citt√†
      <select id="selCity"></select>
</label>
<div class="row">
<label style="flex:1;">T¬∞¬†max
        <input id="inpTmax" type="number"/>
</label>
<label style="flex:1;">T¬∞¬†min
        <input id="inpTmin" type="number"/>
</label>
</div>
<button id="btnSaveForecast">Salva previsione</button>
<button id="btnReset" style="margin-top:22px;">Reset layout</button>
<button id="btnPull" style="margin-top:8px;">Carica da remoto</button>
<button id="btnSync" style="margin-top:8px;">Sincronizza (invio)</button>
</div>
<div id="toast"></div>
</div>
<!-- ‚Äî‚Äî Extra dynamic panels ‚Äî‚Äî -->
<section id="dailyPanel"></section>
<section id="nearestStation"></section>
<section id="dayParts"></section>
<section aria-label="Sintesi della giornata" id="narrativeBox"></section>
<section id="hourlyPanel"></section>
<section id="adviceBox"></section>
<iframe class="radar" id="radarFrame" loading="lazy"></iframe>
<!-- ‚Äî‚Äî Admin Panel ‚Äî‚Äî -->
<div id="adminPanel">
<div class="modal">
<h2>Pannello di controllo</h2>
<p id="stationsCount"></p>
<button id="closeAdmin">Chiudi</button>
<button id="reloadBtn">Aggiorna previsioni</button>
</div>
</div>
<footer>Previsioni automatiche ‚Äì dati Open‚ÄëMeteo integrati con la rete MLG Map.</footer>
<script>
// === Icon builder (GitHub Pages) ‚Äî defined early so render() can use it ===
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const RAW_BASES = ['https://meteologullo.github.io/mappamlg/','https://raw.githubusercontent.com/Meteologullo/mappamlg/main/'];
  const PLACEHOLDER = 'data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"%3E%3Crect width="64" height="64" rx="12" fill="%23e5e7eb"/%3E%3Ccircle cx="20" cy="22" r="8" fill="%23f59e0b"/%3E%3Cellipse cx="36" cy="38" rx="18" ry="12" fill="%23d1d5db"/%3E%3C/svg%3E';

  function encodeName(name){
    if(!name) return '';
    name = name.replace(/\s+\.(PNG|png)$/,'.$1').replace(/\s{2,}/g,' ');
    return encodeURIComponent(name).replace(/%20/g,'%20');
  }
    function filenameFromWMO(code, isNight){
    const night = !!isNight;
    code = Number(code);

    // --- Clear / cloud cover ---
    if (code === 0) return night ? "Sereno notte.PNG" : "Sereno giorno.PNG";                   // Clear sky
    if (code === 1) return night ? "Poco nuvoloso notte.PNG" : "Poco nuvoloso giorno.PNG";     // Mainly clear
    if (code === 2) return night ? "Parz nuvoloso notte.PNG" : "Parzialmente nuvoloso giorno.PNG"; // Partly cloudy
    if (code === 3) return night ? "molto nuvoloso notte.png" : "molto nuvoloso giorno.png";   // Overcast / very cloudy

    // --- Fog / low stratus ---
    if (code === 45 || code === 48) return "Nebbia nuvole basse.PNG";

    // --- Drizzle / freezing drizzle ---
    if ([51,53,55].includes(code)) return "Pioggia debole.PNG";                                 // Drizzle (light/moderate/dense)
    if ([56,57].includes(code)) return "Pioggia debole.PNG";                                    // Freezing drizzle

    // --- Rain (stratiform) ---
    if (code === 61) return "Pioggia debole.PNG";
    if (code === 63) return "Pioggia moderata.PNG";
    if (code === 65) return "pioggia forte.png";

    // --- Freezing rain ---
    if (code === 66) return "Pioggia moderata.PNG";
    if (code === 67) return "pioggia forte.png";

    // --- Rain showers (convective) ---
    if (code === 80 || code === 81) return night ? "pioggia e schiarite notte.png" : "pioggia e schiarite giorno.png";
    if (code === 82) return "pioggia forte.png";                                               // violent showers

    // --- Snow / snow grains ---
    if ([71,73,75,77,85,86].includes(code)) return "Neve .PNG";

    // --- Thunderstorm ---
    if (code === 95) return "temporale moderato.png";
    if (code === 96 || code === 99) return "Possibili temporali.PNG";                           // thunder + hail

    // --- Fallback: partly cloudy ---
    return night ? "Parz nuvoloso notte.PNG" : "Parzialmente nuvoloso giorno.PNG";
  }
function buildUrlCandidates(file){
    const list = [];
    for(const base of RAW_BASES){
      const enc = encodeName(file);
      list.push(base + enc);
      list.push(base + enc.replace('.PNG','.png'));
      list.push(base + enc.replace(/%20\./g,'.'));
      list.push(base + enc.replace(/%20/g,'_'));
    }
    return list;
  }
  function onerrorChain(){
    return "if(!this.dataset.step){this.dataset.step='1'; this.src=this.src.replace('.PNG','.png');}"
      + "else if(this.dataset.step=='1'){this.dataset.step='2'; this.src=this.src.replace('%20.', '.');}"
      + "else if(this.dataset.step=='2'){this.dataset.step='3'; this.src=this.src.replace(/%20/g,'_');}"
      + "else if(this.dataset.step=='3'){this.dataset.step='4'; this.src=this.src.replace('/mappamlg/','/mappamlg/icons/');}"
      + "else if(this.dataset.step=='4'){this.dataset.step='5'; this.src=this.src.replace('/mappamlg/','/mappamlg/icone/');}"
      + "else { this.src='" + PLACEHOLDER + "'; }";
  }
  function imgHTMLFromFile(file, alt){
    const urls = buildUrlCandidates(file);
    const first = urls[0];
    return `<img class="weather-icon" src="${first}" alt="${alt||''}" loading="lazy"
      data-step="0"
      onerror="${onerrorChain()}"
      style="width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);vertical-align:middle;object-fit:contain;filter:drop-shadow(0 1px 3px rgba(0,0,0,.35));">`;
  }
  window.buildIconHTML_NOEMOJI = function(code, isNight=false){
    const file = filenameFromWMO(code, isNight);
    return imgHTMLFromFile(file, '');
  };
  window.iconHTML_NOEMOJI = function(code, isNight=false){
    return window.buildIconHTML_NOEMOJI(code, isNight);
  }
  window.buildDirectIconHTML_NOEMOJI = function(icon){
    if(typeof icon === 'string' && /^https?:\/\//.test(icon)){
      return `<img class="weather-icon" src="${icon}" alt="" loading="lazy"
        onerror="this.src='${PLACEHOLDER}'"
        style="width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);vertical-align:middle;object-fit:contain;filter:drop-shadow(0 1px 3px rgba(0,0,0,.35));">`;
    }
    if(typeof icon === 'string'){
      return imgHTMLFromFile(icon, '');
    }
    return '';
  };
})();
</script>
<script>
/* === Per-day override (V2): save icon/code/tmax/tmin by date (YYYY-MM-DD) and marker uid === */
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  window.DAILY_OVERRIDE_V2 = JSON.parse(localStorage.getItem("dailyOverrideV2")||"{}");
  window.saveDailyOverrideV2 = function(dateKey, uid, obj){
    if(!dateKey || !uid || !obj) return;
    const store = window.DAILY_OVERRIDE_V2 || {};
    if(!store[dateKey]) store[dateKey] = {};
    store[dateKey][uid] = Object.assign({}, store[dateKey][uid] || {}, obj);
    window.DAILY_OVERRIDE_V2 = store;
    try{ localStorage.setItem("dailyOverrideV2", JSON.stringify(store)); }catch(e){}
  };
  window.getDailyOverrideV2 = function(dateKey, uid){
    try{ return (window.DAILY_OVERRIDE_V2?.[dateKey]?.[uid]) || null; }catch(e){ return null; }
  };
  window.applyDailyOverridesV2 = function(){
    try{
      if(!Array.isArray(window.DAYS)||!window.DAYS.length) return;
      window.DAYS.forEach(dayObj=>{
        const baseDate = new Date(); baseDate.setHours(0,0,0,0);
        baseDate.setDate(baseDate.getDate() + (dayObj.offset||0));
        const key = baseDate.toISOString().slice(0,10);
        dayObj.points.forEach(pt=>{
          const uid = pt.uid || (typeof uidForCity==="function"? uidForCity(pt.city): (pt.city||""));
          const o = window.getDailyOverrideV2(key, uid);
          if(!o) return;
          if(o.tmax !== undefined) pt.tmax = o.tmax;
          if(o.tmin !== undefined) pt.tmin = o.tmin;
});
      });
    }catch(e){ console.warn("applyDailyOverridesV2 error", e); }
  };
})();
</script>
<script>
/* === Per-day & per-segment (day/night) icon override ‚Äî V3 === */
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const KEY = "dailyIconOverrideV3";
  window.DAILY_ICON_OVERRIDE_V3 = JSON.parse(localStorage.getItem(KEY)||"{}");
  function persist(){ try{ localStorage.setItem(KEY, JSON.stringify(window.DAILY_ICON_OVERRIDE_V3||{})); }catch(e){} }
  window.saveDailyIconOverrideV3 = function(dateKey, uid, segment, obj){
    if(!dateKey || !uid) return;
    const seg = (segment==='night') ? 'night' : 'day';
    const store = window.DAILY_ICON_OVERRIDE_V3 || {};
    if(!store[dateKey]) store[dateKey] = {};
    if(!store[dateKey][uid]) store[dateKey][uid] = {};
    store[dateKey][uid][seg] = Object.assign({}, store[dateKey][uid][seg]||{}, obj||{});
    window.DAILY_ICON_OVERRIDE_V3 = store; persist();
  };
  window.getDailyIconOverrideV3 = function(dateKey, uid, segment){
    try{
      const seg = (segment==='night') ? 'night' : 'day';
      return (window.DAILY_ICON_OVERRIDE_V3?.[dateKey]?.[uid]?.[seg]) || null;
    }catch(e){ return null; }
  };
  window.clearDailyIconOverrideV3 = function(dateKey, uid, segment){
    try{
      const seg = (segment==='night') ? 'night' : 'day';
      if(window.DAILY_ICON_OVERRIDE_V3?.[dateKey]?.[uid]?.[seg]){
        delete window.DAILY_ICON_OVERRIDE_V3[dateKey][uid][seg];
        persist();
      }
    }catch(e){}
  };
})();
</script>
<script>

/******************** COSTANTI & HELPERS *************************/
let PROVINCES = JSON.parse(localStorage.getItem('calabriaMarkers') || '[{"city":"Cosenza","lat":39.299,"lon":16.253},{"city":"Catanzaro","lat":38.909,"lon":16.587},{"city":"Reggio Calabria","lat":38.114,"lon":15.65},{"city":"Crotone","lat":39.083,"lon":17.125},{"city":"Vibo Valentia","lat":38.673,"lon":16.104}]');
let DAYS = [];               // Popolato dopo fetch
let curDay = 0, night = false;
const $ = q => document.querySelector(q);

/* ‚Äî‚Äî¬†Bounding box Calabria ‚Äî‚Äî */
const CAL_ABOX = { latMin: 37.90, latMax: 40.30, lonMin: 15.60, lonMax: 17.30 };
function latLonToXY(lat,lon){
  const x = (lon - CAL_ABOX.lonMin)/(CAL_ABOX.lonMax - CAL_ABOX.lonMin)*100;
  const y = (1- (lat - CAL_ABOX.latMin)/(CAL_ABOX.latMax - CAL_ABOX.latMin))*100;
  return {x,y};
}
/* ‚Äî‚Äî¬†WMO ‚Üí emoji ‚Äî‚Äî */
/* ‚Äî‚Äî Persistenza marker (V2) ‚Äî‚Äî */
let PERSIST = (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  try{
    return JSON.parse(localStorage.getItem('CALABRIA_MAP_STATE_V2')||'{"positions":{},"custom":[],"markerSize":null}');
  }catch(e){ return {"positions":{},"custom":[],"markerSize":null}; }
})()
// --- Sanitize legacy/corrupt data (remove bad icons from PERSIST.positions) ---
try{
  if(PERSIST && PERSIST.positions){
    Object.keys(PERSIST.positions).forEach(uid=>{
      const st = PERSIST.positions[uid];
      if(st && typeof st.icon !== 'undefined'){
        const ok = (typeof st.icon === 'string') && (
          /^https?:\/\//.test(st.icon) || /\.(png|jpe?g|webp|gif)$/i.test(st.icon)
        );
        if(!ok){ delete st.icon; }
      }
    });
    // Persist the cleanup
    try{ localStorage.setItem('CALABRIA_MAP_STATE_V2', JSON.stringify(PERSIST)); }catch(e){}
  }
}catch(e){}
;

function saveState(){
  try{
    localStorage.setItem('CALABRIA_MAP_STATE_V2', JSON.stringify(PERSIST));
  }catch(e){ console.warn('Impossibile salvare lo stato:', e); }
}

function uidForCity(city){
  return 'city:'+String(city||'').toLowerCase();
}
function uidCustom(){
  return 'custom:'+Date.now().toString(36)+Math.random().toString(36).slice(2,6);
}

/* Applica posizioni salvate e icone override a tutti i giorni */
function applyPersistToDays(){
  if(!Array.isArray(DAYS)||!DAYS.length) return;
  for(const day of DAYS){
    for(const pt of day.points){
      const uid = pt.uid || uidForCity(pt.city);
      pt.uid = uid;
      if(PERSIST.positions && PERSIST.positions[uid]){
        const st = PERSIST.positions[uid];
        if(typeof st.x === 'number') pt.x = st.x;
        if(typeof st.y === 'number') pt.y = st.y;

      }
    }
  }
  if(PERSIST.markerSize){
    document.documentElement.style.setProperty('--marker-size', PERSIST.markerSize+'px');
    const s = document.getElementById('inpMarkerSize'); if(s){ s.value = PERSIST.markerSize; }
  }
}

/* Aggiunge i marker custom (con forecast) in tutti i giorni */
async function addCustomMarkersFromPersist(){
  if(!PERSIST.custom || !PERSIST.custom.length) return;
  // carica tutte le previsioni in parallelo
  const fcs = await Promise.all(PERSIST.custom.map(c=>forecast(c.lat, c.lon).then(data=>({meta:c,data})).catch(e=>null)));
  const ok = fcs.filter(Boolean);
  if(!ok.length) return;
  const daysCount = DAYS.length;
  for(const {meta,data} of ok){
    for(let d=0; d<daysCount; d++){
      const {x,y} = latLonToXY(meta.lat, meta.lon);
      const pt = {
        uid: meta.uid,
        city: meta.city || meta.name || 'Localit√†',
        x: (PERSIST.positions[meta.uid]?.x ?? x),
        y: (PERSIST.positions[meta.uid]?.y ?? y),
        lat: meta.lat, lon: meta.lon,
        code: data.daily.weathercode[d],tmax: Math.round(data.daily.temperature_2m_max[d]),
        tmin: Math.round(data.daily.temperature_2m_min[d])
      };
      if(PERSIST.positions[meta.uid]?.icon && typeof PERSIST.positions[meta.uid].icon==='string'){ pt.icon = PERSIST.positions[meta.uid].icon; pt.code = undefined; }
      DAYS[d].points.push(pt);
    }
  }
}

/* Propaga x,y (e opzionalmente icona) dello stesso marker su tutti i giorni */
function propagateToAllDays(uid, {x=null,y=null,icon=null}={}){
  if(!uid) return;
  for(const day of DAYS){
    for(const pt of day.points){
      if(pt.uid === uid){
        if(x!==null) pt.x = x;
        if(y!==null) pt.y = y;
        if(icon!==null && ((typeof isValidIconString==='function' && isValidIconString(icon)) || (typeof icon==='string' && icon.length>0))){ pt.icon = icon; pt.code = undefined; }
      }
    }
  }
}

/* Salvataggio automatico posizioni */
function savePosition(uid, x, y){
  if(!uid) return;
  if(!PERSIST.positions) PERSIST.positions = {};
  if(!PERSIST.positions[uid]) PERSIST.positions[uid] = {};
  PERSIST.positions[uid].x = x;
  PERSIST.positions[uid].y = y;
  saveState();
}


function wmo(code,isNight=false){
  switch(code){
    case 0: return isNight ? 'üåô' : '‚òÄÔ∏è';
    case 1: return isNight ? 'üåô' : 'üå§Ô∏è';
    case 2:
    case 3: return isNight ? '‚òÅÔ∏è' : '‚õÖÔ∏è';
    case 45:
    case 48: return 'üå´Ô∏è';
    case 51:
    case 53:
    case 55: return isNight ? 'üåßÔ∏è' : 'üå¶Ô∏è';
    case 61:
    case 63:
    case 65:
    case 80:
    case 81:
    case 82: return 'üåßÔ∏è';
    case 66:
    case 67:
    case 71:
    case 73:
    case 75:
    case 77:
    case 85:
    case 86: return 'üå®Ô∏è';
    case 95:
    case 96:
    case 99: return '‚õàÔ∏è';
    default: return '‚ùì';
  }
}


function wmoDesc(code){
  switch(Number(code)){
    case 0: return 'Sereno';
    case 1: return 'Poco nuvoloso';
    case 2: return 'Parzialmente nuvoloso';
    case 3: return 'Molto nuvoloso';
    case 45: case 48: return 'Nebbia';
    case 51: case 53: case 55: return 'Pioggia debole';
    case 56: case 57: return 'Pioggia debole';
    case 61: return 'Pioggia debole';
    case 63: return 'Pioggia moderata';
    case 65: return 'Pioggia forte';
    case 66: return 'Pioggia moderata';
    case 67: return 'Pioggia forte';
    case 80: case 81: return 'Pioggia e schiarite';
    case 82: return 'Pioggia forte';
    case 71: case 73: case 75: case 77: case 85: case 86: return 'Neve';
    case 95: return 'Temporale';
    case 96: case 99: return 'Temporale';
    default: return 'Parzialmente nuvoloso';
  }
}
let LIVE=null;
/* ‚Äî‚Äî format util ‚Äî‚Äî */
const fmt=(v,unit="",d=0)=>isFinite(v)?Number(v).toFixed(d)+unit:"--";
const toRad=d=>d*Math.PI/180;
const haversine=(a,b,c,d)=>{const R=6371,e=toRad(c-a),f=toRad(d-b),x=Math.sin(e/2)**2+Math.cos(toRad(a))*Math.cos(toRad(c))*Math.sin(f/2)**2;return 2*R*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));};

/******************** CITT√Ä PRINCIPALI *************************/
const CITIES = [
  {city:'Cosenza',lat:39.307,lon:16.251},
  {city:'Catanzaro',lat:38.9047,lon:16.594},
  {city:'Reggio Calabria',lat:38.114,lon:15.6512},
  {city:'Crotone',lat:39.080,lon:17.126},
  {city:'Vibo Valentia',lat:38.674,lon:16.10}
];

/******************** BUILD NAV *************************/
function buildNav(){
  const nav=$('#nav');
  nav.innerHTML="";
  const frag=document.createDocumentFragment();
  DAYS.forEach((d,i)=>{
    const btn=document.createElement('button');btn.type='button';
    btn.textContent=d.label;
    if(i===curDay) btn.classList.add('active');
    btn.addEventListener('click',()=>{const __wasNight = night;if(__wasNight){ night=false; }curDay=i;updateNav();render();if(__wasNight){ night=true; }document.body.classList.toggle('night', night);$('#themeBtn').textContent = night ? '‚òÄÔ∏è' : 'üåô';});
    frag.appendChild(btn);
  });
  nav.appendChild(frag);
}
function updateNav(){ $('#nav').querySelectorAll('button').forEach((b,i)=>b.classList.toggle('active',i===curDay)); }

/******************** RENDER MAIN WIDGET *************************/
function render(){
  if(!DAYS.length) return;
  const data=DAYS[curDay];
  /* header */
  // removed label assignment
  const dt=new Date(); dt.setDate(dt.getDate()+data.offset);
  const dStr=dt.toLocaleDateString('it-IT',{day:'numeric',month:'long'});const parts=dStr.split(' ');const niceDate=parts[0]+' '+parts[1].charAt(0).toUpperCase()+parts[1].slice(1);$('#hDate').textContent=niceDate;
  /* markers */
  const mapA=$('#mapArea');
  mapA.querySelectorAll('.marker').forEach(m=>m.remove());
  data.points.forEach(p=>{
    const mk=document.createElement('div');
    mk.className='marker';
    mk.dataset.uid = (p.uid || (typeof uidForCity==='function' ? uidForCity(p.city) : (p.city||'')));

    mk.style.left=p.x+'%';
    mk.style.top=p.y+'%';
    // ‚Äî‚Äî Applica rotazione (giorno > globale) ‚Äî‚Äî
    (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

      try{
        const uid = mk.dataset.uid;
        let rr = (typeof p.rot==='number') ? p.rot : null;
        if(rr===null && PERSIST && PERSIST.positions && PERSIST.positions[uid] && typeof PERSIST.positions[uid].rot==='number'){
          rr = PERSIST.positions[uid].rot;
        }
        mk.style.transform = 'translate(-50%, -50%) rotate(' + ((rr||0)) + 'deg)';
      }catch(_e){ mk.style.transform = 'translate(-50%, -50%)'; }
    })();

    

    // Applica rotazione (giorno > globale)
    try{
      const __uid = mk.dataset.uid;
      let __rot = (typeof p.rot==='number') ? p.rot : 0;
      if(typeof PERSIST!=='undefined' && PERSIST.positions && PERSIST.positions[__uid] && typeof PERSIST.positions[__uid].rot==='number'){
        __rot = (typeof p.rot==='number') ? p.rot : PERSIST.positions[__uid].rot;
      }
      mk.style.setProperty('--rot', 'rotate('+(__rot||0)+'deg)');
    }catch(__e){}

// Calcola eventuale override per il giorno corrente (solo diurno)
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const d=new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate()+data.offset);
  const key=d.toISOString().slice(0,10);
  const uid = p.uid || (typeof uidForCity==="function"? uidForCity(p.city): (p.city||""));
  const seg = night ? 'night' : 'day';
  const ovr3 = (window.getDailyIconOverrideV3) ? window.getDailyIconOverrideV3(key, uid, seg) : null;
  // Legacy fallback: old V2 applies only by day
  const ovrLegacy = (!night && window.getDailyOverrideV2) ? window.getDailyOverrideV2(key, uid) : null;
  const ovr = ovr3 || ovrLegacy;
  if(ovr && (ovr.icon || (ovr.code!==undefined))){
    if(ovr.icon){
      mk.innerHTML = buildDirectIconHTML_NOEMOJI(ovr.icon);
    }else{
      mk.innerHTML = buildIconHTML_NOEMOJI(ovr.code, night);
    }
  }else{
    mk.innerHTML = (p.code_day!==undefined || p.code_night!==undefined) ? buildIconHTML_NOEMOJI((night ? (p.code_night ?? p.code) : (p.code_day ?? p.code)), night) : (p.code!==undefined ? buildIconHTML_NOEMOJI(p.code, night) : mk.innerHTML);
  }
})();
    mk.title=`${p.city}: ${p.tmax}¬∞ / ${p.tmin}¬∞`;
    mapA.appendChild(mk);
  });
  /* table */
  const tbl=$('#forecast');
  tbl.innerHTML='<tr><th>Citt√†</th><th>Max</th><th>Min</th></tr>';
  data.points.forEach(r=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${r.city}</td><td>${r.tmax}¬∞</td><td>${r.tmin}¬∞</td>`;
    tbl.appendChild(tr);
  });
}

/******************** OPEN‚ÄëMETEO *************************/
async function forecast(lat,lon){
  const url=`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&timezone=auto&daily=temperature_2m_max,temperature_2m_min,weathercode,sunrise,sunset`;
  const r=await fetch(url);
  if(!r.ok) throw new Error("Errore meteo");
  return r.json();
}

/******************** COSTRUISCI GIORNI PER MAPPA ***************/

async function loadCalabria(){
  const promises=CITIES.map(c=>forecast(c.lat,c.lon));
  const results=await Promise.all(promises);
  DAYS = [];
  const daysCount = results[0].daily.time.length;
  for(let d=0; d<daysCount; d++){
    const dt = new Date(); dt.setHours(0,0,0,0); dt.setDate(dt.getDate()+d);
    const label = dt.toLocaleDateString('it-IT',{day:'2-digit',month:'short'}).toUpperCase();
    const dayObj = {label, offset:d, points:[]};
    CITIES.forEach((c,idx)=>{
      const fc=results[idx];
      const {x,y}=latLonToXY(c.lat,c.lon);
      dayObj.points.push({
        uid: uidForCity(c.city),
        city:c.city,x,y,
        code:fc.daily.weathercode[d],tmax:Math.round(fc.daily.temperature_2m_max[d]),
        tmin:Math.round(fc.daily.temperature_2m_min[d])
      });
    });
    DAYS.push(dayObj);
  }
  // aggiunge eventuali marker custom memorizzati
  await addCustomMarkersFromPersist();
  // applica posizioni/icone persistenti
  applyPersistToDays();
  applyDailyOverridesV2();
  curDay=0; buildNav(); render();
}

window.stazioni = [
  { nome: "Bianchi - Palinudo Staglio", mlg: true, lat: 39.11, lon: 16.42, quota: "830 m", provincia: "CS", regione: "Calabria", area: "Valle del Corace", stationId: "IBIANC4", apiKey: "2ccb91c2398a4f778b91c2398a4f772f", webcam: "", linkStazione: "https://esempio.it/stazioni/nuova-stazione-1" },
  { nome: "Cosenza - Vaglio Lise", mlg: true, lat: 39.31, lon: 16.27, quota: "208 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati sud", stationId: "ICOSEN11", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://www.meteologullo.com/stazione-cosenza-vaglio-lise" },
  { nome: "Amantea Spiaggia", mlg: true, lat: 39.13, lon: 16.07, quota: "0 m", provincia: "CS", regione: "Calabria", area: "Basso tirreno cosentino", stationId: "IAMANT7", apiKey: "a3f4ae4f9b6d46a4b4ae4f9b6d06a494", webcam: "https://meteologullo.github.io/mappamlg/webcam_spiaggia_pulita.html", linkStazione: "https://www.meteologullo.com/stazione-amantea-spiaggia" },
  { nome: "Monte Scuro - Celico", mlg: true, lat: 39.33, lon: 16.4, quota: "1643 m", provincia: "CS", regione: "Calabria", area: "Vetta della Sila Grande", stationId: "ICELIC3", apiKey: "2d12def7f4894eca92def7f4892eca99", webcam: "", linkStazione: "https://www.meteologullo.com/stazione-meteo-di-monte-scuro-celico" },
  { nome: "Cosenza - Campagnano", mlg: true, lat: 39.31, lon: 16.23, quota: "234 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati sud", stationId: "ICOSEN20", apiKey: "844d02e7e12049ef8d02e7e120b9ef68", webcam: "", linkStazione: "https://www.meteologullo.com/stazione-cosenza-campagnano" },
  { nome: "Mendicino - Tivolille Pasquali", mlg: true, lat: 39.28, lon: 16.2, quota: "431 m", provincia: "CS", regione: "Calabria", area: "Pre-Catena Costiera Interna", stationId: "IMENDI13", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://www.meteologullo.com/stazione-mendicino-tivolille" },
  { nome: "Casali del Manco - Morelli Soprana", mlg: true, lat: 39.28, lon: 16.29, quota: "389 m", provincia: "CS", regione: "Calabria", area: "collina Valle del Crati", stationId: "ICASAL40", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://www.meteologullo.com/stazione-casali-del-manco-morelli-soprana" },
  { nome: "Nuova Stazione 1", mlg: true, lat: 39.40, lon: 16.50, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Nuova Area", stationId: "INUST1", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/nuova-stazione-1" },
  { nome: "Catanzaro Centro", lat: 38.82, lon: 16.43, quota: "320 m", provincia: "CZ", regione: "Calabria", area: "Centro citt√†", openMeteo: true, stationId: "CATCENTRO", webcam: "", linkStazione: "#" }
,
  { nome: "Reggio Calabria - Centro", lat: 38.11, lon: 15.65, quota: "31 m", provincia: "RC", regione: "Calabria", area: "Area dello Stretto", openMeteo: true, stationId: "REGCENTRO", webcam: "", linkStazione: "#" },
  { nome: "Rossano - Centro Storico", lat: 39.58, lon: 16.63, quota: "270 m", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "ROSSCENTRO", webcam: "", linkStazione: "#" },
  { nome: "Vibo Valentia - Monte Poro", lat: 38.63, lon: 16.05, quota: "710 m", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "VIBOPORO", webcam: "", linkStazione: "#" },
  { nome: "Locri Marina", lat: 38.25, lon: 16.26, quota: "12 m", provincia: "RC", regione: "Calabria", area: "Costa Ionica Reggina", openMeteo: true, stationId: "LOCRIMARINA", webcam: "", linkStazione: "#" },
  { nome: "San Giovanni in Fiore", lat: 39.26, lon: 16.68, quota: "1049 m", provincia: "CS", regione: "Calabria", area: "Altopiano Silano", openMeteo: true, stationId: "SGFIORE", webcam: "", linkStazione: "#" },
  { nome: "Crotone Porto", lat: 39.08, lon: 17.12, quota: "8 m", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CROPOR", webcam: "", linkStazione: "#" },
  { nome: "Lamezia Terme - Sant'Eufemia", lat: 38.91, lon: 16.24, quota: "15 m", provincia: "CZ", regione: "Calabria", area: "Piana di Lamezia", openMeteo: true, stationId: "LAMSANTEUF", webcam: "", linkStazione: "#" },
  { nome: "Scalea - Centro", lat: 39.81, lon: 15.79, quota: "25 m", provincia: "CS", regione: "Calabria", area: "Alto Tirreno Cosentino", openMeteo: true, stationId: "SCALEACENTRO", webcam: "", linkStazione: "#" },
  { nome: "Taverna - Parco Nazionale Sila Piccola", lat: 39.02, lon: 16.68, quota: "880 m", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "TAVSILAPIC", webcam: "", linkStazione: "#" },
  { nome: "Isola di Capo Rizzuto", lat: 38.96, lon: 17.09, quota: "75 m", provincia: "KR", regione: "Calabria", area: "Capo Rizzuto", openMeteo: true, stationId: "ISOCAPORIZ", webcam: "", linkStazione: "#" },
,
  { nome: "Cir√≤ Marina", lat: 39.37, lon: 17.12, quota: "25 m", provincia: "KR", regione: "Calabria", area: "Alto Ionio Crotonese", openMeteo: true, stationId: "CIROMARINA", webcam: "", linkStazione: "#" },
  { nome: "Cariati", lat: 39.5, lon: 16.96, quota: "30 m", provincia: "CS", regione: "Calabria", area: "Basso Ionio cosentino", openMeteo: true, stationId: "CARIATI", webcam: "", linkStazione: "#" },
  { nome: "Petilia Policastro", lat: 39.13, lon: 16.77, quota: "436 m", provincia: "KR", regione: "Calabria", area: "Marchesato Crotonese", openMeteo: true, stationId: "PETILIA", webcam: "", linkStazione: "#" },
  { nome: "Tropea", lat: 38.68, lon: 15.9, quota: "61 m", provincia: "VV", regione: "Calabria", area: "Costa degli Dei", openMeteo: true, stationId: "TROPEA", webcam: "", linkStazione: "#" },
  { nome: "Gerace", lat: 38.27, lon: 16.23, quota: "500 m", provincia: "RC", regione: "Calabria", area: "Collina Ionica alto Reggino", openMeteo: true, stationId: "GERACE", webcam: "", linkStazione: "#" },
  { nome: "Spezzano della Sila", lat: 39.30, lon: 16.33, quota: "800 m", provincia: "CS", regione: "Calabria", area: "Pre-Sila Grande cosentina", openMeteo: true, stationId: "SPEZSILA", webcam: "", linkStazione: "#" },
  { nome: "Paola", lat: 39.37, lon: 16.03, quota: "154 m", provincia: "CS", regione: "Calabria", area: "Tirreno Cosentino", openMeteo: true, stationId: "PAOLA", webcam: "", linkStazione: "#" },
  { nome: "Belvedere Marittimo", lat: 39.61, lon: 15.86, quota: "150 m", provincia: "CS", regione: "Calabria", area: "Alto Tirreno Cosentino", openMeteo: true, stationId: "BELVEDERE", webcam: "", linkStazione: "#" },
  { nome: "Mormanno", lat: 39.88, lon: 15.98, quota: "850 m", provincia: "CS", regione: "Calabria", area: "Pollino", openMeteo: true, stationId: "MORMANNO", webcam: "", linkStazione: "#" },
  { nome: "Soverato", lat: 38.68, lon: 16.54, quota: "20 m", provincia: "CZ", regione: "Calabria", area: "Costa Ionica basso Catanzarese", openMeteo: true, stationId: "SOVERATO", webcam: "", linkStazione: "#" },
  { nome: "Palmi", lat: 38.36, lon: 15.85, quota: "228 m", provincia: "RC", regione: "Calabria", area: "Costa Viola", openMeteo: true, stationId: "PALMI", webcam: "", linkStazione: "#" },
  { nome: "Serrastretta", lat: 39.01, lon: 16.4, quota: "820 m", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", openMeteo: true, stationId: "SERRASTRETTA", webcam: "", linkStazione: "#" },
  { nome: "Santa Severina", lat: 39.21, lon: 16.97, quota: "326 m", provincia: "KR", regione: "Calabria", area: "Marchesato crotonese", openMeteo: true, stationId: "SSSEVERINA", webcam: "", linkStazione: "#" },
  { nome: "Badolato Marina", lat: 38.6, lon: 16.55, quota: "10 m", provincia: "CZ", regione: "Calabria", area: "Costa Ionica basso Catanzarese", openMeteo: true, stationId: "BADO_MARINA", webcam: "", linkStazione: "#" },
  { nome: "Delianuova", lat: 38.2, lon: 15.88, quota: "600 m", provincia: "RC", regione: "Calabria", area: "Pre-Aspromonte Occidentale", openMeteo: true, stationId: "DELIANUOVA", webcam: "", linkStazione: "#" },
  {"nome": "Rende", "lat": 39.3306, "lon": 16.2078, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle del Crati", "openMeteo": true, "stationId": "RENDE", "webcam": "", "linkStazione": "#"},
  {"nome": "Montalto Uffugo", "lat": 39.4165, "lon": 16.1985, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle del Crati", "openMeteo": true, "stationId": "MONTALTO_UFFUGO", "webcam": "", "linkStazione": "#"},{"nome": "Bisignano", "lat": 39.50, "lon": 16.27, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Collina alta Valle del Crati", "openMeteo": true, "stationId": "MONGRASSANO_SCALO", "webcam": "", "linkStazione": "#"},
  {"nome": "Tarsia", "lat": 39.58, "lon": 16.3167, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle del Crati", "openMeteo": true, "stationId": "TARSIA", "webcam": "", "linkStazione": "#"},
  {"nome": "Castrovillari", "lat": 39.8167, "lon": 16.2, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Pollino", "openMeteo": true, "stationId": "CASTROVILLARI", "webcam": "", "linkStazione": "#"},
  {"nome": "Sibari", "lat": 39.6833, "lon": 16.5333, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sibaritide", "openMeteo": true, "stationId": "SIBARI", "webcam": "", "linkStazione": "#"},
  {"nome": "Villapiana", "lat": 39.84, "lon": 16.45, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sibaritide", "openMeteo": true, "stationId": "VILLAPIANA", "webcam": "", "linkStazione": "#"},
  {"nome": "Camigliatello Silano", "lat": 39.3306, "lon": 16.4492, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sila Grande", "openMeteo": true, "stationId": "CAMIGLIATELLO_SILANO", "webcam": "", "linkStazione": "#"},
  {"nome": "Monte Curcio", "lat": 39.317, "lon": 16.42, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sila Grande", "openMeteo": true, "stationId": "MONTE_CURCIO", "webcam": "", "linkStazione": "#"},
  {"nome": "Botte Donato", "lat": 39.2833, "lon": 16.45, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sila Grande", "openMeteo": true, "stationId": "BOTTE_DONATO", "webcam": "", "linkStazione": "#"},
  {"nome": "Daltolia", "lat": 39.033, "lon": 16.388, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle del Savuto", "openMeteo": true, "stationId": "DALTOLIA", "webcam": "", "linkStazione": "#"},
  {"nome": "Rogliano", "lat": 39.1581, "lon": 16.3723, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle del Savuto", "openMeteo": true, "stationId": "ROGLIANO", "webcam": "", "linkStazione": "#"},
  {"nome": "Girifalco", "lat": 38.8, "lon": 16.4167, "quota": "ND", "provincia": "CZ", "regione": "Calabria", "area": "Pre-Serre", "openMeteo": true, "stationId": "GIRIFALCO", "webcam": "", "linkStazione": "#"},
  {"nome": "Vibo Valentia", "lat": 38.6749, "lon": 16.1027, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Entroterra Vibonese", "openMeteo": true, "stationId": "VIBO_VALENTIA", "webcam": "", "linkStazione": "#"},
  {"nome": "Capo Vaticano", "lat": 38.6278, "lon": 15.8415, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Costa degli Dei", "openMeteo": true, "stationId": "CAPO_VATICANO", "webcam": "", "linkStazione": "#"},
  {"nome": "Rosarno", "lat": 38.4886, "lon": 15.9738, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Piana di Gioia Tauro", "openMeteo": true, "stationId": "ROSARNO", "webcam": "", "linkStazione": "#"},
  {"nome": "Gioia Tauro", "lat": 38.4236, "lon": 15.8996, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Piana di Gioia Tauro", "openMeteo": true, "stationId": "GIOIA_TAURO", "webcam": "", "linkStazione": "#"},
  {"nome": "Pellaro", "lat": 38.01, "lon": 15.633, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Area dello Stretto", "openMeteo": true, "stationId": "PELLARO", "webcam": "", "linkStazione": "#"},
  {"nome": "Villa San Giovanni", "lat": 38.2131, "lon": 15.6414, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Area dello Stretto", "openMeteo": true, "stationId": "VILLA_SAN_GIOVANNI", "webcam": "", "linkStazione": "#"},
  {"nome": "Melito di Porto Salvo", "lat": 37.9167, "lon": 15.7333, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Costa Ionica Reggina", "openMeteo": true, "stationId": "MELITO_DI_PORTO_SALVO", "webcam": "", "linkStazione": "#"},
  {"nome": "Brancaleone", "lat": 37.95, "lon": 16.0833, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Costa Ionica Reggina", "openMeteo": true, "stationId": "BRANCALEONE", "webcam": "", "linkStazione": "#"},
  {"nome": "Africo Nuovo", "lat": 38.0167, "lon": 16.1333, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Costa Ionica Reggina", "openMeteo": true, "stationId": "AFRICO_NUOVO", "webcam": "", "linkStazione": "#"},
  {"nome": "Bovalino", "lat": 38.15, "lon": 16.2, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Costa Ionica Reggina", "openMeteo": true, "stationId": "BOVALINO", "webcam": "", "linkStazione": "#"},
  {"nome": "Monasterace Marina", "lat": 38.4333, "lon": 16.5333, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Costa Ionica Meridionale", "openMeteo": true, "stationId": "MONASTERACE_MARINA", "webcam": "", "linkStazione": "#"},
  {"nome": "Mongiana", "lat": 38.5167, "lon": 16.3, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Serre Vibonesi", "openMeteo": true, "stationId": "MONGIANA", "webcam": "", "linkStazione": "#"},
  {"nome": "Fabrizia", "lat": 38.5, "lon": 16.3667, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Serre Vibonesi", "openMeteo": true, "stationId": "FABRIZIA", "webcam": "", "linkStazione": "#"},
  {"nome": "Nardodipace", "lat": 38.4833, "lon": 16.4, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Serre Vibonesi", "openMeteo": true, "stationId": "NARDODIPACE", "webcam": "", "linkStazione": "#"},
  {"nome": "Polistena", "lat": 38.4167, "lon": 16.0833, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Piana di Gioia Tauro", "openMeteo": true, "stationId": "POLISTENA", "webcam": "", "linkStazione": "#"},
  {"nome": "Natoli Nuovo", "lat": 38.5167, "lon": 16.0833, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Entroterra Vibonese", "openMeteo": true, "stationId": "NATOLI_NUOVO", "webcam": "", "linkStazione": "#"},
  {"nome": "Cittanova", "lat": 38.3167, "lon": 16.0833, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Piana di Gioia Tauro", "openMeteo": true, "stationId": "CITTANOVA", "webcam": "", "linkStazione": "#"},
  {"nome": "Zungri", "lat": 38.6167, "lon": 15.9333, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Entroterra Vibonese", "openMeteo": true, "stationId": "ZUNGRI", "webcam": "", "linkStazione": "#"},
  {"nome": "Spilinga", "lat": 38.6, "lon": 15.8833, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Entroterra Vibonese", "openMeteo": true, "stationId": "SPILINGA", "webcam": "", "linkStazione": "#"},
  {"nome": "Pizzo", "lat": 38.7333, "lon": 16.1667, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Costa Tirrenica Vibonese", "openMeteo": true, "stationId": "PIZZO", "webcam": "", "linkStazione": "#"},
  {"nome": "Monterosso Calabro", "lat": 38.6333, "lon": 16.2667, "quota": "ND", "provincia": "VV", "regione": "Calabria", "area": "Entroterra Vibonese", "openMeteo": true, "stationId": "MONTEROSSO_CALABRO", "webcam": "", "linkStazione": "#"},
  {"nome": "Cutro", "lat": 39.0167, "lon": 17.0833, "quota": "ND", "provincia": "KR", "regione": "Calabria", "area": "Collina Crotonese", "openMeteo": true, "stationId": "CUTRO", "webcam": "", "linkStazione": "#"},
  {"nome": "Capocolonna", "lat": 39.0167, "lon": 17.1333, "quota": "ND", "provincia": "KR", "regione": "Calabria", "area": "Costa Ionica Crotonese", "openMeteo": true, "stationId": "CAPOCOLONNA", "webcam": "", "linkStazione": "#"},
  {"nome": "Marina di Strongoli", "lat": 39.3, "lon": 17.1167, "quota": "ND", "provincia": "KR", "regione": "Calabria", "area": "Costa Ionica Crotonese", "openMeteo": true, "stationId": "MARINA_DI_STRONGOLI", "webcam": "", "linkStazione": "#"},
  {"nome": "Acerenthia - Camigliano", "lat": 39.2667, "lon": 17.0, "quota": "ND", "provincia": "KR", "regione": "Calabria", "area": "Collina Crotonese", "openMeteo": true, "stationId": "ACERENTHIA_-_CAMIGLIANO", "webcam": "", "linkStazione": "#"},
  {"nome": "Torretta di Crucoli", "lat": 39.4167, "lon": 17.0333, "quota": "ND", "provincia": "KR", "regione": "Calabria", "area": "Costa Ionica Crotonese", "openMeteo": true, "stationId": "TORRETTA_DI_CRUCOLI", "webcam": "", "linkStazione": "#"},
  {"nome": "Longobucco", "lat": 39.45, "lon": 16.65, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sila Greca", "openMeteo": true, "stationId": "LONGOBUCCO", "webcam": "", "linkStazione": "#"},
  {"nome": "Acri", "lat": 39.5, "lon": 16.3833, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Sila Greca", "openMeteo": true, "stationId": "ACRI", "webcam": "", "linkStazione": "#"},
  {"nome": "Roccaforte del Greco", "lat": 38.0167, "lon": 15.85, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Aspromonte", "openMeteo": true, "stationId": "ROCCAFORTE_DEL_GRECO", "webcam": "", "linkStazione": "#"},
  {"nome": "San Luca", "lat": 38.1333, "lon": 16.0833, "quota": "ND", "provincia": "RC", "regione": "Calabria", "area": "Aspromonte", "openMeteo": true, "stationId": "SAN_LUCA", "webcam": "", "linkStazione": "#"},
  {"nome": "Santa Caterina dello Ionio", "lat": 38.55, "lon": 16.5667, "quota": "ND", "provincia": "CZ", "regione": "Calabria", "area": "Costa Ionica Meridionale", "openMeteo": true, "stationId": "SANTA_CATERINA_DELLO_IONIO", "webcam": "", "linkStazione": "#"},
  {"nome": "San Sosti", "lat": 39.66, "lon": 16.02, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle dell'Esaro", "openMeteo": true, "stationId": "SANSOSTI", "webcam": "", "linkStazione": "#"},
  {"nome": "Altomonte", "lat": 39.7, "lon": 16.1333, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Valle dell'Esaro", "openMeteo": true, "stationId": "ALTOMONTE", "webcam": "", "linkStazione": "#"},
  {"nome": "Roseto Capo Spulico", "lat": 39.9667, "lon": 16.5833, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Alto Ionio Cosentino", "openMeteo": true, "stationId": "ROSETO_CAPO_SPULICO", "webcam": "", "linkStazione": "#"},
  {"nome": "Trebisacce", "lat": 39.87, "lon": 16.53, "quota": "ND", "provincia": "CS", "regione": "Calabria", "area": "Alto Ionio Cosentino", "openMeteo": true, "stationId": "TREBISACCE", "webcam": "", "linkStazione": "#"}
,
  { nome: "Rende - Quattromiglia", lat: 39.353702, lon: 16.242313, quota: "ND", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati sud", openMeteo: true, stationId: "RENDE_QUATTR", webcam: "", linkStazione: "#" },
  { nome: "Torano Castello - Sartano", lat: 39.49, lon: 16.21, quota: "90", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati", openMeteo: true, stationId: "LUZZI_PETRINI", webcam: "", linkStazione: "#" },
  { nome: "Luzzi - Petrini", lat: 39.446816, lon: 16.28, quota: "ND", provincia: "CS", regione: "Calabria", area: "Media Valle del Crati", openMeteo: true, stationId: "LUZZI_CENTRO", webcam: "", linkStazione: "#" },
  { nome: "Lattarico", lat: 39.464303, lon: 16.138027, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Catena costiera interna nord", openMeteo: true, stationId: "LATTARICO", webcam: "", linkStazione: "#" },
  { nome: "Rota Greca", lat: 39.467, lon: 16.117, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Catena costiera interna nord", openMeteo: true, stationId: "ROTA_GRECA", webcam: "", linkStazione: "#" },
  { nome: "Lattarico - Piretto", lat: 39.467, lon: 16.133, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Catena Costiera interna nord", openMeteo: true, stationId: "LATTARICO_PIRETTO", webcam: "", linkStazione: "#" },
  { nome: "Cassano all'Ionio", lat: 39.783, lon: 16.317, quota: "ND", provincia: "CS", regione: "Calabria", area: "Piana di Sibari centrale", openMeteo: true, stationId: "CASSANO_IONIO", webcam: "", linkStazione: "#" },
  { nome: "Sibari", lat: 39.74, lon: 16.45, quota: "ND", provincia: "CS", regione: "Calabria", area: "Piana di Sibari orientale", openMeteo: true, stationId: "SIBARI", webcam: "", linkStazione: "#" },
  { nome: "Terranova da Sibari", lat: 39.6575, lon: 16.3398, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina Piana di Sibari sud", openMeteo: true, stationId: "TERRANOVA_SIBARI", webcam: "", linkStazione: "#" },
  { nome: "Tarsia", lat: 39.62311, lon: 16.27337, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina Valle del Crati nord", openMeteo: true, stationId: "TARSIA", webcam: "", linkStazione: "#" },
  { nome: "Roggiano Gravina", lat: 39.61786, lon: 16.16173, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina Valle dell'Esaro", openMeteo: true, stationId: "ROGGIANO", webcam: "", linkStazione: "#" },
  { nome: "San Pietro in Guarano", lat: 44.52, lon: 13.48, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Sila cosentina", openMeteo: true, stationId: "SANPIETRO_GUARANO", webcam: "", linkStazione: "#" },
  { nome: "Marano Marchesato", lat: 39.316974, lon: 16.174788, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Catena costiera interna sud", openMeteo: true, stationId: "MARANO_MARCH", webcam: "", linkStazione: "#" },
  { nome: "Carolei", lat: 39.25, lon: 16.217, quota: "ND", provincia: "CS", regione: "Calabria", area: "Serre cosentine", openMeteo: true, stationId: "CAROLEI", webcam: "", linkStazione: "#" },
  { nome: "Dipignano", lat: 39.237886, lon: 16.25324, quota: "ND", provincia: "CS", regione: "Calabria", area: "Serre cosentine", openMeteo: true, stationId: "DIPIGNANO", webcam: "", linkStazione: "#" },
  { nome: "Mangone", lat: 39.205635, lon: 16.332584, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Savuto", openMeteo: true, stationId: "MANGONE", webcam: "", linkStazione: "#" },
  { nome: "Altilia", lat: 39.1286, lon: 16.2532, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Savuto", openMeteo: true, stationId: "ALTILIA", webcam: "", linkStazione: "#" },
  { nome: "Aiello Calabro", lat: 39.117215, lon: 16.166775, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina basso tirreno cosentino", openMeteo: true, stationId: "AIELLO_CALABRO", webcam: "", linkStazione: "#" },
  { nome: "Lamezia Terme", lat: 38.966667, lon: 16.299999, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Piana di Lamezia", openMeteo: true, stationId: "LAMEZIA_TERME", webcam: "", linkStazione: "#" },
  { nome: "Falerna", lat: 39.003346, lon: 16.172041, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa tirrenica catanzarese", openMeteo: true, stationId: "FALERNA", webcam: "", linkStazione: "#" },
  { nome: "San Lucido", lat: 39.309956, lon: 16.051827, quota: "ND", provincia: "CS", regione: "Calabria", area: "Costa tirrenica cosentina", openMeteo: true, stationId: "SAN_LUCIDO", webcam: "", linkStazione: "#" },
  { nome: "Guardia Piemontese", lat: 39.467, lon: 16.0, quota: "ND", provincia: "CS", regione: "Calabria", area: "Costa alto tirreno cosentino", openMeteo: true, stationId: "GUARDIA_PIEM", webcam: "", linkStazione: "#" },
  { nome: "Vena di Maida", lat: 38.888685, lon: 16.407462, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", openMeteo: true, stationId: "VENA_DI_MAIDA", webcam: "", linkStazione: "#" },
  { nome: "Settingiano", lat: 38.910024, lon: 16.514955, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", openMeteo: true, stationId: "SETTINGIANO", webcam: "", linkStazione: "#" },
  { nome: "Caraffa di Catanzaro", lat: 38.88194, lon: 16.4875, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", openMeteo: true, stationId: "CARAFFA", webcam: "", linkStazione: "#" },
  { nome: "Catanzaro Lido", lat: 38.8303, lon: 16.6278, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa Ionica Catanzarese", openMeteo: true, stationId: "CATANZARO_LIDO", webcam: "", linkStazione: "#" },
  { nome: "Simeri Mare", lat: 38.865607, lon: 16.697665, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa Ionica Catanzarese", openMeteo: true, stationId: "SIMERI_MARE", webcam: "", linkStazione: "#" },
  { nome: "Sorbo San Basile", lat: 39.01889, lon: 16.56944, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Pre-Sila catanzarese", openMeteo: true, stationId: "SORBO_BASILE", webcam: "", linkStazione: "#" },
  { nome: "Steccato di Cutro", lat: 38.938014, lon: 16.916678, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa del basso ionio crotonese", openMeteo: true, stationId: "STECCATO_CUTRO", webcam: "", linkStazione: "#" },
  { nome: "Cropani", lat: 38.967, lon: 16.783, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa ionica alto catanzarese", openMeteo: true, stationId: "CROPANI", webcam: "", linkStazione: "#" },
  { nome: "Botricello Superiore", lat: 38.93199, lon: 16.85831, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Collina alto ionio catanzarese", openMeteo: true, stationId: "BOTRICELLO", webcam: "", linkStazione: "#" },
  { nome: "Acconia", lat: 38.83585, lon: 16.2653, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Piana di Lamezia", openMeteo: true, stationId: "ACCONIA", webcam: "", linkStazione: "#" },
  { nome: "Curinga", lat: 38.8281, lon: 16.31344, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Valle dell'Amato", openMeteo: true, stationId: "CURINGA", webcam: "", linkStazione: "#" },
  { nome: "Maida", lat: 38.8588, lon: 16.3628, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", openMeteo: true, stationId: "MAIDA", webcam: "", linkStazione: "#" },
  { nome: "Francavilla Angitola", lat: 38.783, lon: 16.267, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "FRANCAVILLA_ANGITOLA", webcam: "", linkStazione: "#" },
  { nome: "San Pietro Lametino", lat: 38.869082, lon: 16.277958, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Collina della Piana di Lamezia", openMeteo: true, stationId: "SANPIETRO_LAM", webcam: "", linkStazione: "#" },
  { nome: "Squillace", lat: 38.780585, lon: 16.513228, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa ionica del basso catanzarese", openMeteo: true, stationId: "SQUILLACE", webcam: "", linkStazione: "#" },
  { nome: "Montepaone Lido", lat: 38.728733, lon: 16.541554, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Costa ionica del basso catanzarese", openMeteo: true, stationId: "MONTEPAONE_LIDO", webcam: "", linkStazione: "#" },
  { nome: "San Vito sullo Ionio", lat: 38.710368, lon: 16.409777, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Entroterra del basso ionio catanzarese", openMeteo: true, stationId: "SANVITO_IONIO", webcam: "", linkStazione: "#" },
  { nome: "Monterosso Calabro", lat: 38.71792, lon: 16.291973, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "MONTEROSSO_CALABRO", webcam: "", linkStazione: "#" },
  { nome: "Chiaravalle Centrale", lat: 38.680996, lon: 16.411957, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Entroterra del basso ionio catanzarese", openMeteo: true, stationId: "CHIARAVALLE_C", webcam: "", linkStazione: "#" },
  { nome: "Verbicaro", lat: 39.756, lon: 15.916, quota: "ND", provincia: "CS", regione: "Calabria", area: "Pre-Catena Costiera marittima nord", openMeteo: true, stationId: "VERBICARO", webcam: "", linkStazione: "#" },
  { nome: "Orsomarso", lat: 39.799, lon: 15.908, quota: "ND", provincia: "CS", regione: "Calabria", area: "Catena Costiera marittima nord", openMeteo: true, stationId: "ORSOMARSO", webcam: "", linkStazione: "#" },
  { nome: "Cirella", lat: 39.703, lon: 15.823, quota: "ND", provincia: "CS", regione: "Calabria", area: "Alto Tirreno cosentino", openMeteo: true, stationId: "CIRELLA", webcam: "", linkStazione: "#" },
  { nome: "Praia a Mare", lat: 39.909, lon: 15.778, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "PRAIA_A_MARE", webcam: "", linkStazione: "#" },
  { nome: "Laino Borgo", lat: 39.95, lon: 15.97, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Mercure", openMeteo: true, stationId: "LAINO_BORGO", webcam: "", linkStazione: "#" },
  { nome: "Papasidero", lat: 39.87, lon: 15.90, quota: "ND", provincia: "CS", regione: "Calabria", area: "Borgo dell'alto tirreno", openMeteo: true, stationId: "PAPASIDERO", webcam: "", linkStazione: "#" },
  { nome: "Acquaformosa", lat: 39.736, lon: 16.078, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "ACQUAFORMOSA", webcam: "", linkStazione: "#" },
  { nome: "Saracena", lat: 39.849, lon: 16.11, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "SARACENA", webcam: "", linkStazione: "#" },
  { nome: "Cerchiara di Calabria", lat: 39.883, lon: 16.4, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "CERCHIARA_DI_CALABRIA", webcam: "", linkStazione: "#" },
  { nome: "San Lorenzo Bellizzi", lat: 39.88, lon: 16.33, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "SAN_LORENZO_BELLIZZI", webcam: "", linkStazione: "#" },
  { nome: "Plataci", lat: 39.90, lon: 16.43, quota: "ND", provincia: "CS", regione: "Calabria", area: "Parco Nazionale del Pollino", openMeteo: true, stationId: "PLATACI", webcam: "", linkStazione: "#" },
  { nome: "Albidona", lat: 39.937, lon: 16.525, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "ALBIDONA", webcam: "", linkStazione: "#" },
  { nome: "Alessandria del Carretto", lat: 39.984, lon: 16.338, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "ALESSANDRIA_DEL_CARRETTO", webcam: "", linkStazione: "#" },
  { nome: "Terranova di Pollino", lat: 40.032, lon: 16.23, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "TERRANOVA_DI_POLLINO", webcam: "", linkStazione: "#" },
  { nome: "Castroregio", lat: 39.987, lon: 16.51, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CASTROREGIO", webcam: "", linkStazione: "#" },
  { nome: "Oriolo", lat: 40.05, lon: 16.434, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "ORIOLO", webcam: "", linkStazione: "#" },
  { nome: "Montegiordano", lat: 40.04, lon: 16.53, quota: "ND", provincia: "CS", regione: "Calabria", area: "Alto ionio cosentino", openMeteo: true, stationId: "MONTEGIORDANO", webcam: "", linkStazione: "#" },
  { nome: "Nocara", lat: 40.09, lon: 16.48, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "NOCARA", webcam: "", linkStazione: "#" },
  { nome: "Rocca Imperiale", lat: 40.10, lon: 16.58, quota: "ND", provincia: "CS", regione: "Calabria", area: "Alto ionio cosentino", openMeteo: true, stationId: "ROCCA_IMPERIALE", webcam: "", linkStazione: "#" },
  { nome: "Apollinara", lat: 39.70, lon: 16.41, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "APOLLINARA", webcam: "", linkStazione: "#" },
  { nome: "Cantinella", lat: 39.66, lon: 16.44, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CANTINELLA", webcam: "", linkStazione: "#" },
  { nome: "Corigliano Scalo", lat: 39.618, lon: 16.509, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CORIGLIANO_SCALO", webcam: "", linkStazione: "#" },
  { nome: "San Giorgio Albanese", lat: 39.58, lon: 16.45, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "SAN_GIORGIO_ALBANESE", webcam: "", linkStazione: "#" },
  { nome: "San Demetrio Corone", lat: 39.562, lon: 16.51, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "SAN_DEMETRIO_CORONE", webcam: "", linkStazione: "#" },
  { nome: "Cozzo Carbonaro", lat: 39.46, lon: 16.20, quota: "ND", provincia: "CS", regione: "Calabria", area: "Alta Valle del Crati", openMeteo: true, stationId: "COZZO_CARBONARO", webcam: "", linkStazione: "#" },
  { nome: "Taverna di Montalto Uffugo", lat: 39.415, lon: 16.246, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "TAVERNA_DI_MONTALTO_UFFUGO", webcam: "", linkStazione: "#" },
  { nome: "Rose", lat: 39.394, lon: 16.232, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina della media Valle del Crati", openMeteo: true, stationId: "ROSE", webcam: "", linkStazione: "#" },
  { nome: "San Vincenzo la Costa", lat: 39.374, lon: 16.162, quota: "ND", provincia: "CS", regione: "Calabria", area: "Catena Costiera interna", openMeteo: true, stationId: "SAN_VINCENZO_LA_COSTA", webcam: "", linkStazione: "#" },
  { nome: "Lago", lat: 39.16, lon: 16.16, quota: "600", provincia: "CS", regione: "Calabria", area: "Serre Cosentine", openMeteo: true, stationId: "LAGO", webcam: "", linkStazione: "#" },
  { nome: "San Mango d'Aquino", lat: 39.027, lon: 16.217, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Collina della Valle del Savuto", openMeteo: true, stationId: "SAN_MANGO_DAQUINO", webcam: "", linkStazione: "#" },
  { nome: "Panetti", lat: 39.01, lon: 16.30, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina del Monte Reventino", openMeteo: true, stationId: "PANETTI", webcam: "", linkStazione: "#" },
  { nome: "Cicala", lat: 39.02, lon: 16.416, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Pre-Sila catanzarese", openMeteo: true, stationId: "CICALA", webcam: "", linkStazione: "#" },
  { nome: "Panettieri", lat: 39.079, lon: 16.423, quota: "ND", provincia: "CS", regione: "Calabria", area: "Monte Reventino", openMeteo: true, stationId: "PANETTIERI", webcam: "", linkStazione: "#" },
  { nome: "Sellia", lat: 38.832, lon: 16.517, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Collina dell'alto ionio catanzarese", openMeteo: true, stationId: "SELLIA", webcam: "", linkStazione: "#" },
  { nome: "Pianopoli", lat: 38.957, lon: 16.319, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Istmo di Marcellinara", openMeteo: true, stationId: "PIANOPOLI", webcam: "", linkStazione: "#" },
  { nome: "Gizzeria", lat: 38.937, lon: 16.148, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Alto tirreno catanzarese", openMeteo: true, stationId: "GIZZERIA", webcam: "", linkStazione: "#" },
  { nome: "Soveria Simeri", lat: 38.97, lon: 16.659, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Collina dell'alto ionio catanzarese", openMeteo: true, stationId: "SOVERIA_SIMERI", webcam: "", linkStazione: "#" },
  { nome: "Mesoraca", lat: 39.096, lon: 16.789, quota: "ND", provincia: "KR", regione: "Calabria", area: "Pre-Sila catanzarese", openMeteo: true, stationId: "MESORACA", webcam: "", linkStazione: "#" },
  { nome: "San Mauro Marchesato", lat: 39.126, lon: 16.859, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "SAN_MAURO_MARCHESATO", webcam: "", linkStazione: "#" },
  { nome: "Marcedusa", lat: 39.024, lon: 16.858, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "MARCEDUSA", webcam: "", linkStazione: "#" },
  { nome: "Papanice", lat: 39.118, lon: 16.981, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "PAPANICE", webcam: "", linkStazione: "#" },
  { nome: "Capo Colonna", lat: 39.016, lon: 17.135, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CAPO_COLONNA", webcam: "", linkStazione: "#" },
  { nome: "Le Cannella", lat: 38.946, lon: 17.074, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "LE_CANNELLA", webcam: "", linkStazione: "#" },
  { nome: "Le Castella", lat: 38.906, lon: 17.01, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "LE_CASTELLA", webcam: "", linkStazione: "#" },
  { nome: "San Floro", lat: 38.899, lon: 16.486, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "SAN_FLORO", webcam: "", linkStazione: "#" },
  { nome: "Borgia", lat: 38.882, lon: 16.507, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "BORGIA", webcam: "", linkStazione: "#" },
  { nome: "Vallefiorita", lat: 38.778, lon: 16.49, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "VALLEFIORITA", webcam: "", linkStazione: "#" },
  { nome: "Palermiti", lat: 38.71, lon: 16.422, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "PALERMITI", webcam: "", linkStazione: "#" },
  { nome: "Petrizzi", lat: 38.637, lon: 16.474, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "PETRIZZI", webcam: "", linkStazione: "#" },
  { nome: "San Sostene", lat: 38.65, lon: 16.487, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "SAN_SOSTENE", webcam: "", linkStazione: "#" },
  { nome: "Brognaturo", lat: 38.575, lon: 16.373, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "BROGNATURO", webcam: "", linkStazione: "#" },
  { nome: "Badolato", lat: 38.578, lon: 16.556, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "BADOLATO", webcam: "", linkStazione: "#" },
  { nome: "Serra San Bruno", lat: 38.583, lon: 16.316, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "SERRA_SAN_BRUNO", webcam: "", linkStazione: "#" },
  { nome: "Arena", lat: 38.576, lon: 16.157, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "ARENA", webcam: "", linkStazione: "#" },
  { nome: "Monsoreto", lat: 38.521, lon: 16.163, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "MONSORETO", webcam: "", linkStazione: "#" },
  { nome: "Paravati", lat: 38.6, lon: 16.084, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "PARAVATI", webcam: "", linkStazione: "#" },
  { nome: "Mileto", lat: 38.606, lon: 16.067, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "MILETO", webcam: "", linkStazione: "#" },
  { nome: "Briatico", lat: 38.72, lon: 15.949, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "BRIATICO", webcam: "", linkStazione: "#" },
  { nome: "Zambrone", lat: 38.695, lon: 15.959, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "ZAMBRONE", webcam: "", linkStazione: "#" },
  { nome: "Caria", lat: 38.638, lon: 15.958, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "CARIA", webcam: "", linkStazione: "#" },
  { nome: "Maierato", lat: 38.697, lon: 16.111, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "MAIERATO", webcam: "", linkStazione: "#" },
  { nome: "Vibo Marina", lat: 38.721, lon: 16.127, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "VIBO_MARINA", webcam: "", linkStazione: "#" },
  { nome: "Nicotera", lat: 38.533, lon: 15.933, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "NICOTERA", webcam: "", linkStazione: "#" },
  { nome: "San Calogero", lat: 38.53, lon: 16.033, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "SAN_CALOGERO", webcam: "", linkStazione: "#" },
  { nome: "San Ferdinando", lat: 38.483, lon: 15.899, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SAN_FERDINANDO", webcam: "", linkStazione: "#" },
  { nome: "Taurianova", lat: 38.354, lon: 16.03, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "TAURIANOVA", webcam: "", linkStazione: "#" },
  { nome: "Oppido Mamertina", lat: 38.351, lon: 15.986, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "OPPIDO_MAMERTINA", webcam: "", linkStazione: "#" },
  { nome: "Siderno", lat: 38.27, lon: 16.294, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SIDERNO", webcam: "", linkStazione: "#" },
  { nome: "Marina di Gioiosa Ionica", lat: 38.3, lon: 16.318, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MARINA_DI_GIOIOSA_IONICA", webcam: "", linkStazione: "#" },
  { nome: "Roccella Ionica", lat: 38.327, lon: 16.398, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "ROCCELLA_IONICA", webcam: "", linkStazione: "#" },
  { nome: "Marina di Caulonia", lat: 38.389, lon: 16.463, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MARINA_DI_CAULONIA", webcam: "", linkStazione: "#" },
  { nome: "Riace Marina", lat: 38.483, lon: 16.566, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "RIACE_MARINA", webcam: "", linkStazione: "#" },
  { nome: "Villaggio Trepit√≤", lat: 38.386, lon: 16.453, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "VILLAGGIO_TREPIT√í", webcam: "", linkStazione: "#" },
  { nome: "Santa Cristina d'Aspromonte", lat: 38.275, lon: 15.954, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SANTA_CRISTINA_DASPROMONTE", webcam: "", linkStazione: "#" },
  { nome: "Antonimina", lat: 38.195, lon: 16.097, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "ANTONIMINA", webcam: "", linkStazione: "#" },
  { nome: "Ardore", lat: 38.23, lon: 16.171, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "ARDORE", webcam: "", linkStazione: "#" },
  { nome: "Molochio", lat: 38.28, lon: 16.01, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MOLOCHIO", webcam: "", linkStazione: "#" },
  { nome: "Bagnara Calabra", lat: 38.272, lon: 15.799, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "BAGNARA_CALABRA", webcam: "", linkStazione: "#" },
  { nome: "Gallico Marina", lat: 38.17, lon: 15.65, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "GALLICO_MARINA", webcam: "", linkStazione: "#" },
  { nome: "San Gregorio", lat: 38.048, lon: 15.682, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SAN_GREGORIO", webcam: "", linkStazione: "#" },
  { nome: "Cardeto", lat: 38.045, lon: 15.745, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "CARDETO", webcam: "", linkStazione: "#" },
  { nome: "Amendolea", lat: 38.025, lon: 15.887, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "AMENDOLEA", webcam: "", linkStazione: "#" },
  { nome: "Bianco", lat: 38.082, lon: 16.142, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "BIANCO", webcam: "", linkStazione: "#" },
  { nome: "Montebello Ionico", lat: 37.986, lon: 15.759, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MONTEBELLO_IONICO", webcam: "", linkStazione: "#" },
  { nome: "Motta San Giovanni", lat: 38.013, lon: 15.706, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MOTTA_SAN_GIOVANNI", webcam: "", linkStazione: "#" },
  { nome: "Bova Marina", lat: 37.933, lon: 15.918, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "BOVA_MARINA", webcam: "", linkStazione: "#" },
  { nome: "Palizzi Marina", lat: 37.919, lon: 15.973, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "PALIZZI_MARINA", webcam: "", linkStazione: "#" },
  { nome: "Sant'Alessio in Aspromonte", lat: 38.148, lon: 15.709, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SANTALESSIO_IN_ASPROMONTE", webcam: "", linkStazione: "#" },
  { nome: "Santo Stefano in Aspromonte", lat: 38.155, lon: 15.799, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SANTO_STEFANO_IN_ASPROMONTE", webcam: "", linkStazione: "#" },
  { nome: "Gambarie", lat: 38.154, lon: 15.877, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "GAMBARIE", webcam: "", linkStazione: "#" },
  { nome: "Sambatello", lat: 38.179, lon: 15.69, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SAMBATELLO", webcam: "", linkStazione: "#" },
  { nome: "Trunca", lat: 38.155, lon: 15.642, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "TRUNCA", webcam: "", linkStazione: "#" },
  { nome: "Palizzi", lat: 37.939, lon: 15.991, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "PALIZZI", webcam: "", linkStazione: "#" },
  { nome: "Pietrapennata", lat: 38.187, lon: 15.956, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "PIETRAPENNATA", webcam: "", linkStazione: "#" },
  { nome: "Motticella", lat: 38.064, lon: 16.137, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MOTTICELLA", webcam: "", linkStazione: "#" },
  { nome: "Sant'Agata del Bianco", lat: 38.092, lon: 16.176, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SANTAGATA_DEL_BIANCO", webcam: "", linkStazione: "#" },
  { nome: "Locri", lat: 38.243, lon: 16.258, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "LOCRI", webcam: "", linkStazione: "#" },
  { nome: "Marina di Sant'Ilario dello Ionio", lat: 38.174, lon: 16.239, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MARINA_DI_SANTILARIO_DELLO_IONIO", webcam: "", linkStazione: "#" },
  { nome: "Benestare", lat: 38.207, lon: 16.148, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "BENESTARE", webcam: "", linkStazione: "#" },
  { nome: "Plat√¨", lat: 38.19, lon: 16.094, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "PLAT√å", webcam: "", linkStazione: "#" },
  { nome: "Sant'Eufemia d'Aspromonte", lat: 38.287, lon: 15.887, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SANTEUFEMIA_DASPROMONTE", webcam: "", linkStazione: "#" },
  { nome: "Melicucc√†", lat: 38.35, lon: 15.942, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MELICUCC√Ä", webcam: "", linkStazione: "#" },
  { nome: "Monasterace", lat: 38.474, lon: 16.58, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "MONASTERACE", webcam: "", linkStazione: "#" },
  { nome: "Torre di Ruggiero", lat: 38.648, lon: 16.353, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "TORRE_DI_RUGGIERO", webcam: "", linkStazione: "#" },
  { nome: "Sant'Angelo di Gerocarne", lat: 38.639, lon: 16.123, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "SANTANGELO_DI_GEROCARNE", webcam: "", linkStazione: "#" },
  { nome: "San Nicola da Crissa", lat: 38.635, lon: 16.205, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "SAN_NICOLA_DA_CRISSA", webcam: "", linkStazione: "#" },
  { nome: "Montepaone", lat: 38.697, lon: 16.529, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "MONTEPAONE", webcam: "", linkStazione: "#" },
  { nome: "Roccelletta", lat: 38.781, lon: 16.519, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "ROCCELLETTA", webcam: "", linkStazione: "#" },
  { nome: "San Giovanni di Gerace", lat: 38.286, lon: 16.226, quota: "ND", provincia: "RC", regione: "Calabria", area: "Aspromonte", openMeteo: true, stationId: "SAN_GIOVANNI_DI_GERACE", webcam: "", linkStazione: "#" },
  { nome: "Ciricilla", lat: 39.012, lon: 16.365, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "CIRICILLA", webcam: "", linkStazione: "#" },
  { nome: "Villaggio Palumbo", lat: 39.215, lon: 16.762, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "VILLAGGIO_PALUMBO", webcam: "", linkStazione: "#" },
  { nome: "Villaggio Mancuso", lat: 39.022, lon: 16.608, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "VILLAGGIO_MANCUSO", webcam: "", linkStazione: "#" },
  { nome: "Cotronei", lat: 39.16, lon: 16.773, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "COTRONEI", webcam: "", linkStazione: "#" },
  { nome: "Caccuri", lat: 39.164, lon: 16.786, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CACCURI", webcam: "", linkStazione: "#" },
  { nome: "Cerenzia", lat: 39.246, lon: 16.812, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CERENZIA", webcam: "", linkStazione: "#" },
  { nome: "Castelsilano", lat: 39.238, lon: 16.844, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CASTELSILANO", webcam: "", linkStazione: "#" },
  { nome: "Vigne", lat: 39.357, lon: 16.869, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "VIGNE", webcam: "", linkStazione: "#" },
  { nome: "Verzino", lat: 39.326, lon: 16.911, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "VERZINO", webcam: "", linkStazione: "#" },
  { nome: "Savelli", lat: 39.3, lon: 16.762, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "SAVELLI", webcam: "", linkStazione: "#" },
  { nome: "Belvedere di Spinello", lat: 39.236, lon: 16.925, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "BELVEDERE_DI_SPINELLO", webcam: "", linkStazione: "#" },
  { nome: "Casabona", lat: 39.2, lon: 16.991, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "CASABONA", webcam: "", linkStazione: "#" },
  { nome: "San Nicola dell'Alto", lat: 39.221, lon: 17.071, quota: "ND", provincia: "KR", regione: "Calabria", area: "Costa Ionica Crotonese", openMeteo: true, stationId: "SAN_NICOLA_DELLALTO", webcam: "", linkStazione: "#" },
  { nome: "Pino Grande", lat: 39.32, lon: 16.75, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "PINO_GRANDE", webcam: "", linkStazione: "#" },
  { nome: "Lorica", lat: 39.24, lon: 16.51, quota: "ND", provincia: "CS", regione: "Calabria", area: "Altipiano silano", openMeteo: true, stationId: "LORICA", webcam: "", linkStazione: "#" },
  { nome: "Bocchigliero", lat: 39.429, lon: 16.797, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "BOCCHIGLIERO", webcam: "", linkStazione: "#" },
  { nome: "Campana", lat: 39.496, lon: 16.742, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CAMPANA", webcam: "", linkStazione: "#" },
  { nome: "Campo San Lorenzo", lat: 39.36, lon: 16.49, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "CAMPO_SAN_LORENZO", webcam: "", linkStazione: "#" },
  { nome: "Corigliano Calabro", lat: 39.593, lon: 16.519, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CORIGLIANO_CALABRO", webcam: "", linkStazione: "#" },
  { nome: "San Giacomo d'Acri", lat: 39.485, lon: 16.357, quota: "ND", provincia: "CS", regione: "Calabria", area: "Valle del Crati", openMeteo: true, stationId: "SAN_GIACOMO_DACRI", webcam: "", linkStazione: "#" },
  { nome: "Pietrapaola", lat: 39.486, lon: 16.893, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "PIETRAPAOLA", webcam: "", linkStazione: "#" },
  { nome: "Mandatoriccio", lat: 39.508, lon: 16.87, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "MANDATORICCIO", webcam: "", linkStazione: "#" },
  { nome: "Cropalati", lat: 39.466, lon: 16.585, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CROPALATI", webcam: "", linkStazione: "#" },
  { nome: "Paludi", lat: 39.496, lon: 16.671, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "PALUDI", webcam: "", linkStazione: "#" },
  { nome: "Mirto", lat: 39.502, lon: 16.768, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "MIRTO", webcam: "", linkStazione: "#" },
  { nome: "Crosia", lat: 39.517, lon: 16.903, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CROSIA", webcam: "", linkStazione: "#" },
  { nome: "Calopezzati", lat: 39.516, lon: 16.869, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "CALOPEZZATI", webcam: "", linkStazione: "#" },
  { nome: "Camigliano", lat: 38.983, lon: 16.233, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "CAMIGLIANO", webcam: "", linkStazione: "#" },
  { nome: "Fabrizio", lat: 39.635, lon: 16.575, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "FABRIZIO", webcam: "", linkStazione: "#" },
  { nome: "Schiavonea", lat: 39.663, lon: 16.523, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "SCHIAVONEA", webcam: "", linkStazione: "#" },
  { nome: "Laghi di Sibari", lat: 39.72, lon: 16.50, quota: "ND", provincia: "CS", regione: "Calabria", area: "Alto ionio cosentino", openMeteo: true, stationId: "LAGHI_DI_SIBARI", webcam: "", linkStazione: "#" },
  { nome: "Doria", lat: 39.73, lon: 16.35, quota: "ND", provincia: "CS", regione: "Calabria", area: "Sibaritide", openMeteo: true, stationId: "DORIA", webcam: "", linkStazione: "#" },
  { nome: "Firmo", lat: 39.72, lon: 16.17, quota: "ND", provincia: "CS", regione: "Calabria", area: "Collina sibaritide", openMeteo: true, stationId: "FIRMO", webcam: "", linkStazione: "#" },
  { nome: "Miglierina", lat: 39.001, lon: 16.444, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "MIGLIERINA", webcam: "", linkStazione: "#" },
  { nome: "Tiriolo", lat: 38.962, lon: 16.512, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "TIRIOLO", webcam: "", linkStazione: "#" },
  { nome: "San Pietro Apostolo", lat: 39.007, lon: 16.47, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "SAN_PIETRO_APOSTOLO", webcam: "", linkStazione: "#" },
  { nome: "Cerva", lat: 39.029, lon: 16.572, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "CERVA", webcam: "", linkStazione: "#" },
  { nome: "Petron√†", lat: 39.118, lon: 16.632, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "PETRON√Ä", webcam: "", linkStazione: "#" },
  { nome: "Belcastro", lat: 39.027, lon: 16.687, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "BELCASTRO", webcam: "", linkStazione: "#" },
  { nome: "Simeri", lat: 38.971, lon: 16.677, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "SIMERI", webcam: "", linkStazione: "#" },
  { nome: "Dulcino", lat: 39.039, lon: 16.434, quota: "ND", provincia: "CZ", regione: "Calabria", area: "Presila Catanzarese", openMeteo: true, stationId: "DULCINO", webcam: "", linkStazione: "#" },
  { nome: "Filadelfia", lat: 38.818, lon: 16.247, quota: "ND", provincia: "VV", regione: "Calabria", area: "Entroterra Vibonese", openMeteo: true, stationId: "FILADELFIA", webcam: "", linkStazione: "#" },
  { nome: "Olivara", lat: 38.77, lon: 16.21, quota: "ND", provincia: "VV", regione: "Calabria", area: "Costa vibonese", openMeteo: true, stationId: "OLIVARA", webcam: "", linkStazione: "#" }
,
  { nome: "Cosenza Diodato", mlg: true, lat: 39.27, lon: 16.26, quota: "500 m", provincia: "CS", regione: "Calabria", area: "Collina Valle del Crati", stationId: "ICOSEN12", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Aprigliano Guarno", mlg: true, lat: 39.24, lon: 16.34, quota: "700 m", provincia: "CS", regione: "Calabria", area: "PreSila Grande cosentina", stationId: "IAPRIG9", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  
  { nome: "Campora San Giovanni", lat: 39.07, lon: 16.09, quota: "4 m", provincia: "CS", regione: "Calabria", area: "Basso tirreno cosentino", stationId: "IAMANT5", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "#" },
  { nome: "Catanzaro sud", lat: 38.90, lon: 16.59, quota: "280 m", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", stationId: "ICATAN51", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "#" },
  { nome: "Crotone centro", lat: 39.08, lon: 17.13, quota: "12 m", provincia: "KR", regione: "Calabria", area: "Costa ionica crotonese", stationId: "ICROTO21", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "#" },
  { nome: "Torano Castello - Scalo", lat: 39.46, lon: 16.24, quota: "89 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati", stationId: "IMONTA161", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "#" },
// ---------- SEGUONO ESEMPI DA COMPILARE ----------,
  { nome: "Spez. Sila - Moccone", mlg: true, lat: 39.34, lon: 16.44, quota: "1300 m", provincia: "CS", regione: "Calabria", area: "Sila Grande", stationId: "ISPEZZ1", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-10" },
  { nome: "Domanico - Potame", mlg: true, lat: 39.19, lon: 16.20, quota: "1000 m", provincia: "CS", regione: "Calabria", area: "Serre Cosentine", stationId: "IDOMAN19", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-11" },
  { nome: "Feroleto Antico", mlg: true, lat: 38.96, lon: 16.37, quota: "225 m", provincia: "CZ", regione: "Calabria", area: "Piana Lametina", stationId: "IFEROL1", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-12" },
  { nome: "Taverna", mlg: true, lat: 39.02, lon: 16.58, quota: "540 m", provincia: "CZ", regione: "Calabria", area: "Pre-Sila Piccola", stationId: "ITAVER2", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-13" },
  { nome: "Soveria Mannelli", mlg: true, lat: 39.08, lon: 16.37, quota: "710 m", provincia: "CZ", regione: "Calabria", area: "Reventino interno", stationId: "ISOVER27", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-14" },
  { nome: "Capo Bianco", mlg: true, lat: 38.91, lon: 17.11, quota: "12 m", provincia: "KR", regione: "Calabria", area: "Basso ionio crotonese", stationId: "IISOLA24", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-15" },
  { nome: "Saracena", mlg: true, lat: 39.78, lon: 16.16, quota: "650 m", provincia: "CS", regione: "Calabria", area: "Area del Pollino", stationId: "ISARAC8", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-16" },
  { nome: "Frascineto", mlg: true, lat: 39.83, lon: 16.26, quota: "500 m", provincia: "CS", regione: "Calabria", area: "Area del Pollino", stationId: "IFRASC28", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-17" },
  { nome: "Catanzaro centrale", mlg: true, lat: 38.92, lon: 16.59, quota: "350 m", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro", stationId: "ICATAN57", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-18" },
  { nome: "Vibo V. - Olivarella", mlg: true, lat: 38.67, lon: 16.08, quota: "420 m", provincia: "VV", regione: "Calabria", area: "Monte Leone", stationId: "IVIBOV3", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-19" },
  { nome: "Catanzaro - Viale Crotone", mlg: true, lat: 38.84, lon: 16.65, quota: "32 m", provincia: "CZ", regione: "Calabria", area: "Ionio catanzarese", stationId: "ICATAN92", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-20" },
  { nome: "Marina di Curinga", mlg: true, lat: 38.83, lon: 16.22, quota: "38 m", provincia: "CZ", regione: "Calabria", area: "Basso tirreno catanzarese", stationId: "IFRANC35", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-21" },
  { nome: "Capo Vaticano - Frizza", mlg: true, lat: 38.63, lon: 15.83, quota: "100 m", provincia: "VV", regione: "Calabria", area: "Costa vibonese", stationId: "IRICADI98", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-22" },
  { nome: "Reggio Calabria - Stadio", mlg: true, lat: 38.10, lon: 15.65, quota: "90 m", provincia: "RC", regione: "Calabria", area: "Area dello stretto", stationId: "IREGGI58", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-23" },
  { nome: "San Lorenzo - Marina", mlg: true, lat: 37.92, lon: 15.80, quota: "5 m", provincia: "RC", regione: "Calabria", area: "Basso reggino", stationId: "IMELIT15", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-24" },
  { nome: "Brancaleone Marina", mlg: true, lat: 37.96, lon: 16.10, quota: "28 m", provincia: "RC", regione: "Calabria", area: "Basso ionio reggino", stationId: "ICALABRI4", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-25" },
  { nome: "Sant'Ilario dello Ionio", mlg: true, lat: 38.21, lon: 16.19, quota: "32 m", provincia: "RC", regione: "Calabria", area: "Ionio reggino", stationId: "ISANTI149", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-26" },
  { nome: "Siderno - Corso Garibaldi", mlg: true, lat: 38.26, lon: 16.29, quota: "70 m", provincia: "RC", regione: "Calabria", area: "Alto ionio reggino", stationId: "ISIDERNO2", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-27" },
  { nome: "Molochio", mlg: true, lat: 38.31, lon: 16.03, quota: "120 m", provincia: "RC", regione: "Calabria", area: "Aspromonte occidentale", stationId: "IMOLOC3", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-28" },
  { nome: "Rende - Piano Monello", mlg: true, lat: 39.34, lon: 16.23, quota: "200 m", provincia: "CS", regione: "Calabria", area: "Valle del Crati", stationId: "IRENDE15", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-29" },
  { nome: "Rende Nord", mlg: true, lat: 39.36, lon: 16.23, quota: "137 m", provincia: "CS", regione: "Calabria", area: "Media Valle del Crati", stationId: "IRENDE23", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-30" },
  { nome: "Corigliano - Villaggio Frasso", mlg: true, lat: 39.64, lon: 16.48, quota: "80 m", provincia: "CS", regione: "Calabria", area: "Sibaritide", stationId: "ICORIG10", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-31" },
  { nome: "Cosenza Sud", mlg: true, lat: 39.29, lon: 16.23, quota: "310 m", provincia: "CS", regione: "Calabria", area: "Bassa Valle del Crati", stationId: "ICALABRI46", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-32" },
  { nome: "Cosenza - Citt√† 2000", mlg: true, lat: 40.15000, lon: 17.15000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP33", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-33" },
  { nome: "Esempio Stazione 34", mlg: true, lat: 40.20000, lon: 17.20000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP34", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-34" },
  { nome: "Esempio Stazione 35", mlg: true, lat: 40.25000, lon: 17.25000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP35", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-35" },
  { nome: "Esempio Stazione 36", mlg: true, lat: 40.30000, lon: 17.30000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP36", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-36" },
  { nome: "Esempio Stazione 37", mlg: true, lat: 40.35000, lon: 17.35000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP37", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-37" },
  { nome: "Esempio Stazione 38", mlg: true, lat: 40.40000, lon: 17.40000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP38", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-38" },
  { nome: "Esempio Stazione 39", mlg: true, lat: 40.45000, lon: 17.45000, quota: "100 m", provincia: "CS", regione: "Calabria", area: "Area di Test", stationId: "IESEMP39", apiKey: "123456789", webcam: "", linkStazione: "https://esempio.it/stazioni/esempio-stazione-39" },
  { nome: "Longobardi Marina", mlg: true, lat: 39.196082, lon: 16.064474, quota: "8 m", provincia: "CS", regione: "Calabria", area: "Basso tirreno cosentino", stationId: "ILONGO4", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Cosenza - Viale Parco", mlg: true, lat: 39.32, lon: 16.25, quota: "205 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati sud", stationId: "ICOSEN19", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Rende - Santa Chiara", mlg: true, lat: 39.34, lon: 16.26, quota: "182 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati sud", stationId: "IRENDE25", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "San Pietro in Guarano Est", mlg: true, lat: 39.34, lon: 16.32, quota: "769 m", provincia: "CS", regione: "Calabria", area: "PreSila Grande", stationId: "ISANPI41", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Casali del Manco - Verticelli", mlg: true, lat: 39.28, lon: 16.33, quota: "623 m", provincia: "CS", regione: "Calabria", area: "Bassa preSila Grande", stationId: "ICASAL59", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Catanzaro Santa Maria", mlg: true, lat: 38.87, lon: 16.60, quota: "27 m", provincia: "CZ", regione: "Calabria", area: "Istmo di Catanzaro orientale", stationId: "ICATAN48", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Luzzi - Cavoni", mlg: true, lat: 39.45, lon: 16.26, quota: "135 m", provincia: "CS", regione: "Calabria", area: "Fondovalle del Crati centro", stationId: "ILUZZI4", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Capo Bonifati", mlg: true, lat: 39.55, lon: 15.87, quota: "17 m", provincia: "CS", regione: "Calabria", area: "Alto tirreno cosentino", stationId: "IBONIF3", apiKey: "e1f10a1e78da46f5b10a1e78da96f525", webcam: "", linkStazione: "" },
  { nome: "Esempio Stazione 9", mlg: true, lat: 0, lon: 0, quota: "", provincia: "", regione: "", area: "", stationId: "ESEMPIO9", apiKey: "", webcam: "", linkStazione: "" },
  { nome: "Esempio Stazione 10", mlg: true, lat: 0, lon: 0, quota: "", provincia: "", regione: "", area: "", stationId: "ESEMPIO10", apiKey: "", webcam: "", linkStazione: "" }
];
/******************** STAZIONI WU & LIVE *************************/
const DEFAULT_WU_KEY = "e1f10a1e78da46f5b10a1e78da96f525";
window.stazioni.forEach(s=>{ if(!s.apiKey) s.apiKey = DEFAULT_WU_KEY; });

function nearestWU(lat,lon,maxKm=15){
  let best=null,dMin=1e9;
  window.stazioni.forEach(s=>{
    if(!s.stationId) return;
    const d=haversine(lat,lon,s.lat,s.lon);
    if(d<dMin && d<=maxKm){ dMin=d; best={...s,distance:d}; }
  });
  return best;
}

async function wuObs(st){
  if(!st || !st.stationId) throw new Error("Stazione non disponibile");
  const url=`https://api.weather.com/v2/pws/observations/current?stationId=${st.stationId}&format=json&units=m&apiKey=${st.apiKey}`;
  const r=await fetch(url);
  if(!r.ok) throw new Error("WU "+st.stationId+": "+r.status);
  const j=await r.json();
  const o=j.observations?.[0];
  const m=o?.metric ?? {};
  return {t:m.temp,ur:o.humidity,wind:m.windSpeed,rain:(m.precip_1hr||0)};
}

/******************** EXTRA PANELS (render) *********************/
function iconFA(c){
  const ICONS={
    0:"fa-sun",1:"fa-cloud-sun",2:"fa-cloud",3:"fa-cloud",
    45:"fa-smog",48:"fa-smog",
    51:"fa-cloud-rain",53:"fa-cloud-rain",55:"fa-cloud-showers-heavy",
    56:"fa-cloud-meatball",57:"fa-cloud-meatball",
    61:"fa-cloud-showers-heavy",63:"fa-cloud-showers-heavy",65:"fa-cloud-showers-heavy",
    66:"fa-snowflake",67:"fa-snowflake",
    71:"fa-snowflake",73:"fa-snowflake",75:"fa-snowflake",77:"fa-snowflake",
    80:"fa-cloud-showers-heavy",81:"fa-cloud-showers-heavy",82:"fa-cloud-showers-heavy",
    85:"fa-snowflake",86:"fa-snowflake",
    95:"fa-bolt",96:"fa-bolt",99:"fa-bolt"
  };
  return ICONS[c]||"fa-question";
}

function renderStation(live,name,dist){
  const distTxt = dist<0.05 ? "dalla stazione locale"
                : dist<10 ? `dalla stazione ${name} a ${dist.toFixed(1)} km`
                : `dalla stazione ${name} (${dist.toFixed(0)} km)`;
  return `
    <div class="panel">
      <div class="station-header">
        <h2>Dati Live</h2>
        <span style="font-size:.85rem;color:var(--text-dim)">${distTxt}</span>
      </div>
      <div class="metric-row">
        <div class="metric"><span class="main-temp">${fmt(live.t,"¬∞")}</span></div>
        <div class="metric"><i class="fa-solid fa-droplet"></i> ${fmt(live.ur,"%")}</div>
        <div class="metric"><i class="fa-solid fa-wind"></i> ${fmt(live.wind," km/h")}</div>
        <div class="metric"><i class="fa-solid fa-cloud-rain"></i> ${fmt(live.rain," mm",1)}</div>
      </div>
    </div>`;
}

function renderHourly(data,idx){
const rows=[];
  // Determine the base day for this slice
  var baseISO = (data && data.hourly && data.hourly.time && data.hourly.time[idx]) ? String(data.hourly.time[idx]).slice(0,10) : '';
  var todayISO = (function(){ var d=new Date(); d.setHours(0,0,0,0); return d.toISOString().slice(0,10); })();
  var applyLive = (baseISO === todayISO);

  for(let i=idx;i<idx+24&&i<data.hourly.time.length;i++){
    // adjust forecast using LIVE data (temperature & humidity offsets) only for TODAY
    const tempOffset = (applyLive && LIVE && !isNaN(LIVE.t)) ? (LIVE.t - data.hourly.temperature_2m[idx]) : 0;
    const urOffset = (applyLive && LIVE && !isNaN(LIVE.ur)) ? (LIVE.ur - data.hourly.relativehumidity_2m[idx]) : 0;
    const isNightTime = data.hourly.is_day && data.hourly.is_day[i]===0;

    rows.push(
      `<tr>
        <td style="padding:12px 10px;">${data.hourly.time[i].slice(11,16)}</td>
        <td style="padding:12px 10px; width:36px;">${iconHTML_NOEMOJI(data.hourly.weathercode[i], isNightTime)}</td>
        <td style="padding:12px 10px;">${wmoDesc(data.hourly.weathercode[i])}</td>
        <td style="padding:12px 10px;">${fmt(applyOverride(data.hourly.time[i].slice(11,16),"t",data.hourly.temperature_2m[i]+tempOffset),"¬∞")}</td>
        <td style="padding:12px 10px;">${fmt(applyOverride(data.hourly.time[i].slice(11,16),"ur",data.hourly.relativehumidity_2m[i]+urOffset),"%")}</td>
        <td style="padding:12px 10px;">${fmt(applyOverride(data.hourly.time[i].slice(11,16),"mm",data.hourly.precipitation[i])," mm",1)}</td>
        <td style="padding:12px 10px;">${fmt(applyOverride(data.hourly.time[i].slice(11,16),"prob",data.hourly.precipitation_probability[i]),"%")}</td>
        <td style="padding:12px 10px;">${fmt(data.hourly.wind_speed_10m[i]," km/h")}</td>
      </tr>`
    );
  }
  // polished card with mobile-friendly horizontal scroll and sticky title
  return `
    <div class="card hourly-card" style="border-radius:14px; box-shadow:0 10px 28px rgba(0,0,0,.25); overflow:hidden;">
      <h3 style="margin:0; padding:14px 16px; position:sticky; top:0; background:rgba(255,255,255,.14); z-index:3;">Prossime 24¬†h</h3>
      <div class="scroll-x" style="overflow-x:auto; -webkit-overflow-scrolling:touch; padding:0 4px;">
        <table class="hourly" style="border-collapse:separate; border-spacing:0; width:max-content; min-width:560px;">
          <thead>
            <tr>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Ora</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);"></th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Cond.</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Temp.</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">UR</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Pioggia</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Prob.</th>
              <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Vento</th>
            </tr>
          </thead>
          <tbody>
            ${rows.join("\n")}
          </tbody>
        </table>
      </div>
    </div>`;
}


function dailyHeadlineCode(data, i){
  const cd  = (data.daily.weathercode_day && data.daily.weathercode_day[i]!==undefined) ? Number(data.daily.weathercode_day[i]) : undefined;
  const cn  = (data.daily.weathercode_night && data.daily.weathercode_night[i]!==undefined) ? Number(data.daily.weathercode_night[i]) : undefined;
  const c   = (data.daily.weathercode && data.daily.weathercode[i]!==undefined) ? Number(data.daily.weathercode[i]) : undefined;

  // Priority buckets: choose the first bucket that matches any code among DAY -> (ALL-DAY) -> NIGHT
  const buckets = [
    [95,96,99],               // Thunderstorms (most significant)
    [82,67,65,75,86],         // Heavy rain/snow/freezing rain
    [80,81,61,63,71,73,85],   // Showers / rain / snow (light-moderate)
    [45,48],                  // Fog / low stratus
    [3,2,1,0]                 // Cloudiness / clear
  ];
  const candidates = [cd, c, cn].filter(v => v!==undefined);

  for(const group of buckets){
    for(const v of candidates){
      if(group.includes(Number(v))) return Number(v);
    }
  }
  // Fallback
  return (cd!==undefined) ? cd : (c!==undefined ? c : (cn!==undefined ? cn : 2));
}


function renderDaily(data){
  let h='<div class="card"><h3>Previsioni fino a una settimana</h3><div class="days">';
  for(let i=0;i<data.daily.time.length;i++){
    h += `
      <div class="day">
        <div>${data.daily.time[i].slice(5)}</div>
        <span class="daily-icon">
${ (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 const head = dailyHeadlineCode(data,i); return iconHTML_NOEMOJI(head, false); })() }
<i class="fa-solid ${ (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 const head = dailyHeadlineCode(data,i); return iconFA(head); })() } alt-icon" aria-hidden="true"></i>
</span>
        <div>${fmt(data.daily.temperature_2m_max[i],"¬∞")}</div>
        <div class="min">${fmt(data.daily.temperature_2m_min[i],"¬∞")}</div>
      </div>`;
  }
  return h+'</div></div>';
}

function renderAdvice(live,data,idx){
  let wet = live.rain>0.1;
  for(let i=idx;i<idx+6&&i<data.hourly.time.length;i++){
    if(data.hourly.precipitation_probability[i]>40||data.hourly.precipitation[i]>0.2) wet=true;
  }
  return `<div class="panel advice ${wet?"no":"ok"}">${wet?"üö´¬†Meglio rimandare":"üëç¬†Bucato OK"}</div>`;
}

const sEl=$('#nearestStation'),hEl=$('#hourlyPanel'),dEl=$('#dailyPanel'),aEl=$('#adviceBox');

/******************** GEOCODE & FORECAST DETTAGLIATO PER RICERCA ***************/

async function geocode(q){
  // Normalizza query (es. "Cosenza (CS)", "fraz. Lido, Catanzaro")
  q = (q||'').replace(/\((?:CS|CZ|RC|KR|VV)\)/ig,'')
             .replace(/fraz\.?/ig,'')
             .replace(/\s+/g,' ')
             .trim();

  // 1) Open‚ÄëMeteo geocoding (fuzzy, pi√π risultati)
  const url=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(q)}&count=10&language=it&format=json`;
  try{
    const r=await fetch(url);
    if(r.ok){
      const j=await r.json();
      if(j.results?.length){
        // Scegli il migliore per popolazione + vicinanza all'Italia
        const best = j.results
          .filter(x => !x.admin1 || /italia|calabria/i.test([x.country, x.admin1, x.admin2].join(' ')))
          .sort((a,b)=>(b.population||0)-(a.population||0))[0] || j.results[0];
        return best;
      }
    }
  }catch(e){ /* passa al fallback */ }

  // 2) Fallback Nominatim (copre frazioni piccole)
  try{
    const url2=`https://nominatim.openstreetmap.org/search?format=jsonv2&limit=1&accept-language=it&q=${encodeURIComponent(q+' , Italia')}`;
    const r2 = await fetch(url2, {headers:{'User-Agent':'mlg-assistant'}});
    if(r2.ok){
      const j2 = await r2.json();
      if(j2?.length){
        return { name: j2[0].display_name.split(',')[0], latitude: +j2[0].lat, longitude: +j2[0].lon, country: 'Italy' };
      }
    }
  }catch(e){}

  throw new Error("Localit√† non trovata");
}


async function forecastDetailed(lat,lon){
  const url=`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&timezone=auto&current_weather=true&hourly=weathercode,temperature_2m,relativehumidity_2m,uv_index,uv_index_clear_sky,wind_speed_10m,wind_gusts_10m,relativehumidity_2m,precipitation,precipitation_probability,wind_speed_10m,is_day&daily=temperature_2m_max,temperature_2m_min,weathercode,sunrise,sunset`;
  const r=await fetch(url);
  if(!r.ok) throw new Error("Errore meteo");
  return r.json();
}

async function run(q){
  try{
    sEl.innerHTML=hEl.innerHTML=dEl.innerHTML=aEl.innerHTML="‚è≥";
    const g = await geocode(q);
    const lat=g.latitude, lon=g.longitude;
    const fc = await forecastDetailed(lat,lon);
    window.fc = fc;
try{ if(window.applySectorCondMiniToForecast) window.applySectorCondMiniToForecast(fc); }catch(e){}
/* nearest station */
    const st=nearestWU(lat,lon) || {nome:g.name,distance:Infinity};
    const now=Date.now();
    let idx = fc.hourly.time.findIndex(t=>Date.parse(t) >= now - 1800000);
    if(idx<0) idx = fc.hourly.time.length-1;
    LIVE = { t: fc.current_weather?.temperature,
         ur: fc.hourly?.relativehumidity_2m?.[idx],
         wind: fc.current_weather?.windspeed,
         rain: fc.hourly?.precipitation?.[idx] };
let live=LIVE;

    try{
      const obs = await wuObs(st);
      live = obs;
    LIVE = live;
}catch(e){ console.warn(e); }
    
if(live && Number.isFinite(live.t)){ try{ LIVE = live; }catch(e){} }
try{
  if(live && Number.isFinite(live.t) && fc && fc.daily && Array.isArray(fc.daily.temperature_2m_max)){
    // Auto‚Äëcorrezione: la massima di OGGI non pu√≤ essere inferiore alla temperatura live
    if(Array.isArray(fc.daily.time) && fc.daily.time.length){
      const todayIdx = 0; // i dati daily sono indicizzati da oggi
      const curr = Number(fc.daily.temperature_2m_max[todayIdx]);
      const lt = Number(live.t);
      if(Number.isFinite(curr) && Number.isFinite(lt)){
        fc.daily.temperature_2m_max[todayIdx] = Math.max(curr, lt);
      }
    }
  }
}catch(e){}

if(live && Number.isFinite(live.t)){ try{ LIVE = live; }catch(e){} }
try{
  if(live && Number.isFinite(live.t) && fc && fc.daily && Array.isArray(fc.daily.temperature_2m_max)){
    // Auto‚Äëcorrezione: la massima di OGGI non pu√≤ essere inferiore alla temperatura live
    if(Array.isArray(fc.daily.time) && fc.daily.time.length){
      const todayIdx = 0; // i dati daily sono indicizzati da oggi
      const curr = Number(fc.daily.temperature_2m_max[todayIdx]);
      const lt = Number(live.t);
      if(Number.isFinite(curr) && Number.isFinite(lt)){
        fc.daily.temperature_2m_max[todayIdx] = Math.max(curr, lt);
      }
    }
  }
}catch(e){}
sEl.innerHTML=renderStation(live,st.nome||g.name,st.distance||0);



try{
  // Usa ESCLUSIVAMENTE la stringa ricercata (q) o, in fallback, g.name
  const __placeName = (typeof q === 'string' && q.trim()) || (g && g.name) || '';
  // Crea/aggiorna una sola riga minimale sopra il box 7-giorni
  const daily = document.getElementById('dailyPanel');
  if(daily && daily.parentNode){
    let head = document.getElementById('searchHeadline');
    if(!head){
      head = document.createElement('div');
      head.id = 'searchHeadline';
      head.innerHTML = '<span id="searchHeadlineTitle"></span>';
      daily.parentNode.insertBefore(head, daily);
    }
    const title = document.getElementById('searchHeadlineTitle');
    if(title){
      title.textContent = 'Previsioni di Meteo Lo Gullo per ' + (__placeName || 'la localit√† cercata');
    }
  }
}catch(_e){}
hEl.innerHTML=renderHourly(window.fc,idx);
    
try{
  if(LIVE && Number.isFinite(LIVE.t)){
    const table = hEl.querySelector('tbody');
    const rows = table ? table.querySelectorAll('tr') : [];
    if(rows && rows.length){
      const firstRow = rows[0];
      // 4th column is the temperature cell in our table
      const tempCell = firstRow && firstRow.children ? firstRow.children[3] : null;
      if(tempCell){
        const liveRounded = Math.round(LIVE.t);
        // Replace only the number, keep the degree symbol and any spacing
        tempCell.innerHTML = (liveRounded) + "¬∞";
      }
    }
  }
}catch(e){}
dEl.innerHTML=renderDaily(fc);
    window.renderDayParts && window.renderDayParts(window.subForecastByDay ? window.subForecastByDay(fc, 0) : fc);
try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
    /* Double refresh per "oggi": forza un secondo aggiornamento dopo che
       eventuali override/settore sono stati applicati in background */
    setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

      try{
        if(window.fc && typeof window.__applyRangeOverrides==='function'){
          window.__applyRangeOverrides(window.fc);
        }
        if(window.renderDayParts){
          var sub = (window.subForecastByDay) ? window.subForecastByDay(window.fc, 0) : window.fc;
          window.renderDayParts(sub);
          try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
        }
      }catch(e){}
    }, 80);

aEl.innerHTML=renderAdvice(live,fc,idx);
    $('#radarFrame').src=`https://embed.windy.com/embed2.html?lat=${lat}&lon=${lon}&detailLat=${lat}&detailLon=${lon}&width=650&height=450&zoom=6&level=surface&overlay=radar&product=ecmwf`;
  }catch(e){
    console.error(e);
    alert(e.message || e);
  }
}

/******************** THEME & ADMIN PANEL *************************/
function toggleTheme(){
  night = !night;
  document.body.classList.toggle('night', night);
  $('#themeBtn').textContent = night ? '‚òÄÔ∏è' : 'üåô';
  render();
}

$('#themeBtn').addEventListener('click',toggleTheme);

const admin = $('#adminPanel');
$('#fab').addEventListener('click', ()=>{
  $('#stationsCount').textContent = `Stazioni caricate: ${window.stazioni.length}`;
  admin.classList.add('open');
});
$('#closeAdmin').addEventListener('click', ()=>admin.classList.remove('open'));
$('#reloadBtn').addEventListener('click', ()=>{
  admin.classList.remove('open');
  loadCalabria();
});

/******************** INIT *************************/
document.getElementById('searchForm').addEventListener('submit',e=>{
  e.preventDefault();
  run($('#cityInput').value.trim());
});


document.addEventListener('DOMContentLoaded',()=>{
  loadCalabria();
});


/******************** ADMIN PANEL (marker edit) *********************/
const ADMIN = {
  open(){
    document.body.classList.add('modal-open');
    document.getElementById('markerJson').value = JSON.stringify(PROVINCES,null,2);
    document.getElementById('adminOverlay').classList.remove('hidden');
  },
  save(){
    try{
      const data = JSON.parse(document.getElementById('markerJson').value);
      if(Array.isArray(data)){
        PROVINCES = data;
        localStorage.setItem('calabriaMarkers',JSON.stringify(PROVINCES));
        rebuildDays && rebuildDays();
        ADMIN.close();
      }
    }catch(e){ alert('JSON non valido'); }
  },
  close(){
    document.body.classList.remove('modal-open');
    document.getElementById('adminOverlay').classList.add('hidden');
  }
};
document.addEventListener('DOMContentLoaded',()=>{
  document.getElementById('fab').addEventListener('click',ADMIN.open);
  document.getElementById('closeAdmin').addEventListener('click',ADMIN.close);
  document.getElementById('saveMarkers').addEventListener('click',ADMIN.save);
});

/******************** OVERRIDE PREVISIONI 24H *******************/
let HOURLY_OVERRIDE = JSON.parse(localStorage.getItem("override24h")||"{}");
function openOverride(){
  $('#overridePanel').style.display="flex";
  $('#overrideJSON').value = JSON.stringify(HOURLY_OVERRIDE,null,2);
}
function closeOverride(){ $('#overridePanel').style.display="none"; }
document.addEventListener('DOMContentLoaded', () => {
$('#btnSaveOverride').onclick = ()=>{
  try{
    HOURLY_OVERRIDE = JSON.parse($('#overrideJSON').value||"{}");
    localStorage.setItem("override24h", JSON.stringify(HOURLY_OVERRIDE));
    alert("Override salvato! Aggiorna la pagina.");
    closeOverride();
  }catch(e){ alert("JSON non valido: "+e.message); }
};
$('#btnCancelOverride').onclick = closeOverride;
});

// Merge override into forecast row builder
function applyOverride(hh, field, original){
  const o = HOURLY_OVERRIDE[hh];
  if(!o || o[field] === undefined) return original;
  return o[field];
}


document.getElementById('fab').addEventListener('contextmenu',e=>{
  e.preventDefault(); openOverride();
});

</script>
<!-- Admin overlay -->
<div class="modal hidden" id="adminOverlay">
<div class="box">
<h2>Modifica marker</h2>
<textarea id="markerJson"></textarea>
<div style="display:flex;justify-content:flex-end;gap:.6rem;margin-top:.5rem">
<button id="saveMarkers">Salva</button>
<button id="closeAdmin">Chiudi</button>
</div>
</div>
</div>
<script>
/* === Map Control Panel integrato === */
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const panel=document.getElementById('panel');
  if(!panel) return;

  /* ‚Äî‚Äî‚Äî Elementi DOM ‚Äî‚Äî‚Äî */
  
        const btnAddMarker=$('#btnAddMarker'), iconList=$('#iconList');

        /* ‚Äî‚Äî Icon picker ‚Äî‚Äî‚Äî */
        const iconSet=[
   "Sereno giorno.PNG","Sereno notte.PNG",
  "Parzialmente nuvoloso giorno.PNG","Parz nuvoloso notte.PNG",
  "nuvoloso.png",
  "Nebbia nuvole basse.PNG",
  "Possibili piovaschi giorno.PNG","Possibili piovaschi notte.PNG",
  "Pioggia debole.PNG","Pioggia moderata.PNG",
  "Neve .PNG",
  "Possibili temporali.PNG", "Poco nuvoloso giorno.PNG", "Poco nuvoloso notte.PNG","Pioggia debole.PNG","Pioggia mista a neve.PNG","pioggia forte.png","Mare grosso.PNG","Mare mosso.PNG","Mare poco mosso.PNG","Nuvoloso.PNG","ventodebole.png","ventoforte.png","ventonormale.png","molto nuvoloso giorno (2).png","molto nuvoloso notte.png","pioggia e schiarite giorno.png","pioggia e schiarite notte.png","pioggia forte.png","temporale moderato e schiarite notte.png","temporale moderato e schiarite giorno.png","temporale moderato.png","coperto.png","molto nuvoloso giorno.png","molto nuvoloso notte.png"
];
        const iconPicker=document.getElementById('iconPicker');
        function buildIconPicker(selected){
          if(!iconPicker) return;
          iconPicker.innerHTML='';
          iconSet.forEach(ic=>{
            const b=document.createElement('button');
            b.type='button';
            b.title=ic; b.dataset.icon=ic; b.innerHTML = (typeof buildDirectIconHTML_NOEMOJI === 'function') ? buildDirectIconHTML_NOEMOJI(ic) : ic;
            if(ic===selected) b.classList.add('active');
            b.addEventListener('click',()=>{ 
            inpIcon.value=ic; buildIconPicker(ic);
            // Preview live e salvataggio immediato dell'icona del marker selezionato
            try{
              if(editIdx!==null){
                const mk=document.querySelector('#mapArea .marker[data-idx="'+editIdx+'"]');
                if(mk){
                  mk.innerHTML = (typeof buildDirectIconHTML_NOEMOJI === 'function') ? buildDirectIconHTML_NOEMOJI(ic) : mk.innerHTML;
                }
                const pt=DAYS[curDay].points[editIdx];
                const uid=pt.uid || uidForCity(pt.city);
                // assegna anche all'oggetto del giorno corrente (vale per giorno+notte)
                (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const _g = (typeof window.chkGlobal!=='undefined' && window.chkGlobal && window.chkGlobal.checked);
  if(_g){ pt.icon = ic; pt.code = undefined; }
})();
const _d=new Date(); _d.setHours(0,0,0,0); _d.setDate(_d.getDate()+curDay);
                const _key=_d.toISOString().slice(0,10);
                const seg = night ? 'night' : 'day';
                if (typeof saveDailyIconOverrideV3 === 'function') {
                  saveDailyIconOverrideV3(_key, uid, seg, { icon: ic });
                }
                saveState();
              }
            }catch(e){ console.warn('autosave icon failed', e); }
          });
            iconPicker.appendChild(b);
          });
        }


        /* ‚Äî‚Äî‚Äî Add new marker ‚Äî‚Äî‚Äî */
        btnAddMarker && btnAddMarker.addEventListener('click', async ()=>{
          const query = prompt('Inserisci la localit√† (es: "Cosenza, Italia" oppure "39.31, 16.27")','');
          if(!query) return;
          toast('Ricerca coordinate‚Ä¶');
          let lat,lon,display;
          // parse "lat,lon" if provided
          const latlon = query.split(',').map(s=>s.trim());
          if(latlon.length===2 && !isNaN(parseFloat(latlon[0])) && !isNaN(parseFloat(latlon[1]))){
            lat = parseFloat(latlon[0]); lon = parseFloat(latlon[1]); display = query;
          }else{
            try{
              const res = await fetch(`https://nominatim.openstreetmap.org/search?format=jsonv2&limit=1&q=${encodeURIComponent(query)}`);
              const arr = await res.json();
              if(!arr.length){ toast('Localit√† non trovata'); return; }
              lat = parseFloat(arr[0].lat);
              lon = parseFloat(arr[0].lon);
              display = arr[0].display_name.split(',')[0];
            }catch(e){
              console.error(e); toast('Errore geocoding'); return;
            }
          }
          const {x,y}=latLonToXY(lat,lon);
          const uid = uidCustom();
          try{
            const data = await forecast(lat,lon);
            const dayCount=data.daily.time.length;
for(let d=0; d<dayCount; d++){
  const codeDay   = (data.daily.weathercode_day && data.daily.weathercode_day[d]!==undefined) ? data.daily.weathercode_day[d] : data.daily.weathercode[d];
  const codeNight = (data.daily.weathercode_night && data.daily.weathercode_night[d]!==undefined) ? data.daily.weathercode_night[d] : data.daily.weathercode[d];
  const pt={uid, city:display||query, x,y,lat,lon,
            code:data.daily.weathercode[d],
            code_day: codeDay,
            code_night: codeNight,
            tmax:Math.round(data.daily.temperature_2m_max[d]),
            tmin:Math.round(data.daily.temperature_2m_min[d])};
  DAYS[d].points.push(pt);
}

            // persist custom metadata & initial position
            if(!PERSIST.custom) PERSIST.custom = [];
            PERSIST.custom.push({uid,city:display||query,lat,lon});
            if(!PERSIST.positions) PERSIST.positions = {};
            PERSIST.positions[uid] = {x,y};
            saveState();
            buildSelectors();
            updateIconList();
            render();
            toast('Marker aggiunto e salvato in locale');
          }catch(e){
            console.error(e);
            toast('Errore nel recuperare dati meteo');
          }
        });

        /* ‚Äî‚Äî‚Äî Icon list ‚Äî‚Äî‚Äî */
        function updateIconList(){
          if(!iconList) return;
          iconList.innerHTML='';
          DAYS[curDay].points.forEach((p,i)=>{
            const btn=document.createElement('button');
            btn.type='button';
            btn.textContent=p.icon;
            btn.title=p.city;
            if(i===editIdx) btn.classList.add('active');
            btn.addEventListener('click',()=>{
              editIdx=i; panel.classList.add('open'); editMarker.call({dataset:{idx:i}}, new Event('click'));
              updateIconList();
            });
            iconList.appendChild(btn);
          });
        }
        /* aggiorna lista quando si cambia giorno o rende */
        const oldRender=window.render;
        window.render=function(){ oldRender(); updateIconList(); }
const selDay=$('#selDay'), inpDayName=$('#inpDayName'), inpIcon=$('#inpIcon'),
        selCity=$('#selCity'), inpTmax=$('#inpTmax'), inpTmin=$('#inpTmin'),
        inpMarkerSize=$('#inpMarkerSize'), toastEl=$('#toast'),
        btnSaveMarker=$('#btnSaveMarker'), btnDeleteMarker=$('#btnDeleteMarker'),
        btnSaveLayout=$('#btnSaveLayout'), btnReset=$('#btnReset'),
        btnSaveForecast=$('#btnSaveForecast');
const inpMarkerSizeOne=$('#inpMarkerSizeOne'), btnResetSize=$('#btnResetSize'), chkPin=$('#chkPin'), btnPeek=$('#btnPeek'), inpRotateOne=$('#inpRotateOne'), btnResetRotate=$('#btnResetRotate'), chkGlobal=$('#chkGlobal');

// ‚Äî‚Äî‚Äî Persist per-day tmax/tmin (V2) ‚Äî‚Äî‚Äî
btnSaveForecast && btnSaveForecast.addEventListener("click", ()=>{ /* v2 persist */
  try{
    const city = selCity && selCity.value;
    const d = new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate() + curDay);
    const key = d.toISOString().slice(0,10);
    DAYS[curDay].points.forEach(p=>{
      if(city && p.city===city){
        const uid = p.uid || uidForCity(p.city);
        const tmaxVal = parseFloat(inpTmax.value);
        const tminVal = parseFloat(inpTmin.value);
        const obj = {};
        if(!isNaN(tmaxVal)) obj.tmax = tmaxVal;
        if(!isNaN(tminVal)) obj.tmin = tminVal;
        if(Object.keys(obj).length){ saveDailyOverrideV2(key, uid, obj); }
      }
    });
  }catch(e){ console.warn(e); }
});


  /* Clono il FAB per eliminare vecchi listener */
  const oldFab=$('#fab');
  const fab=oldFab.cloneNode(true);
  oldFab.parentNode.replaceChild(fab,oldFab);

  let adminMode=false, editIdx=null;

  /* ‚Äî‚Äî‚Äî Helper toast ‚Äî‚Äî‚Äî */
  function toast(msg){
    toastEl.textContent=msg;
    toastEl.style.display='block';
    clearTimeout(toastEl._t);
    toastEl._t=setTimeout(()=>toastEl.style.display='none',2100);
  }

  /* ‚Äî‚Äî‚Äî Toggle adminMode con click sul FAB ‚Äî‚Äî‚Äî */
  fab.addEventListener('click',e=>{
    e.preventDefault(); e.stopImmediatePropagation();
    adminMode=!adminMode;
    fab.textContent=adminMode?'üîí':'‚öôÔ∏è';
    toast(adminMode?'Modalit√† admin attiva':'Admin disattivata');
    render();            // ricollega drag/click ai marker
  });

  /* ‚Äî‚Äî‚Äî Costruisci combo giorno/citt√† ‚Äî‚Äî‚Äî */
  function buildSelectors(){
    selDay.innerHTML=''; DAYS.forEach((d,i)=>selDay.add(new Option(d.label,i)));
    selCity.innerHTML=''; (window.CITIES||[]).forEach(c=>selCity.add(new Option(c.city||c,c.city||c)));
  }
  buildSelectors();

  /* ‚Äî‚Äî‚Äî Estendo render() per gesti admin ‚Äî‚Äî‚Äî */
  const _render=window.render;
  window.render=function(){
    _render && _render();
    if(!adminMode) return;

    const mapArea=$('#mapArea');
    mapArea.querySelectorAll('.marker').forEach((mk,i)=>{
      mk.dataset.idx=i;
      mk.style.cursor='grab';
      mk.removeEventListener('click',editMarker);
      mk.addEventListener('click',editMarker);
      mk.removeEventListener('pointerdown',dragStart);
      mk.addEventListener('pointerdown',dragStart);
    });
  };

  /* ‚Äî‚Äî‚Äî Drag marker ‚Äî‚Äî‚Äî */
  function dragStart(ev){
    const mk=this; const idx=+this.dataset.idx;
    const rect=mk.parentElement.getBoundingClientRect();
    mk.setPointerCapture(ev.pointerId);
    const move=e=>{ e.preventDefault && e.preventDefault(); 
      const x=((e.clientX-rect.left)/rect.width)*100;
      const y=((e.clientY-rect.top)/rect.height)*100;
      mk.style.left=Math.min(Math.max(0,x),100)+'%';
      mk.style.top=Math.min(Math.max(0,y),100)+'%';
    };
    
const up=e=>{
      mk.releasePointerCapture(e.pointerId);
      const uid = DAYS[curDay].points[idx].uid || uidForCity(DAYS[curDay].points[idx].city);
      const newX = parseFloat(mk.style.left);
      const newY = parseFloat(mk.style.top);
      // Propaga SEMPRE posizione a tutti i giorni + persistenza
      try{
        if(typeof propagateToAllDays==='function'){ propagateToAllDays(uid,{x:newX,y:newY}); }
        if(typeof savePosition==='function'){ savePosition(uid,newX,newY); }
        // Aggiorna anche il giorno corrente in RAM
        DAYS[curDay].points[idx].x = newX;
        DAYS[curDay].points[idx].y = newY;
        // Elimina eventuali override x/y per il giorno corrente (se gestiti) per evitare conflitti
        if(typeof clearDailyXYOverride==='function'){ clearDailyXYOverride(curDay, uid); }
      }catch(e){}
      mk.removeEventListener('pointermove',move);
      mk.removeEventListener('pointerup',up);
    };
    mk.addEventListener('pointermove',move);
    mk.addEventListener('pointerup',up);
  }

  /* ‚Äî‚Äî‚Äî Click marker ‚Üí apre pannello ‚Äî‚Äî‚Äî */
  function editMarker(e){
    editIdx=+this.dataset.idx;
    const pt=DAYS[curDay].points[editIdx];
    selDay.value=curDay;
    inpDayName.value=DAYS[curDay].label;
    inpIcon.value=pt.icon;
    buildIconPicker(pt.icon);
    selCity.value=pt.city||'';
    inpTmax.value=pt.tmax||'';
    inpTmin.value=pt.tmin||'';
    panel.classList.add('open');
    // Evidenzia selezione e carica dimensione personalizzata
    try{
      const pt=DAYS[curDay].points[editIdx];
      document.querySelectorAll('#mapArea .marker.selected').forEach(n=>n.classList.remove('selected'));
      const mk=document.querySelector('#mapArea .marker[data-idx="'+editIdx+'"]');
      if(mk) mk.classList.add('selected');
      const uid = pt.uid || uidForCity(pt.city);
      const st = (PERSIST && PERSIST.positions && PERSIST.positions[uid]) ? PERSIST.positions[uid] : null;
      const fallback = (typeof PERSIST==='object' && PERSIST && typeof PERSIST.markerSize==='number') ? PERSIST.markerSize : 36;
      if(typeof inpMarkerSizeOne!=="undefined" && inpMarkerSizeOne){
        inpMarkerSizeOne.value = (st && typeof st.size==='number') ? st.size : fallback;
      }
    }catch(err){}        

    e.stopPropagation();
  }

  /* ‚Äî‚Äî Chiudi pannello cliccando fuori ‚Äî‚Äî */
  $('#widget').addEventListener('click',()=>{ if(!(chkPin && chkPin.checked)) panel.classList.remove('open'); });
  panel.addEventListener('click',e=>e.stopPropagation());

  /* ‚Äî‚Äî Salva marker ‚Äî‚Äî */
  btnSaveMarker.addEventListener('click',()=>{
if(editIdx===null) return toast('Nessun marker selezionato');
    const pt=DAYS[curDay].points[editIdx];
    const uid = pt.uid || uidForCity(pt.city);
    // Salva override dimensione singola
    try{
      const val = parseInt(inpMarkerSizeOne && inpMarkerSizeOne.value, 10);
      if(!isNaN(val)){
        if(!PERSIST.positions) PERSIST.positions = {};
        if(!PERSIST.positions[uid]) PERSIST.positions[uid] = {};
        PERSIST.positions[uid].size = val;
      }
    }catch(e){}

    const newIcon = (inpIcon.value.trim()||pt.icon);
    // se icona valida, mettila anche sul punto corrente (vale sia per giorno che notte)
    (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const _g = (typeof window.chkGlobal!=='undefined' && window.chkGlobal && window.chkGlobal.checked);
  if(_g){
    if(window.isValidIconString && isValidIconString(newIcon)){ pt.icon = newIcon; pt.code = undefined; }
  }
})();
// aggiorna dati tabella
    const _d=new Date(); _d.setHours(0,0,0,0); _d.setDate(_d.getDate()+curDay);
    const _key=_d.toISOString().slice(0,10);
        const seg = night ? 'night' : 'day';
    if (typeof saveDailyIconOverrideV3 === 'function') {
      if(window.isValidIconString(newIcon)){ saveDailyIconOverrideV3(_key, uid, seg, { icon: newIcon }); }
    }
    pt.city=selCity.value;
    pt.tmax=parseFloat(inpTmax.value)||pt.tmax;
    pt.tmin=parseFloat(inpTmin.value)||pt.tmin;
    // propaga icona (override) a tutti i giorni e salva
    // per-day override handled below (no global propagate)
// // (disabilitato) propagateToAllDays(uid,{icon:newIcon});
    if(!PERSIST.positions) PERSIST.positions={};
    if(!PERSIST.positions[uid]) PERSIST.positions[uid]={};
    // icon persistence removed (handled per-day)
    saveState();
    
    // ‚Äî‚Äî Rotazione ‚Äî‚Äî
    try{
      const pt=DAYS[curDay].points[editIdx];
      const uid = pt.uid || uidForCity(pt.city);
      const rotVal = parseInt(inpRotateOne && inpRotateOne.value, 10);
      if(!isNaN(rotVal)){
        const isGlobal = (typeof chkGlobal!=='undefined' && chkGlobal && chkGlobal.checked);
        if(isGlobal){
          if(!PERSIST.positions) PERSIST.positions = {};
          if(!PERSIST.positions[uid]) PERSIST.positions[uid] = {};
          PERSIST.positions[uid].rot = rotVal;
          saveState();
        }else{
          const d=new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate()+curDay);
          const key=d.toISOString().slice(0,10);
          if(typeof saveDailyOverrideV2==='function'){ saveDailyOverrideV2(key, uid, { rot: rotVal }); }
        }
      }
    }catch(e){}
    
    
    /* ‚Äî‚Äî Propagazione globale completa ‚Äî‚Äî */
    try{
      const isGlobal = (typeof chkGlobal!=='undefined' && chkGlobal && chkGlobal.checked);
      if(isGlobal){
        const ptNow = DAYS[curDay].points[editIdx];
        const uidNow = ptNow.uid || uidForCity(ptNow.city);
        // 1) assicurati che il marker esista in ogni giorno
        if(typeof ensureMarkerOnAllDays==='function'){ ensureMarkerOnAllDays(uidNow, ptNow); }
        // 2) calcola i valori
        const rotVal = parseInt(inpRotateOne && inpRotateOne.value, 10);
        const globalX = ptNow.x, globalY = ptNow.y;
        const iconCandidate = (inpIcon && inpIcon.value && inpIcon.value.trim()) ? inpIcon.value.trim() : (ptNow.icon || '');
        const shouldCopyIcon = (typeof isCustomMarker==='function' ? isCustomMarker(ptNow) : (ptNow.code===undefined));
        // 3) aggiorna PERSIST (cos√¨ vale per tutti i giorni e a ogni ricarica)
        if(typeof setGlobalPersist==='function'){
          setGlobalPersist(uidNow, {
            x: globalX, y: globalY,
            rot: (!isNaN(rotVal)? rotVal : null),
            icon: (shouldCopyIcon && window.isValidIconString && isValidIconString(iconCandidate)) ? iconCandidate : undefined
          });
        }
        // 4) applica subito nei dati in memoria
        if(typeof propagateToAllDays==='function'){
          propagateToAllDays(uidNow, {x: globalX, y: globalY});
          if(shouldCopyIcon && window.isValidIconString && isValidIconString(iconCandidate)){
            propagateToAllDays(uidNow, {icon: iconCandidate});
          }
        }
        // 5) rimuovi eventuali override per-giorno che sovrascrivono l'icona
        if(shouldCopyIcon && typeof clearAllDailyIconOverridesForUid==='function'){
          clearAllDailyIconOverridesForUid(uidNow);
        }
      }
    }catch(_e){ console.warn('global propagate failed', _e); }
    panel.classList.remove('open'); editIdx=null; render();
  });

  /* ‚Äî‚Äî Elimina marker ‚Äî‚Äî */
  btnDeleteMarker.addEventListener('click',()=>{
    if(editIdx===null) return toast('Nessun marker selezionato');
    const pt = DAYS[curDay].points[editIdx];
    const uid = pt.uid || uidForCity(pt.city);
    for(const day of DAYS){
      const idx = day.points.findIndex(p=> (p.uid||uidForCity(p.city)) === uid);
      if(idx>=0) day.points.splice(idx,1);
    }
    if(PERSIST.positions){ delete PERSIST.positions[uid]; }
    if(PERSIST.custom){ PERSIST.custom = PERSIST.custom.filter(c=>c.uid!==uid); }
    saveState();
    panel.classList.remove('open'); editIdx=null; render();
  });

  /* ‚Äî‚Äî Slider dimensione marker ‚Äî‚Äî */

  /* ‚Äî‚Äî Pinna pannello ‚Äî‚Äî */
  if(chkPin){ chkPin.addEventListener('change',()=>{}); }

  /* ‚Äî‚Äî Peek (riduci pannello) ‚Äî‚Äî */
  if(btnPeek){
    btnPeek.addEventListener('click',()=>{
      panel.classList.toggle('peek');
    });
  }

  /* ‚Äî‚Äî Slider dimensione marker (solo selezionato, anteprima live) ‚Äî‚Äî */
  if (typeof inpMarkerSizeOne !== "undefined" && inpMarkerSizeOne){
    inpMarkerSizeOne.addEventListener('input', e=>{
      if(editIdx===null) return;
      const mk = document.querySelector('#mapArea .marker[data-idx="'+editIdx+'"]');
      if(mk){ mk.style.setProperty('--marker-size', e.target.value+'px'); }
    });
  }
  /* ‚Äî‚Äî Reset dimensione solo per il marker selezionato ‚Äî‚Äî */
  /* ‚Äî‚Äî Rotazione marker (anteprima live) ‚Äî‚Äî */
  if (typeof inpRotateOne !== "undefined" && inpRotateOne){
    inpRotateOne.addEventListener('input', ()=>{
      if(editIdx===null) return;
      const deg = parseInt(inpRotateOne.value, 10) || 0;
      const mk = document.querySelector('#mapArea .marker[data-idx="'+editIdx+'"]');
      if(mk){ mk.style.transform = 'translate(-50%, -50%) rotate('+deg+'deg)'; }
    });
  }
  /* ‚Äî‚Äî Reset rotazione ‚Äî‚Äî */
  if (typeof btnResetRotate !== "undefined" && btnResetRotate){
    btnResetRotate.addEventListener('click', ()=>{
      if(editIdx===null) return toast('Nessun marker selezionato');
      const pt = DAYS[curDay].points[editIdx];
      const uid = pt.uid || uidForCity(pt.city);
      const isGlobal = (typeof chkGlobal!=='undefined' && chkGlobal && chkGlobal.checked);
      if(isGlobal){
        if(PERSIST.positions && PERSIST.positions[uid] && 'rot' in PERSIST.positions[uid]){
          delete PERSIST.positions[uid].rot;
          saveState();
        }
      }else{
        const d=new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate()+curDay);
        const key=d.toISOString().slice(0,10);
        if(typeof saveDailyOverrideV2==='function'){ saveDailyOverrideV2(key, uid, { rot: 0 }); }
      }
      if(inpRotateOne) inpRotateOne.value = 0;
      render();
    });
  }

  if (typeof btnResetSize !== "undefined" && btnResetSize){
    btnResetSize.addEventListener('click', ()=>{
      if(editIdx===null) return toast('Nessun marker selezionato');
      const pt = DAYS[curDay].points[editIdx];
      const uid = pt.uid || uidForCity(pt.city);
      if(PERSIST.positions && PERSIST.positions[uid] && 'size' in PERSIST.positions[uid]){
        delete PERSIST.positions[uid].size;
      }
      saveState(); render();
      toast('Dimensione ripristinata al valore predefinito');
    });
  }

  inpMarkerSize.addEventListener('input',e=>{
    document.documentElement.style.setProperty('--marker-size',e.target.value+'px');
    PERSIST.markerSize = parseInt(e.target.value,10);
    saveState();
  });

  /* ‚Äî‚Äî Salva layout ‚Äî‚Äî */
  btnSaveLayout.addEventListener('click',()=>{
    localStorage.setItem('CALABRIA_MAP_LAYOUT_V1',JSON.stringify(DAYS));
    toast('Layout salvato');
  });
  btnReset.addEventListener('click',()=>{localStorage.removeItem('CALABRIA_MAP_LAYOUT_V1'); location.reload();});

  /* ‚Äî‚Äî Salva dati tabella ‚Äî‚Äî */
  btnSaveForecast.addEventListener('click',()=>{
    const city=selCity.value;
    DAYS[curDay].points.forEach(p=>{
      if(p.city===city){
        p.tmax=parseFloat(inpTmax.value)||p.tmax;
        p.tmin=parseFloat(inpTmin.value)||p.tmin;
      }
    });
    panel.classList.remove('open'); render();
  });

  /* ‚Äî‚Äî Sincronizza nome giono ‚Äî‚Äî */
  inpDayName.addEventListener('change',()=>{
    DAYS[curDay].label=inpDayName.value.trim()||DAYS[curDay].label;
    if(typeof buildNav==='function') buildNav();
  });

  /* ‚Äî‚Äî Carica layout salvato ‚Äî‚Äî */
  try{
    const mem=localStorage.getItem('CALABRIA_MAP_LAYOUT_V1');
    if(mem){
      const saved=JSON.parse(mem);
      if(Array.isArray(saved) && saved.length===DAYS.length){
        DAYS.splice(0,DAYS.length,...saved);
      }
    }
  }catch(e){}

})();

  
  /* ‚Äî‚Äî Ripristina icona automatica (per citt√† selezionata) ‚Äî‚Äî */
  (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

    const btn = document.getElementById('btnRestoreAuto');
    if(!btn) return;
    
btn.addEventListener('click', async ()=>{
  try{
    
if(typeof editIdx==='undefined' || editIdx===null || isNaN(editIdx)){
  // Fallback: prova a dedurre l'indice dal DOM (marker con .selected o il primo evidenziato/hoverato)
  var _mk = document.querySelector('#mapArea .marker.selected') || document.querySelector('#mapArea .marker[data-idx]');
  if(_mk && !isNaN(+_mk.dataset.idx)){
    editIdx = +_mk.dataset.idx;
  } else {
    alert('Clicca prima un marker sulla mappa.');
    return;
  }
}

    const dayObj = DAYS && DAYS[curDay];
    if(!dayObj || !Array.isArray(dayObj.points)){ alert('Dati giorno non disponibili.'); return; }
    const pt = dayObj.points[editIdx];
    if(!pt){ alert('Marker non trovato.'); return; }

    // 1) Chiave data = oggi + curDay
    const d = new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate()+curDay);
    const key = d.toISOString().slice(0,10);

    // 2) Pulisci override V3 (day+night) + V2 (icon/code)
    const uid = pt.uid || (typeof uidForCity==='function' ? uidForCity(pt.city) : pt.city);
    if(typeof clearDailyIconOverrideV3==='function'){
      try{ clearDailyIconOverrideV3(key, uid, 'day'); }catch(e){}
      try{ clearDailyIconOverrideV3(key, uid, 'night'); }catch(e){}
    }
    try{
      if(window.DAILY_OVERRIDE && DAILY_OVERRIDE[key] && DAILY_OVERRIDE[key][pt.city]){
        delete DAILY_OVERRIDE[key][pt.city].icon;
        delete DAILY_OVERRIDE[key][pt.city].code;
        localStorage.setItem("dailyOverride", JSON.stringify(DAILY_OVERRIDE));
      }
    }catch(e){}

    // 3) Rimuovi icona custom persistita
    try{
      if(window.PERSIST && PERSIST.positions && PERSIST.positions[uid]){
        delete PERSIST.positions[uid].icon;
        saveState && saveState();
      }
    }catch(e){}

    // 4) Ricalcola codice WMO automatico con le coordinate
    let codeAuto = pt.code;
    try{
      const fc = await forecast(pt.lat, pt.lon);
      const times = (fc && fc.daily && fc.daily.time) ? fc.daily.time : [];
      let dIdx = times.findIndex(t => (t||'').slice(0,10) === key);
      if(dIdx < 0) dIdx = 0;
      codeAuto = (fc.daily.weathercode_day && fc.daily.weathercode_day[dIdx] !== undefined)
                  ? fc.daily.weathercode_day[dIdx]
                  : (fc.daily.weathercode && fc.daily.weathercode[dIdx] !== undefined
                      ? fc.daily.weathercode[dIdx]
                      : (fc.daily.weathercode_night ? fc.daily.weathercode_night[dIdx] : undefined));
    }catch(e){
      console.warn('forecast fetch failed, fallback to existing code', e);
    }

    // 5) Imposta code auto e rimuovi icona custom dal punto (solo per il giorno corrente)
    if(codeAuto !== undefined){
      pt.code = Number(codeAuto);
      delete pt.icon;
    }

    // 6) Re-render mappa + pannelli dettagli
    try{ render && render(); }catch(e){}
    try{ document.dispatchEvent(new CustomEvent('forceHourlyRerender')); }catch(e){}
    toast && toast('Icona automatica ripristinata per ' + (pt.city||'selezione'));
  }catch(e){
    alert('Errore nel ripristino automatico: ' + (e.message||e));
  }
});
})();</script>
<!-- Hidden override editor -->
<div id="overridePanel" style="display:none;position:fixed;inset:0;z-index:3000;background:rgba(0,0,0,.6);backdrop-filter:blur(4px);align-items:center;justify-content:center">
<div style="background:var(--bg);padding:18px;border-radius:var(--radius);max-width:90%;width:480px;max-height:90vh;overflow:auto;color:var(--text)">
<h2>Modifica previsione 24‚ÄØh</h2>
<p>Inserisci un blocco JSON con <code>{ora:"HH:MM", t:¬∞, ur:%, mm:precip, prob:%}</code>. Solo i campi presenti sovrascrivono il valore.</p>
<textarea id="overrideJSON" style="width:100%;height:200px;"></textarea>
<div style="display:flex;gap:12px;margin-top:14px;justify-content:flex-end">
<button id="btnCancelOverride">Annulla</button>
<button id="btnSaveOverride">Salva</button>
</div>
</div>
</div>
<script>
/* ---- Patch v7.1 --- real-time bias + regional override --- */
// === Real‚Äëtime bias function ===
const originalRenderHourly = window.renderHourly;
window.renderHourly = function(data, idx){
    if(typeof LIVE === "object" && LIVE){
        const tempBias = (!isNaN(LIVE.t) && !isNaN(data.hourly.temperature_2m[idx])) ? (LIVE.t - data.hourly.temperature_2m[idx]) : 0;
        const rhBias   = (!isNaN(LIVE.ur) && !isNaN(data.hourly.relativehumidity_2m[idx])) ? (LIVE.ur - data.hourly.relativehumidity_2m[idx]) : 0;
        for(let i=idx; i<Math.min(idx+24, data.hourly.time.length); i++){
        const hoursFromNow = i - idx;
        const w = Math.max(0, 1 - hoursFromNow / 6); // fade bias to 0 within 6‚ÄØh
        data.hourly.temperature_2m[i] += tempBias * w;
        data.hourly.relativehumidity_2m[i] += rhBias * w;
        // keep original icon unless model already suggests rain with decent probability
        if(LIVE.rain > 0.1 && data.hourly.precipitation_probability?.[i] >= 40 && hoursFromNow < 3){
            data.hourly.weathercode[i] = 61;
        }
}
    }
    return originalRenderHourly.call(this, data, idx);
};

// === Daily regional override ===
let DAILY_OVERRIDE = JSON.parse(localStorage.getItem("dailyOverride")||"{}");

function saveDailyOverride(dateKey, city, obj){
    if(!DAILY_OVERRIDE[dateKey]) DAILY_OVERRIDE[dateKey] = {};
    DAILY_OVERRIDE[dateKey][city] = { ...(DAILY_OVERRIDE[dateKey][city]||{}), ...obj };
    localStorage.setItem("dailyOverride", JSON.stringify(DAILY_OVERRIDE));
}

function applyDailyOverride(dateKey, city, field, original){
    const o = DAILY_OVERRIDE?.[dateKey]?.[city];
    return (o && o[field] !== undefined) ? o[field] : original;
}

// Patch loadCalabria to inject overrides
const originalLoadCalabria = (typeof window.loadCalabria==='function') ? window.loadCalabria : null;
window.loadCalabria = async function() {
    if(originalLoadCalabria) { await originalLoadCalabria(); }
    try{
        DAYS.forEach(dayObj => {
            const baseDate = new Date(); baseDate.setHours(0,0,0,0);
            baseDate.setDate(baseDate.getDate() + (dayObj.offset||0));
            const keyStr = baseDate.toISOString().slice(0,10);
            dayObj.points.forEach(pt => {
                pt.tmax = applyDailyOverride(keyStr, pt.city, "tmax", pt.tmax);
                pt.tmin = applyDailyOverride(keyStr, pt.city, "tmin", pt.tmin);
            });
        });
    }catch(e){ console.warn('applyDailyOverride error', e); }
};

// Extend existing 'Salva previsione' button to persist override
if(typeof btnSaveForecast !== "undefined" && btnSaveForecast){
    btnSaveForecast.addEventListener("click", () => {
        const city = selCity.value;
        const d = new Date(); d.setHours(0,0,0,0); d.setDate(d.getDate() + curDay);
        const key = d.toISOString().slice(0,10);
        const obj = {
            tmax: inpTmax.value ? parseFloat(inpTmax.value) : undefined,
            tmin: inpTmin.value ? parseFloat(inpTmin.value) : undefined
        };
        saveDailyOverride(key, city, obj);
    });
}
</script>
<!-- icon override removed -->
<!-- Clean icon renderer (NO EMOJI FALLBACK) -->
<script>
(() => {
  const RAW_BASES = ['https://meteologullo.github.io/mappamlg/','https://raw.githubusercontent.com/Meteologullo/mappamlg/main/'];
  const PLACEHOLDER = 'data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"%3E%3Crect width="64" height="64" rx="12" fill="%23e5e7eb"/%3E%3Ccircle cx="20" cy="22" r="8" fill="%23f59e0b"/%3E%3Cellipse cx="36" cy="38" rx="18" ry="12" fill="%23d1d5db"/%3E%3C/svg%3E';

  function encodeName(name){
    if(!name) return '';
    name = name.replace(/\s+\.(PNG|png)$/,' .$1').replace(/\s{2,}/g,' '); // keep single space before .PNG if present
    return encodeURIComponent(name).replace(/%20/g,'%20');
  }

    function filenameFromWMO(code, isNight){
    const night = !!isNight;
    code = Number(code);

    // --- Clear / cloud cover ---
    if (code === 0) return night ? "Sereno notte.PNG" : "Sereno giorno.PNG";                   // Clear sky
    if (code === 1) return night ? "Poco nuvoloso notte.PNG" : "Poco nuvoloso giorno.PNG";     // Mainly clear
    if (code === 2) return night ? "Parz nuvoloso notte.PNG" : "Parzialmente nuvoloso giorno.PNG"; // Partly cloudy
    if (code === 3) return night ? "molto nuvoloso notte.png" : "molto nuvoloso giorno.png";   // Overcast / very cloudy

    // --- Fog / low stratus ---
    if (code === 45 || code === 48) return "Nebbia nuvole basse.PNG";

    // --- Drizzle / freezing drizzle ---
    if ([51,53,55].includes(code)) return "Pioggia debole.PNG";                                 // Drizzle (light/moderate/dense)
    if ([56,57].includes(code)) return "Pioggia debole.PNG";                                    // Freezing drizzle

    // --- Rain (stratiform) ---
    if (code === 61) return "Pioggia debole.PNG";
    if (code === 63) return "Pioggia moderata.PNG";
    if (code === 65) return "pioggia forte.png";

    // --- Freezing rain ---
    if (code === 66) return "Pioggia moderata.PNG";
    if (code === 67) return "pioggia forte.png";

    // --- Rain showers (convective) ---
    if (code === 80 || code === 81) return night ? "pioggia e schiarite notte.png" : "pioggia e schiarite giorno.png";
    if (code === 82) return "pioggia forte.png";                                               // violent showers

    // --- Snow / snow grains ---
    if ([71,73,75,77,85,86].includes(code)) return "Neve .PNG";

    // --- Thunderstorm ---
    if (code === 95) return "temporale moderato.png";
    if (code === 96 || code === 99) return "Possibili temporali.PNG";                           // thunder + hail

    // --- Fallback: partly cloudy ---
    return night ? "Parz nuvoloso notte.PNG" : "Parzialmente nuvoloso giorno.PNG";
  }
function buildUrlCandidates(file){
    const list = [];
    for(const base of RAW_BASES){
      const enc = encodeName(file);
      list.push(base + enc);
      list.push(base + enc.replace('.PNG','.png'));
      list.push(base + enc.replace(/%20\./g,'.'));
      list.push(base + enc.replace(/%20/g,'_'));
    }
    return list;
  }

  function onerrorChain(){
    return "if(!this.dataset.step){this.dataset.step='1'; this.src=this.src.replace('.PNG','.png');}"
      + "else if(this.dataset.step=='1'){this.dataset.step='2'; this.src=this.src.replace('%20.', '.');}"
      + "else if(this.dataset.step=='2'){this.dataset.step='3'; this.src=this.src.replace(/%20/g,'_');}"
      + "else if(this.dataset.step=='3'){this.dataset.step='4'; this.src=this.src.replace('/main/','/main/icons/');}"
      + "else if(this.dataset.step=='4'){this.dataset.step='5'; this.src=this.src.replace('/main/','/main/icone/');}"
      + "else { this.src='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"%3E%3Crect width="64" height="64" rx="12" fill="%23e5e7eb"/%3E%3Ccircle cx="20" cy="22" r="8" fill="%23f59e0b"/%3E%3Cellipse cx="36" cy="38" rx="18" ry="12" fill="%23d1d5db"/%3E%3C/svg%3E'; }";
  }

  function imgHTMLFromFile(file, alt){
    const urls = buildUrlCandidates(file);
    const first = urls[0];
    return `<img class="weather-icon" src="${first}" alt="${alt||''}" loading="lazy"
      data-step="0"
      onerror="${onerrorChain()}"
      style="width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);vertical-align:middle;object-fit:contain;filter:drop-shadow(0 1px 3px rgba(0,0,0,.35));">`;
  }

  window.buildIconHTML_NOEMOJI = function(code, isNight=false){
    const file = filenameFromWMO(code, isNight);
    return imgHTMLFromFile(file, '');
  };

  window.buildDirectIconHTML_NOEMOJI = function(icon){
    if(typeof icon === 'string' && /^https?:\/\//.test(icon)){
      return `<img class="weather-icon" src="${icon}" alt="" loading="lazy"
        onerror="this.src='data:image/svg+xml;utf8,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"%3E%3Crect width="64" height="64" rx="12" fill="%23e5e7eb"/%3E%3Ccircle cx="20" cy="22" r="8" fill="%23f59e0b"/%3E%3Cellipse cx="36" cy="38" rx="18" ry="12" fill="%23d1d5db"/%3E%3C/svg%3E'"
        style="width:calc(var(--marker-size) * 1.4);height:calc(var(--marker-size) * 1.4);vertical-align:middle;object-fit:contain;filter:drop-shadow(0 1px 3px rgba(0,0,0,.35));">`;
    }
    if(typeof icon === 'string'){
      return imgHTMLFromFile(icon, '');
    }
    return '';
  };
})();
</script>
<!-- === Sync (GitHub) ‚Äî copia e incolla === -->
<script>
// =========================
// CONFIG ‚Äî DEVI SOLO COMPILARE QUESTE 2 RIGHE
// =========================
const SYNC = {
  // Sostituisci OWNER, REPO, BRANCH (es: "https://raw.githubusercontent.com/MioUser/MioRepo/main/data/")
  readBase: "https://raw.githubusercontent.com/Meteologullo/meteo-calabria./main/data/",
  // URL dell'endpoint serverless che ti preparo qui sotto (Cloudflare/Vercel/Netlify)
  writeEndpoint: "https://shrill-queen-a96d.agn19278.workers.dev"
};
window.SYNC = SYNC;

// =========================
// Utility base
// =========================
function toast(msg, ok=true){
  try{
    const t = document.getElementById('toast') || (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

      const d=document.createElement('div'); d.id='toast';
      d.style.position='fixed'; d.style.left='50%'; d.style.transform='translateX(-50%)';
      d.style.bottom='16px'; d.style.padding='10px 14px'; d.style.background= ok ? 'rgba(34,197,94,.9)' : 'rgba(239,68,68,.9)';
      d.style.color='#fff'; d.style.borderRadius='10px'; d.style.zIndex='999999'; document.body.appendChild(d); return d;
    })();
    t.textContent = msg; t.style.opacity='1';
    setTimeout(()=>{ t.style.opacity='0'; }, 2500);
  }catch(e){ console.log(msg); }
}

function deepMerge(a,b){
  if(a===null||typeof a!=='object') return b;
  const out = Array.isArray(a)? a.slice(): {...a};
  for(const k of Object.keys(b||{})){
    if(b[k] && typeof b[k]==='object' && !Array.isArray(b[k])){
      out[k] = deepMerge(out[k]||{}, b[k]);
    }else{
      out[k] = b[k];
    }
  }
  return out;
}

// =========================
// Lettura globale (pull)
// =========================
async function loadGlobalStoresFromRemote(){
  if(!SYNC.readBase || SYNC.readBase.indexOf("OWNER/REPO/BRANCH")>=0){
    toast("Configura SYNC.readBase prima di usare 'Carica da remoto'", false);
    return;
  }
  const bases = (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

    const b = SYNC.readBase;
    // toggle presence of trailing dot in repo name
    const toggled = b.replace(/\/([^\/]+?)(\.?)(\/main\/data\/?)/, (m, name, dot, tail)=> {
      return dot ? `/${name}${tail}` : `/${name}.${tail}`;
    });
    return b===toggled ? [b] : [b, toggled];
  })();
  let parsed = null, lastErr = null;
  for (const base of bases){
    try{
      const urls = ["daily_icon_v3.json","daily_override_v2.json","state.json"].map(n=> base + n + "?t="+Date.now());
      const [v3r, v2r, str] = await Promise.all(urls.map(u=>fetch(u, {cache:"no-store"})));
      if(!v3r.ok && !v2r.ok && !str.ok){
        // try next base
        continue;
      }
      const v3 = v3r.ok ? await v3r.json() : {};
      const v2 = v2r.ok ? await v2r.json() : {};
      const st = str.ok ? await str.json() : {};
      parsed = {v3, v2, st};
      break;
    }catch(e){ lastErr = e; }
  }
  if(!parsed){
    console.error(lastErr);
    toast("Errore nel caricamento remoto", false);
    return;
  }
  const {v3, v2, st} = parsed;
  window.DAILY_ICON_OVERRIDE_V3 = deepMerge(window.DAILY_ICON_OVERRIDE_V3||{}, v3||{});
  window.DAILY_OVERRIDE_V2      = deepMerge(window.DAILY_OVERRIDE_V2||{}, v2||{});
  if(typeof PERSIST!=='undefined'){
    PERSIST.positions = deepMerge(PERSIST.positions||{}, st.positions||{});
    if(typeof st.markerSize==='number'){
      PERSIST.markerSize = st.markerSize;
      document.documentElement.style.setProperty('--marker-size', PERSIST.markerSize+'px');
      const s = document.getElementById('inpMarkerSize'); if(s){ s.value = PERSIST.markerSize; }
    }
    if(Array.isArray(st.custom)) PERSIST.custom = st.custom.slice();
  }
  // aggiorna cache locale
  try{
    localStorage.setItem("dailyIconOverrideV3", JSON.stringify(window.DAILY_ICON_OVERRIDE_V3||{}));
    localStorage.setItem("dailyOverrideV2", JSON.stringify(window.DAILY_OVERRIDE_V2||{}));
    if(typeof PERSIST!=='undefined'){
      localStorage.setItem("CALABRIA_MAP_STATE_V2", JSON.stringify(PERSIST||{}));
    }
  }catch(e){}
  if(typeof render==='function') render();
  toast("Dati caricati da remoto.");
}
// =========================
// Scrittura globale (push)
// =========================
async function pushOne(file, data, message){
  if(!SYNC.writeEndpoint || SYNC.writeEndpoint.indexOf("TUO-ENDPOINT")>=0){
    toast("Configura SYNC.writeEndpoint prima di 'Sincronizza (invio)'", false);
    return {ok:false};
  }
  const payload = { file: "data/"+file, data, message };
  const r = await fetch(SYNC.writeEndpoint, {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify(payload)
  });
  if(!r.ok){
    const t = await r.text(); throw new Error(t||("Push fallito "+file));
  }
  return await r.json();
}

async function pushAllToRemote(){
  try{
    const v3 = window.DAILY_ICON_OVERRIDE_V3 || {};
    const v2 = window.DAILY_OVERRIDE_V2 || {};
    const st = (typeof PERSIST!=='undefined') ? { positions:PERSIST.positions||{}, markerSize:PERSIST.markerSize||null, custom:PERSIST.custom||[] } : {};

    toast("Sincronizzazione in corso‚Ä¶");
    await pushOne("daily_icon_v3.json", v3, "sync: v3 overrides");
    await pushOne("daily_override_v2.json", v2, "sync: v2 overrides");
    await pushOne("state.json", st, "sync: state");
    toast("Sincronizzazione completata ‚úî");
  }catch(e){
    console.error(e); toast("Errore in sincronizzazione: "+(e && e.message ? e.message : e), false);
  }
}

// =========================
// Hook UI ‚Äî Pulsanti
// =========================
window.addEventListener('DOMContentLoaded', ()=>{
  const btnPull = document.getElementById('btnPull');
  const btnSync = document.getElementById('btnSync');
  if(btnPull) btnPull.addEventListener('click', loadGlobalStoresFromRemote);
  if(btnSync) btnSync.addEventListener('click', pushAllToRemote);
  // AUTO: carica subito i dati remoti all'apertura
  try{ loadGlobalStoresFromRemote(); }catch(e){ console.warn('Auto-pull failed', e); }
  // AUTO: ripeti ogni 15 minuti per riflettere eventuali aggiornamenti
  setInterval(()=>{ try{ loadGlobalStoresFromRemote(); }catch(e){} }, 15*60*1000);
  // AUTO: al cambio giorno (mezzanotte) ricarica
  (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

    const fmt = d=> d.toISOString().slice(0,10);
    let lastDay = fmt(new Date());
    setInterval(()=>{
      const nowDay = fmt(new Date());
      if(nowDay!==lastDay){ lastDay=nowDay; try{ loadGlobalStoresFromRemote(); }catch(e){} }
    }, 60*1000);
  })();

    // Applica override dimensione solo per questo marker (se presente)
    try{
      const uid = mk.dataset.uid;
      const st = (typeof PERSIST==="object" && PERSIST && PERSIST.positions) ? PERSIST.positions[uid] : null;
      const sz = st && typeof st.size === 'number' ? st.size : null;
      if(sz){ mk.style.setProperty('--marker-size', sz + 'px'); }
    }catch(e){}    
});
</script>
<script>
// === AUTO-SYNC: invia automaticamente le modifiche al Worker ===
// se true, ogni salvataggio chiama scheduleSync; il flush invia dopo 1.2s di inattivit√†.
window.SYNC_AUTOSAVE = true;
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(!window.SYNC_AUTOSAVE) return;

  // Debounce queue: riusa quella esistente o crea una minima
  if(typeof window.scheduleSync !== 'function'){
    let syncTimer=null, syncQueue={};
    window.scheduleSync = function(file, data, message){
      syncQueue[file] = Object.assign({}, (syncQueue[file]||{}), data);
syncQueue[file].__message = message || ("sync: " + file);
      clearTimeout(syncTimer);
      syncTimer = setTimeout(flushSync, 1200);
    };
    async function flushSync(){
      const ep = (window.SYNC && window.SYNC.writeEndpoint) || "";
      for(const [file, payload] of Object.entries(syncQueue)){ 
        try{
          const msg = payload.__message || ("sync: "+file);
          delete payload.__message;
          await fetch(ep, { method:"POST", headers:{"Content-Type":"application/json"},
            body: JSON.stringify({ file: "data/"+file, data: payload, message: msg })
          });
        }catch(e){ console.warn("Auto-sync fallita per", file, e); }
      }
      syncQueue = {};
    }
  }

  // Hook helper: avvolge una funzione e chiama scheduleSync dopo l'esecuzione
  function hookAfter(obj, name, handler){
    const orig = obj && obj[name];
    if(typeof orig !== 'function') return false;
    obj[name] = function(...args){
      const res = orig.apply(this, args);
      try{ handler.apply(this, args); }catch(e){ console.warn("autosync hook error", name, e); }
      return res;
    };
    return true;
  }

  // 1) override icone V3 (day/night per data/uid/segmento)
  hookAfter(window, 'saveDailyIconOverrideV3', function(dateKey, uid, seg, obj){
    window.scheduleSync("daily_icon_v3.json", { [dateKey]: { [uid]: { [seg]: obj } } }, `override v3 ${dateKey} ${uid} ${seg}`);
  });

  // 2) override v2 (tmax/tmin/codice)
  hookAfter(window, 'saveDailyOverrideV2', function(dateKey, uid, obj){
    window.scheduleSync("daily_override_v2.json", { [dateKey]: { [uid]: obj } }, `override v2 ${dateKey} ${uid}`);
  });

  // 3) layout/posizioni/marker size
  hookAfter(window, 'saveState', function(){
    try{
      const st = (typeof PERSIST!=='undefined') ? { positions: PERSIST.positions||{}, markerSize: PERSIST.markerSize||null, custom: PERSIST.custom||[] } : {};
      window.scheduleSync("state.json", st, "state update");
    }catch(e){}
  });

  // 4) se esistono bottoni manuali, lasciali: nessun conflitto.
})();
</script>
<!-- ============ MLG ‚Ä¢ HOME PRESENTATION (Unified, Modern, No-Conflict) ============ -->
<section aria-label="Presentazione Meteo Lo Gullo" id="mlg-home-ux">
<style>
    #mlg-home-ux { --bg:#0b1020; --panel:#0f172a; --glass:#0f172acc; --line:#1f2937; --brand:#2155ff; --brand2:#00d2ff; --text:#e6eefc; --muted:#9fb3d9;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color:var(--text);
      max-width: 1160px; margin: 22px auto 36px; padding: 0 14px; }
    #mlg-home-ux a{ color:var(--brand); text-decoration:none }
    #mlg-home-ux a:hover{ text-decoration:underline }
    #mlg-home-ux .hero{ background: radial-gradient(1000px 380px at 10% -10%, #1a2b6a, transparent), radial-gradient(1000px 380px at 110% -10%, #0ea5e9, transparent), var(--panel);
      border:1px solid var(--line); border-radius:18px; overflow:hidden; box-shadow:0 18px 50px rgba(0,0,0,.35) }
    #mlg-home-ux .hero-top{ display:flex; align-items:center; gap:16px; padding:18px 18px 10px }
    #mlg-home-ux .logo{ width:64px; height:64px; object-fit:contain; filter:drop-shadow(0 6px 18px rgba(33,85,255,.55)) }
    #mlg-home-ux h1{ font-size: clamp(22px, 4.5vw, 30px); margin:0; line-height:1.15; letter-spacing:.2px }
    #mlg-home-ux .sub{ color:var(--muted); margin-top:4px; font-size: clamp(14px,2.8vw,16px) }
    #mlg-home-ux .strap{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; padding:10px 18px 18px; border-top:1px solid var(--line) }
    #mlg-home-ux .badge{ display:inline-flex; align-items:center; gap:8px; background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#001; font-weight:900; padding:.42rem .72rem; border-radius:999px }
    #mlg-home-ux .grid{ display:grid; grid-template-columns:1.2fr .8fr; gap:16px; margin:16px 0 0 }
    @media (max-width: 980px){ #mlg-home-ux .grid{ grid-template-columns:1fr } }
    #mlg-home-ux .card{ background:var(--glass); border:1px solid var(--line); border-radius:16px; overflow:hidden; box-shadow:0 12px 32px rgba(0,0,0,.3) }
    #mlg-home-ux .pad{ padding:14px 16px }
    #mlg-home-ux h2{ font-size:1.1rem; margin:0 0 6px }
    #mlg-home-ux p{ margin:.2rem 0 .6rem; color:var(--muted) }
    #mlg-home-ux .minimap{ width:100%; height:430px; border:0; display:block }
    #mlg-home-ux .newslist{ display:grid; grid-template-columns:repeat(auto-fill, minmax(260px,1fr)); gap:10px }
    #mlg-home-ux .item{ background:#0b1225; border:1px solid #1b2844; border-radius:12px; padding:12px 14px }
    #mlg-home-ux .item .t{ font-weight:800; color:var(--text) }
    #mlg-home-ux .item .k{ color:#85a2d9; font-size:.86rem; margin-bottom:2px }
    #mlg-home-ux .banner img{ width:100%; height:auto; display:block }
    #mlg-home-ux .fb { margin-top:16px; }
    #mlg-home-ux.hide { display:none }
  
/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<div class="hero">
<div class="hero-top">
<div>
<h1>Meteo Lo Gullo ‚Äî Previsioni Calabria</h1>
<div class="sub">
          Previsioni per <strong>oggi</strong> e per i prossimi giorni su <strong>tutto il territorio regionale</strong>.
          Ricerca di <strong>comuni</strong> (e molte <strong>frazioni</strong>) con <strong>previsioni orarie fino a 7 giorni</strong>.
        </div>
</div>
</div>
<div class="strap">
<span class="badge">Elaborazione Meteo Lo Gullo</span>
<span>Vuoi <strong>solo i dati in tempo reale</strong> (stazioni, grafici, <strong>webcam</strong>)? Apri la nostra <a href="https://www.meteologullo.com/stazioni-meteorologiche-mlg" rel="noopener" target="_blank">MLG Map</a>.</span>
<span class="badge"><a href="https://www.meteologullo.com/meteornews" rel="noopener" style="color:#001;text-decoration:none" target="_blank">NEWS</a></span></div>
</div>
<div class="grid">
<section class="card">
<div class="pad">
<h2>MLG Map ‚Äî Anteprima live</h2>
<p>Una <strong>anteprima semplificata</strong> che mostra <strong>tutte le stazioni</strong> della rete. Clicca un punto per aprire la scheda o la mappa completa.</p>
</div>
<iframe class="minimap" loading="lazy" referrerpolicy="no-referrer" sandbox="allow-scripts allow-same-origin" srcdoc="&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=utf-8&gt;&lt;meta name=viewport content='width=device-width,initial-scale=1'&gt;&lt;link rel='stylesheet' href='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css'&gt;&lt;link rel='stylesheet' href='https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css'&gt;&lt;link rel='stylesheet' href='https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css'&gt;&lt;style&gt;  html,body,#map{height:100%;margin:0;background:#0b1020}  .leaflet-container{background:#0b1020}  .marker-cluster-small{background:rgba(33,85,255,.15)}  .marker-cluster-small div{background:#2155ff;color:#fff}  #badge{position:absolute;right:12px;bottom:12px;background:#111827ee;color:#fff;border:1px solid #1f2937;padding:7px 10px;border-radius:10px;font:600 12px/1.2 system-ui,sans-serif;box-shadow:0 6px 16px #0007;cursor:pointer;z-index:999}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div id='map'&gt;&lt;/div&gt;&lt;div id='badge' title='Apri mappa completa'&gt;MLG Map ‚Ä¢ rete Calabria&lt;/div&gt;&lt;script src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js'&gt;&lt;/script&gt;&lt;script src='https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js'&gt;&lt;/script&gt;&lt;script&gt;const DATA=[  { nome: &quot;Bianchi - Palinudo Staglio&quot;, mlg: true, lat: 39.11, lon: 16.42, quota: &quot;830 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Corace&quot;, stationId: &quot;IBIANC4&quot;, apiKey: &quot;2ccb91c2398a4f778b91c2398a4f772f&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/nuova-stazione-1&quot; },  { nome: &quot;Cosenza - Vaglio Lise&quot;, mlg: true, lat: 39.31, lon: 16.27, quota: &quot;208 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati sud&quot;, stationId: &quot;ICOSEN11&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-cosenza-vaglio-lise&quot; },  { nome: &quot;Amantea Spiaggia&quot;, mlg: true, lat: 39.13, lon: 16.07, quota: &quot;0 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso tirreno cosentino&quot;, stationId: &quot;IAMANT7&quot;, apiKey: &quot;a3f4ae4f9b6d46a4b4ae4f9b6d06a494&quot;, webcam: &quot;https://meteologullo.github.io/mappamlg/webcam_spiaggia_pulita.html&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-amantea-spiaggia&quot; },  { nome: &quot;Monte Scuro - Celico&quot;, mlg: true, lat: 39.33, lon: 16.4, quota: &quot;1643 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Vetta della Sila Grande&quot;, stationId: &quot;ICELIC3&quot;, apiKey: &quot;2d12def7f4894eca92def7f4892eca99&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-meteo-di-monte-scuro-celico&quot; },  { nome: &quot;Cosenza - Campagnano&quot;, mlg: true, lat: 39.31, lon: 16.23, quota: &quot;234 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati sud&quot;, stationId: &quot;ICOSEN20&quot;, apiKey: &quot;844d02e7e12049ef8d02e7e120b9ef68&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-cosenza-campagnano&quot; },  { nome: &quot;Mendicino - Tivolille Pasquali&quot;, mlg: true, lat: 39.28, lon: 16.2, quota: &quot;431 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena Costiera Interna&quot;, stationId: &quot;IMENDI13&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-mendicino-tivolille&quot; },  { nome: &quot;Casali del Manco - Morelli Soprana&quot;, mlg: true, lat: 39.28, lon: 16.29, quota: &quot;389 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;collina Valle del Crati&quot;, stationId: &quot;ICASAL40&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://www.meteologullo.com/stazione-casali-del-manco-morelli-soprana&quot; },  { nome: &quot;Nuova Stazione 1&quot;, mlg: true, lat: 39.40, lon: 16.50, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Nuova Area&quot;, stationId: &quot;INUST1&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/nuova-stazione-1&quot; },  { nome: &quot;Catanzaro Centro&quot;, lat: 38.82, lon: 16.43, quota: &quot;320 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Centro citt√†&quot;, openMeteo: true, stationId: &quot;CATCENTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Reggio Calabria - Centro&quot;, lat: 38.11, lon: 15.65, quota: &quot;31 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Area dello Stretto&quot;, openMeteo: true, stationId: &quot;REGCENTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Rossano - Centro Storico&quot;, lat: 39.58, lon: 16.63, quota: &quot;270 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;ROSSCENTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Vibo Valentia - Monte Poro&quot;, lat: 38.63, lon: 16.05, quota: &quot;710 m&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;VIBOPORO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Locri Marina&quot;, lat: 38.25, lon: 16.26, quota: &quot;12 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Reggina&quot;, openMeteo: true, stationId: &quot;LOCRIMARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Giovanni in Fiore&quot;, lat: 39.26, lon: 16.68, quota: &quot;1049 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Altopiano Silano&quot;, openMeteo: true, stationId: &quot;SGFIORE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Crotone Porto&quot;, lat: 39.08, lon: 17.12, quota: &quot;8 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CROPOR&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lamezia Terme - Sant'Eufemia&quot;, lat: 38.91, lon: 16.24, quota: &quot;15 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana di Lamezia&quot;, openMeteo: true, stationId: &quot;LAMSANTEUF&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Scalea - Centro&quot;, lat: 39.81, lon: 15.79, quota: &quot;25 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto Tirreno Cosentino&quot;, openMeteo: true, stationId: &quot;SCALEACENTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Taverna - Parco Nazionale Sila Piccola&quot;, lat: 39.02, lon: 16.68, quota: &quot;880 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;TAVSILAPIC&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Isola di Capo Rizzuto&quot;, lat: 38.96, lon: 17.09, quota: &quot;75 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Capo Rizzuto&quot;, openMeteo: true, stationId: &quot;ISOCAPORIZ&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },,  { nome: &quot;Cir√≤ Marina&quot;, lat: 39.37, lon: 17.12, quota: &quot;25 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto Ionio Crotonese&quot;, openMeteo: true, stationId: &quot;CIROMARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cariati&quot;, lat: 39.5, lon: 16.96, quota: &quot;30 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso Ionio cosentino&quot;, openMeteo: true, stationId: &quot;CARIATI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Petilia Policastro&quot;, lat: 39.13, lon: 16.77, quota: &quot;436 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Marchesato Crotonese&quot;, openMeteo: true, stationId: &quot;PETILIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Tropea&quot;, lat: 38.68, lon: 15.9, quota: &quot;61 m&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa degli Dei&quot;, openMeteo: true, stationId: &quot;TROPEA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Gerace&quot;, lat: 38.27, lon: 16.23, quota: &quot;500 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina Ionica alto Reggino&quot;, openMeteo: true, stationId: &quot;GERACE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Spezzano della Sila&quot;, lat: 39.30, lon: 16.33, quota: &quot;800 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila Grande cosentina&quot;, openMeteo: true, stationId: &quot;SPEZSILA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Paola&quot;, lat: 39.37, lon: 16.03, quota: &quot;154 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Tirreno Cosentino&quot;, openMeteo: true, stationId: &quot;PAOLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Belvedere Marittimo&quot;, lat: 39.61, lon: 15.86, quota: &quot;150 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto Tirreno Cosentino&quot;, openMeteo: true, stationId: &quot;BELVEDERE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mormanno&quot;, lat: 39.88, lon: 15.98, quota: &quot;850 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pollino&quot;, openMeteo: true, stationId: &quot;MORMANNO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Soverato&quot;, lat: 38.68, lon: 16.54, quota: &quot;20 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica basso Catanzarese&quot;, openMeteo: true, stationId: &quot;SOVERATO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Palmi&quot;, lat: 38.36, lon: 15.85, quota: &quot;228 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Viola&quot;, openMeteo: true, stationId: &quot;PALMI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Serrastretta&quot;, lat: 39.01, lon: 16.4, quota: &quot;820 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, openMeteo: true, stationId: &quot;SERRASTRETTA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Santa Severina&quot;, lat: 39.21, lon: 16.97, quota: &quot;326 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Marchesato crotonese&quot;, openMeteo: true, stationId: &quot;SSSEVERINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Badolato Marina&quot;, lat: 38.6, lon: 16.55, quota: &quot;10 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica basso Catanzarese&quot;, openMeteo: true, stationId: &quot;BADO_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Delianuova&quot;, lat: 38.2, lon: 15.88, quota: &quot;600 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Aspromonte Occidentale&quot;, openMeteo: true, stationId: &quot;DELIANUOVA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  {&quot;nome&quot;: &quot;Rende&quot;, &quot;lat&quot;: 39.3306, &quot;lon&quot;: 16.2078, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle del Crati&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;RENDE&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Montalto Uffugo&quot;, &quot;lat&quot;: 39.4165, &quot;lon&quot;: 16.1985, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle del Crati&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONTALTO_UFFUGO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},{&quot;nome&quot;: &quot;Bisignano&quot;, &quot;lat&quot;: 39.50, &quot;lon&quot;: 16.27, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Collina alta Valle del Crati&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONGRASSANO_SCALO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Tarsia&quot;, &quot;lat&quot;: 39.58, &quot;lon&quot;: 16.3167, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle del Crati&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;TARSIA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Castrovillari&quot;, &quot;lat&quot;: 39.8167, &quot;lon&quot;: 16.2, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Pollino&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CASTROVILLARI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Sibari&quot;, &quot;lat&quot;: 39.6833, &quot;lon&quot;: 16.5333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sibaritide&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;SIBARI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Villapiana&quot;, &quot;lat&quot;: 39.84, &quot;lon&quot;: 16.45, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sibaritide&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;VILLAPIANA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Camigliatello Silano&quot;, &quot;lat&quot;: 39.3306, &quot;lon&quot;: 16.4492, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sila Grande&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CAMIGLIATELLO_SILANO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Monte Curcio&quot;, &quot;lat&quot;: 39.317, &quot;lon&quot;: 16.42, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sila Grande&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONTE_CURCIO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Botte Donato&quot;, &quot;lat&quot;: 39.2833, &quot;lon&quot;: 16.45, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sila Grande&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;BOTTE_DONATO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Daltolia&quot;, &quot;lat&quot;: 39.033, &quot;lon&quot;: 16.388, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle del Savuto&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;DALTOLIA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Rogliano&quot;, &quot;lat&quot;: 39.1581, &quot;lon&quot;: 16.3723, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle del Savuto&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ROGLIANO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Girifalco&quot;, &quot;lat&quot;: 38.8, &quot;lon&quot;: 16.4167, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CZ&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Pre-Serre&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;GIRIFALCO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Vibo Valentia&quot;, &quot;lat&quot;: 38.6749, &quot;lon&quot;: 16.1027, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Entroterra Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;VIBO_VALENTIA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Capo Vaticano&quot;, &quot;lat&quot;: 38.6278, &quot;lon&quot;: 15.8415, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa degli Dei&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CAPO_VATICANO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Rosarno&quot;, &quot;lat&quot;: 38.4886, &quot;lon&quot;: 15.9738, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Piana di Gioia Tauro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ROSARNO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Gioia Tauro&quot;, &quot;lat&quot;: 38.4236, &quot;lon&quot;: 15.8996, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Piana di Gioia Tauro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;GIOIA_TAURO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Pellaro&quot;, &quot;lat&quot;: 38.01, &quot;lon&quot;: 15.633, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Area dello Stretto&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;PELLARO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Villa San Giovanni&quot;, &quot;lat&quot;: 38.2131, &quot;lon&quot;: 15.6414, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Area dello Stretto&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;VILLA_SAN_GIOVANNI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Melito di Porto Salvo&quot;, &quot;lat&quot;: 37.9167, &quot;lon&quot;: 15.7333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Reggina&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MELITO_DI_PORTO_SALVO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Brancaleone&quot;, &quot;lat&quot;: 37.95, &quot;lon&quot;: 16.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Reggina&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;BRANCALEONE&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Africo Nuovo&quot;, &quot;lat&quot;: 38.0167, &quot;lon&quot;: 16.1333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Reggina&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;AFRICO_NUOVO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Bovalino&quot;, &quot;lat&quot;: 38.15, &quot;lon&quot;: 16.2, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Reggina&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;BOVALINO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Monasterace Marina&quot;, &quot;lat&quot;: 38.4333, &quot;lon&quot;: 16.5333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Meridionale&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONASTERACE_MARINA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Mongiana&quot;, &quot;lat&quot;: 38.5167, &quot;lon&quot;: 16.3, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Serre Vibonesi&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONGIANA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Fabrizia&quot;, &quot;lat&quot;: 38.5, &quot;lon&quot;: 16.3667, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Serre Vibonesi&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;FABRIZIA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Nardodipace&quot;, &quot;lat&quot;: 38.4833, &quot;lon&quot;: 16.4, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Serre Vibonesi&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;NARDODIPACE&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Polistena&quot;, &quot;lat&quot;: 38.4167, &quot;lon&quot;: 16.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Piana di Gioia Tauro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;POLISTENA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Natoli Nuovo&quot;, &quot;lat&quot;: 38.5167, &quot;lon&quot;: 16.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Entroterra Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;NATOLI_NUOVO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Cittanova&quot;, &quot;lat&quot;: 38.3167, &quot;lon&quot;: 16.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Piana di Gioia Tauro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CITTANOVA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Zungri&quot;, &quot;lat&quot;: 38.6167, &quot;lon&quot;: 15.9333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Entroterra Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ZUNGRI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Spilinga&quot;, &quot;lat&quot;: 38.6, &quot;lon&quot;: 15.8833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Entroterra Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;SPILINGA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Pizzo&quot;, &quot;lat&quot;: 38.7333, &quot;lon&quot;: 16.1667, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Tirrenica Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;PIZZO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Monterosso Calabro&quot;, &quot;lat&quot;: 38.6333, &quot;lon&quot;: 16.2667, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;VV&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Entroterra Vibonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MONTEROSSO_CALABRO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Cutro&quot;, &quot;lat&quot;: 39.0167, &quot;lon&quot;: 17.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;KR&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Collina Crotonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CUTRO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Capocolonna&quot;, &quot;lat&quot;: 39.0167, &quot;lon&quot;: 17.1333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;KR&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Crotonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;CAPOCOLONNA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Marina di Strongoli&quot;, &quot;lat&quot;: 39.3, &quot;lon&quot;: 17.1167, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;KR&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Crotonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;MARINA_DI_STRONGOLI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Acerenthia - Camigliano&quot;, &quot;lat&quot;: 39.2667, &quot;lon&quot;: 17.0, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;KR&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Collina Crotonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ACERENTHIA_-_CAMIGLIANO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Torretta di Crucoli&quot;, &quot;lat&quot;: 39.4167, &quot;lon&quot;: 17.0333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;KR&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Crotonese&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;TORRETTA_DI_CRUCOLI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Longobucco&quot;, &quot;lat&quot;: 39.45, &quot;lon&quot;: 16.65, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sila Greca&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;LONGOBUCCO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Acri&quot;, &quot;lat&quot;: 39.5, &quot;lon&quot;: 16.3833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Sila Greca&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ACRI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Roccaforte del Greco&quot;, &quot;lat&quot;: 38.0167, &quot;lon&quot;: 15.85, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Aspromonte&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ROCCAFORTE_DEL_GRECO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;San Luca&quot;, &quot;lat&quot;: 38.1333, &quot;lon&quot;: 16.0833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;RC&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Aspromonte&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;SAN_LUCA&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Santa Caterina dello Ionio&quot;, &quot;lat&quot;: 38.55, &quot;lon&quot;: 16.5667, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CZ&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Costa Ionica Meridionale&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;SANTA_CATERINA_DELLO_IONIO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;San Sosti&quot;, &quot;lat&quot;: 39.66, &quot;lon&quot;: 16.02, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle dell'Esaro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;SANSOSTI&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Altomonte&quot;, &quot;lat&quot;: 39.7, &quot;lon&quot;: 16.1333, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Valle dell'Esaro&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ALTOMONTE&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Roseto Capo Spulico&quot;, &quot;lat&quot;: 39.9667, &quot;lon&quot;: 16.5833, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Alto Ionio Cosentino&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;ROSETO_CAPO_SPULICO&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  {&quot;nome&quot;: &quot;Trebisacce&quot;, &quot;lat&quot;: 39.87, &quot;lon&quot;: 16.53, &quot;quota&quot;: &quot;ND&quot;, &quot;provincia&quot;: &quot;CS&quot;, &quot;regione&quot;: &quot;Calabria&quot;, &quot;area&quot;: &quot;Alto Ionio Cosentino&quot;, &quot;openMeteo&quot;: true, &quot;stationId&quot;: &quot;TREBISACCE&quot;, &quot;webcam&quot;: &quot;&quot;, &quot;linkStazione&quot;: &quot;#&quot;},  { nome: &quot;Rende - Quattromiglia&quot;, lat: 39.353702, lon: 16.242313, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati sud&quot;, openMeteo: true, stationId: &quot;RENDE_QUATTR&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Torano Castello - Sartano&quot;, lat: 39.49, lon: 16.21, quota: &quot;90&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati&quot;, openMeteo: true, stationId: &quot;LUZZI_PETRINI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Luzzi - Petrini&quot;, lat: 39.446816, lon: 16.28, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Media Valle del Crati&quot;, openMeteo: true, stationId: &quot;LUZZI_CENTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lattarico&quot;, lat: 39.464303, lon: 16.138027, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena costiera interna nord&quot;, openMeteo: true, stationId: &quot;LATTARICO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Rota Greca&quot;, lat: 39.467, lon: 16.117, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena costiera interna nord&quot;, openMeteo: true, stationId: &quot;ROTA_GRECA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lattarico - Piretto&quot;, lat: 39.467, lon: 16.133, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena Costiera interna nord&quot;, openMeteo: true, stationId: &quot;LATTARICO_PIRETTO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cassano all'Ionio&quot;, lat: 39.783, lon: 16.317, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana di Sibari centrale&quot;, openMeteo: true, stationId: &quot;CASSANO_IONIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sibari&quot;, lat: 39.74, lon: 16.45, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana di Sibari orientale&quot;, openMeteo: true, stationId: &quot;SIBARI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Terranova da Sibari&quot;, lat: 39.6575, lon: 16.3398, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina Piana di Sibari sud&quot;, openMeteo: true, stationId: &quot;TERRANOVA_SIBARI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Tarsia&quot;, lat: 39.62311, lon: 16.27337, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina Valle del Crati nord&quot;, openMeteo: true, stationId: &quot;TARSIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Roggiano Gravina&quot;, lat: 39.61786, lon: 16.16173, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina Valle dell'Esaro&quot;, openMeteo: true, stationId: &quot;ROGGIANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Pietro in Guarano&quot;, lat: 44.52, lon: 13.48, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila cosentina&quot;, openMeteo: true, stationId: &quot;SANPIETRO_GUARANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Marano Marchesato&quot;, lat: 39.316974, lon: 16.174788, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena costiera interna sud&quot;, openMeteo: true, stationId: &quot;MARANO_MARCH&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Carolei&quot;, lat: 39.25, lon: 16.217, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Serre cosentine&quot;, openMeteo: true, stationId: &quot;CAROLEI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Dipignano&quot;, lat: 39.237886, lon: 16.25324, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Serre cosentine&quot;, openMeteo: true, stationId: &quot;DIPIGNANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mangone&quot;, lat: 39.205635, lon: 16.332584, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Savuto&quot;, openMeteo: true, stationId: &quot;MANGONE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Altilia&quot;, lat: 39.1286, lon: 16.2532, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Savuto&quot;, openMeteo: true, stationId: &quot;ALTILIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Aiello Calabro&quot;, lat: 39.117215, lon: 16.166775, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina basso tirreno cosentino&quot;, openMeteo: true, stationId: &quot;AIELLO_CALABRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lamezia Terme&quot;, lat: 38.966667, lon: 16.299999, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana di Lamezia&quot;, openMeteo: true, stationId: &quot;LAMEZIA_TERME&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Falerna&quot;, lat: 39.003346, lon: 16.172041, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa tirrenica catanzarese&quot;, openMeteo: true, stationId: &quot;FALERNA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Lucido&quot;, lat: 39.309956, lon: 16.051827, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa tirrenica cosentina&quot;, openMeteo: true, stationId: &quot;SAN_LUCIDO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Guardia Piemontese&quot;, lat: 39.467, lon: 16.0, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa alto tirreno cosentino&quot;, openMeteo: true, stationId: &quot;GUARDIA_PIEM&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Vena di Maida&quot;, lat: 38.888685, lon: 16.407462, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, openMeteo: true, stationId: &quot;VENA_DI_MAIDA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Settingiano&quot;, lat: 38.910024, lon: 16.514955, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, openMeteo: true, stationId: &quot;SETTINGIANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Caraffa di Catanzaro&quot;, lat: 38.88194, lon: 16.4875, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, openMeteo: true, stationId: &quot;CARAFFA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Catanzaro Lido&quot;, lat: 38.8303, lon: 16.6278, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Catanzarese&quot;, openMeteo: true, stationId: &quot;CATANZARO_LIDO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Simeri Mare&quot;, lat: 38.865607, lon: 16.697665, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Catanzarese&quot;, openMeteo: true, stationId: &quot;SIMERI_MARE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sorbo San Basile&quot;, lat: 39.01889, lon: 16.56944, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila catanzarese&quot;, openMeteo: true, stationId: &quot;SORBO_BASILE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Steccato di Cutro&quot;, lat: 38.938014, lon: 16.916678, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa del basso ionio crotonese&quot;, openMeteo: true, stationId: &quot;STECCATO_CUTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cropani&quot;, lat: 38.967, lon: 16.783, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa ionica alto catanzarese&quot;, openMeteo: true, stationId: &quot;CROPANI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Botricello Superiore&quot;, lat: 38.93199, lon: 16.85831, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina alto ionio catanzarese&quot;, openMeteo: true, stationId: &quot;BOTRICELLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Acconia&quot;, lat: 38.83585, lon: 16.2653, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana di Lamezia&quot;, openMeteo: true, stationId: &quot;ACCONIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Curinga&quot;, lat: 38.8281, lon: 16.31344, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle dell'Amato&quot;, openMeteo: true, stationId: &quot;CURINGA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Maida&quot;, lat: 38.8588, lon: 16.3628, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, openMeteo: true, stationId: &quot;MAIDA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Francavilla Angitola&quot;, lat: 38.783, lon: 16.267, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;FRANCAVILLA_ANGITOLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Pietro Lametino&quot;, lat: 38.869082, lon: 16.277958, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina della Piana di Lamezia&quot;, openMeteo: true, stationId: &quot;SANPIETRO_LAM&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Squillace&quot;, lat: 38.780585, lon: 16.513228, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa ionica del basso catanzarese&quot;, openMeteo: true, stationId: &quot;SQUILLACE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Montepaone Lido&quot;, lat: 38.728733, lon: 16.541554, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa ionica del basso catanzarese&quot;, openMeteo: true, stationId: &quot;MONTEPAONE_LIDO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Vito sullo Ionio&quot;, lat: 38.710368, lon: 16.409777, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra del basso ionio catanzarese&quot;, openMeteo: true, stationId: &quot;SANVITO_IONIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Monterosso Calabro&quot;, lat: 38.71792, lon: 16.291973, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;MONTEROSSO_CALABRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Chiaravalle Centrale&quot;, lat: 38.680996, lon: 16.411957, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra del basso ionio catanzarese&quot;, openMeteo: true, stationId: &quot;CHIARAVALLE_C&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Verbicaro&quot;, lat: 39.756, lon: 15.916, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Catena Costiera marittima nord&quot;, openMeteo: true, stationId: &quot;VERBICARO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Orsomarso&quot;, lat: 39.799, lon: 15.908, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Catena Costiera marittima nord&quot;, openMeteo: true, stationId: &quot;ORSOMARSO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cirella&quot;, lat: 39.703, lon: 15.823, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto Tirreno cosentino&quot;, openMeteo: true, stationId: &quot;CIRELLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Praia a Mare&quot;, lat: 39.909, lon: 15.778, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;PRAIA_A_MARE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Laino Borgo&quot;, lat: 39.95, lon: 15.97, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Mercure&quot;, openMeteo: true, stationId: &quot;LAINO_BORGO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Papasidero&quot;, lat: 39.87, lon: 15.90, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Borgo dell'alto tirreno&quot;, openMeteo: true, stationId: &quot;PAPASIDERO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Acquaformosa&quot;, lat: 39.736, lon: 16.078, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;ACQUAFORMOSA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Saracena&quot;, lat: 39.849, lon: 16.11, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;SARACENA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cerchiara di Calabria&quot;, lat: 39.883, lon: 16.4, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;CERCHIARA_DI_CALABRIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Lorenzo Bellizzi&quot;, lat: 39.88, lon: 16.33, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;SAN_LORENZO_BELLIZZI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Plataci&quot;, lat: 39.90, lon: 16.43, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Parco Nazionale del Pollino&quot;, openMeteo: true, stationId: &quot;PLATACI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Albidona&quot;, lat: 39.937, lon: 16.525, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;ALBIDONA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Alessandria del Carretto&quot;, lat: 39.984, lon: 16.338, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;ALESSANDRIA_DEL_CARRETTO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Terranova di Pollino&quot;, lat: 40.032, lon: 16.23, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;TERRANOVA_DI_POLLINO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Castroregio&quot;, lat: 39.987, lon: 16.51, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CASTROREGIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Oriolo&quot;, lat: 40.05, lon: 16.434, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;ORIOLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Montegiordano&quot;, lat: 40.04, lon: 16.53, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto ionio cosentino&quot;, openMeteo: true, stationId: &quot;MONTEGIORDANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Nocara&quot;, lat: 40.09, lon: 16.48, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;NOCARA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Rocca Imperiale&quot;, lat: 40.10, lon: 16.58, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto ionio cosentino&quot;, openMeteo: true, stationId: &quot;ROCCA_IMPERIALE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Apollinara&quot;, lat: 39.70, lon: 16.41, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;APOLLINARA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cantinella&quot;, lat: 39.66, lon: 16.44, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CANTINELLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Corigliano Scalo&quot;, lat: 39.618, lon: 16.509, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CORIGLIANO_SCALO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Giorgio Albanese&quot;, lat: 39.58, lon: 16.45, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;SAN_GIORGIO_ALBANESE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Demetrio Corone&quot;, lat: 39.562, lon: 16.51, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;SAN_DEMETRIO_CORONE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cozzo Carbonaro&quot;, lat: 39.46, lon: 16.20, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alta Valle del Crati&quot;, openMeteo: true, stationId: &quot;COZZO_CARBONARO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Taverna di Montalto Uffugo&quot;, lat: 39.415, lon: 16.246, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;TAVERNA_DI_MONTALTO_UFFUGO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Rose&quot;, lat: 39.394, lon: 16.232, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina della media Valle del Crati&quot;, openMeteo: true, stationId: &quot;ROSE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Vincenzo la Costa&quot;, lat: 39.374, lon: 16.162, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Catena Costiera interna&quot;, openMeteo: true, stationId: &quot;SAN_VINCENZO_LA_COSTA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lago&quot;, lat: 39.16, lon: 16.16, quota: &quot;600&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Serre Cosentine&quot;, openMeteo: true, stationId: &quot;LAGO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Mango d'Aquino&quot;, lat: 39.027, lon: 16.217, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina della Valle del Savuto&quot;, openMeteo: true, stationId: &quot;SAN_MANGO_DAQUINO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Panetti&quot;, lat: 39.01, lon: 16.30, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina del Monte Reventino&quot;, openMeteo: true, stationId: &quot;PANETTI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cicala&quot;, lat: 39.02, lon: 16.416, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila catanzarese&quot;, openMeteo: true, stationId: &quot;CICALA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Panettieri&quot;, lat: 39.079, lon: 16.423, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Monte Reventino&quot;, openMeteo: true, stationId: &quot;PANETTIERI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sellia&quot;, lat: 38.832, lon: 16.517, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina dell'alto ionio catanzarese&quot;, openMeteo: true, stationId: &quot;SELLIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Pianopoli&quot;, lat: 38.957, lon: 16.319, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Marcellinara&quot;, openMeteo: true, stationId: &quot;PIANOPOLI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Gizzeria&quot;, lat: 38.937, lon: 16.148, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto tirreno catanzarese&quot;, openMeteo: true, stationId: &quot;GIZZERIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Soveria Simeri&quot;, lat: 38.97, lon: 16.659, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina dell'alto ionio catanzarese&quot;, openMeteo: true, stationId: &quot;SOVERIA_SIMERI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mesoraca&quot;, lat: 39.096, lon: 16.789, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila catanzarese&quot;, openMeteo: true, stationId: &quot;MESORACA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Mauro Marchesato&quot;, lat: 39.126, lon: 16.859, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;SAN_MAURO_MARCHESATO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Marcedusa&quot;, lat: 39.024, lon: 16.858, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;MARCEDUSA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Papanice&quot;, lat: 39.118, lon: 16.981, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;PAPANICE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Capo Colonna&quot;, lat: 39.016, lon: 17.135, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CAPO_COLONNA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Le Cannella&quot;, lat: 38.946, lon: 17.074, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;LE_CANNELLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Le Castella&quot;, lat: 38.906, lon: 17.01, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;LE_CASTELLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Floro&quot;, lat: 38.899, lon: 16.486, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;SAN_FLORO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Borgia&quot;, lat: 38.882, lon: 16.507, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;BORGIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Vallefiorita&quot;, lat: 38.778, lon: 16.49, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;VALLEFIORITA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Palermiti&quot;, lat: 38.71, lon: 16.422, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;PALERMITI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Petrizzi&quot;, lat: 38.637, lon: 16.474, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;PETRIZZI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Sostene&quot;, lat: 38.65, lon: 16.487, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;SAN_SOSTENE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Brognaturo&quot;, lat: 38.575, lon: 16.373, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;BROGNATURO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Badolato&quot;, lat: 38.578, lon: 16.556, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;BADOLATO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Serra San Bruno&quot;, lat: 38.583, lon: 16.316, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;SERRA_SAN_BRUNO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Arena&quot;, lat: 38.576, lon: 16.157, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;ARENA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Monsoreto&quot;, lat: 38.521, lon: 16.163, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;MONSORETO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Paravati&quot;, lat: 38.6, lon: 16.084, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;PARAVATI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mileto&quot;, lat: 38.606, lon: 16.067, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;MILETO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Briatico&quot;, lat: 38.72, lon: 15.949, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;BRIATICO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Zambrone&quot;, lat: 38.695, lon: 15.959, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;ZAMBRONE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Caria&quot;, lat: 38.638, lon: 15.958, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;CARIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Maierato&quot;, lat: 38.697, lon: 16.111, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;MAIERATO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Vibo Marina&quot;, lat: 38.721, lon: 16.127, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;VIBO_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Nicotera&quot;, lat: 38.533, lon: 15.933, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;NICOTERA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Calogero&quot;, lat: 38.53, lon: 16.033, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;SAN_CALOGERO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Ferdinando&quot;, lat: 38.483, lon: 15.899, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SAN_FERDINANDO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Taurianova&quot;, lat: 38.354, lon: 16.03, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;TAURIANOVA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Oppido Mamertina&quot;, lat: 38.351, lon: 15.986, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;OPPIDO_MAMERTINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Siderno&quot;, lat: 38.27, lon: 16.294, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SIDERNO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Marina di Gioiosa Ionica&quot;, lat: 38.3, lon: 16.318, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MARINA_DI_GIOIOSA_IONICA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Roccella Ionica&quot;, lat: 38.327, lon: 16.398, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;ROCCELLA_IONICA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Marina di Caulonia&quot;, lat: 38.389, lon: 16.463, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MARINA_DI_CAULONIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Riace Marina&quot;, lat: 38.483, lon: 16.566, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;RIACE_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Villaggio Trepit√≤&quot;, lat: 38.386, lon: 16.453, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;VILLAGGIO_TREPIT√í&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Santa Cristina d'Aspromonte&quot;, lat: 38.275, lon: 15.954, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SANTA_CRISTINA_DASPROMONTE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Antonimina&quot;, lat: 38.195, lon: 16.097, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;ANTONIMINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Ardore&quot;, lat: 38.23, lon: 16.171, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;ARDORE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Molochio&quot;, lat: 38.28, lon: 16.01, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MOLOCHIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Bagnara Calabra&quot;, lat: 38.272, lon: 15.799, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;BAGNARA_CALABRA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Gallico Marina&quot;, lat: 38.17, lon: 15.65, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;GALLICO_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Gregorio&quot;, lat: 38.048, lon: 15.682, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SAN_GREGORIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cardeto&quot;, lat: 38.045, lon: 15.745, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;CARDETO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Amendolea&quot;, lat: 38.025, lon: 15.887, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;AMENDOLEA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Bianco&quot;, lat: 38.082, lon: 16.142, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;BIANCO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Montebello Ionico&quot;, lat: 37.986, lon: 15.759, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MONTEBELLO_IONICO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Motta San Giovanni&quot;, lat: 38.013, lon: 15.706, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MOTTA_SAN_GIOVANNI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Bova Marina&quot;, lat: 37.933, lon: 15.918, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;BOVA_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Palizzi Marina&quot;, lat: 37.919, lon: 15.973, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;PALIZZI_MARINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sant'Alessio in Aspromonte&quot;, lat: 38.148, lon: 15.709, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SANTALESSIO_IN_ASPROMONTE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Santo Stefano in Aspromonte&quot;, lat: 38.155, lon: 15.799, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SANTO_STEFANO_IN_ASPROMONTE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Gambarie&quot;, lat: 38.154, lon: 15.877, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;GAMBARIE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sambatello&quot;, lat: 38.179, lon: 15.69, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SAMBATELLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Trunca&quot;, lat: 38.155, lon: 15.642, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;TRUNCA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Palizzi&quot;, lat: 37.939, lon: 15.991, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;PALIZZI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Pietrapennata&quot;, lat: 38.187, lon: 15.956, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;PIETRAPENNATA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Motticella&quot;, lat: 38.064, lon: 16.137, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MOTTICELLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sant'Agata del Bianco&quot;, lat: 38.092, lon: 16.176, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SANTAGATA_DEL_BIANCO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Locri&quot;, lat: 38.243, lon: 16.258, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;LOCRI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Marina di Sant'Ilario dello Ionio&quot;, lat: 38.174, lon: 16.239, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MARINA_DI_SANTILARIO_DELLO_IONIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Benestare&quot;, lat: 38.207, lon: 16.148, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;BENESTARE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Plat√¨&quot;, lat: 38.19, lon: 16.094, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;PLAT√å&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sant'Eufemia d'Aspromonte&quot;, lat: 38.287, lon: 15.887, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SANTEUFEMIA_DASPROMONTE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Melicucc√†&quot;, lat: 38.35, lon: 15.942, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MELICUCC√Ä&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Monasterace&quot;, lat: 38.474, lon: 16.58, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;MONASTERACE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Torre di Ruggiero&quot;, lat: 38.648, lon: 16.353, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;TORRE_DI_RUGGIERO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Sant'Angelo di Gerocarne&quot;, lat: 38.639, lon: 16.123, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;SANTANGELO_DI_GEROCARNE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Nicola da Crissa&quot;, lat: 38.635, lon: 16.205, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;SAN_NICOLA_DA_CRISSA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Montepaone&quot;, lat: 38.697, lon: 16.529, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;MONTEPAONE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Roccelletta&quot;, lat: 38.781, lon: 16.519, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;ROCCELLETTA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Giovanni di Gerace&quot;, lat: 38.286, lon: 16.226, quota: &quot;ND&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte&quot;, openMeteo: true, stationId: &quot;SAN_GIOVANNI_DI_GERACE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Ciricilla&quot;, lat: 39.012, lon: 16.365, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;CIRICILLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Villaggio Palumbo&quot;, lat: 39.215, lon: 16.762, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;VILLAGGIO_PALUMBO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Villaggio Mancuso&quot;, lat: 39.022, lon: 16.608, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;VILLAGGIO_MANCUSO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cotronei&quot;, lat: 39.16, lon: 16.773, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;COTRONEI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Caccuri&quot;, lat: 39.164, lon: 16.786, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CACCURI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cerenzia&quot;, lat: 39.246, lon: 16.812, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CERENZIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Castelsilano&quot;, lat: 39.238, lon: 16.844, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CASTELSILANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Vigne&quot;, lat: 39.357, lon: 16.869, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;VIGNE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Verzino&quot;, lat: 39.326, lon: 16.911, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;VERZINO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Savelli&quot;, lat: 39.3, lon: 16.762, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;SAVELLI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Belvedere di Spinello&quot;, lat: 39.236, lon: 16.925, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;BELVEDERE_DI_SPINELLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Casabona&quot;, lat: 39.2, lon: 16.991, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;CASABONA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Nicola dell'Alto&quot;, lat: 39.221, lon: 17.071, quota: &quot;ND&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa Ionica Crotonese&quot;, openMeteo: true, stationId: &quot;SAN_NICOLA_DELLALTO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Pino Grande&quot;, lat: 39.32, lon: 16.75, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;PINO_GRANDE&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Lorica&quot;, lat: 39.24, lon: 16.51, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Altipiano silano&quot;, openMeteo: true, stationId: &quot;LORICA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Bocchigliero&quot;, lat: 39.429, lon: 16.797, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;BOCCHIGLIERO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Campana&quot;, lat: 39.496, lon: 16.742, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CAMPANA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Campo San Lorenzo&quot;, lat: 39.36, lon: 16.49, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;CAMPO_SAN_LORENZO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Corigliano Calabro&quot;, lat: 39.593, lon: 16.519, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CORIGLIANO_CALABRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Giacomo d'Acri&quot;, lat: 39.485, lon: 16.357, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, openMeteo: true, stationId: &quot;SAN_GIACOMO_DACRI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Pietrapaola&quot;, lat: 39.486, lon: 16.893, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;PIETRAPAOLA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mandatoriccio&quot;, lat: 39.508, lon: 16.87, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;MANDATORICCIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cropalati&quot;, lat: 39.466, lon: 16.585, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CROPALATI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Paludi&quot;, lat: 39.496, lon: 16.671, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;PALUDI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Mirto&quot;, lat: 39.502, lon: 16.768, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;MIRTO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Crosia&quot;, lat: 39.517, lon: 16.903, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CROSIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Calopezzati&quot;, lat: 39.516, lon: 16.869, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;CALOPEZZATI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Camigliano&quot;, lat: 38.983, lon: 16.233, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;CAMIGLIANO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Fabrizio&quot;, lat: 39.635, lon: 16.575, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;FABRIZIO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Schiavonea&quot;, lat: 39.663, lon: 16.523, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;SCHIAVONEA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Laghi di Sibari&quot;, lat: 39.72, lon: 16.50, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto ionio cosentino&quot;, openMeteo: true, stationId: &quot;LAGHI_DI_SIBARI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Doria&quot;, lat: 39.73, lon: 16.35, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, openMeteo: true, stationId: &quot;DORIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Firmo&quot;, lat: 39.72, lon: 16.17, quota: &quot;ND&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina sibaritide&quot;, openMeteo: true, stationId: &quot;FIRMO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Miglierina&quot;, lat: 39.001, lon: 16.444, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;MIGLIERINA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Tiriolo&quot;, lat: 38.962, lon: 16.512, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;TIRIOLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;San Pietro Apostolo&quot;, lat: 39.007, lon: 16.47, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;SAN_PIETRO_APOSTOLO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cerva&quot;, lat: 39.029, lon: 16.572, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;CERVA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Petron√†&quot;, lat: 39.118, lon: 16.632, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;PETRON√Ä&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Belcastro&quot;, lat: 39.027, lon: 16.687, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;BELCASTRO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Simeri&quot;, lat: 38.971, lon: 16.677, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;SIMERI&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Dulcino&quot;, lat: 39.039, lon: 16.434, quota: &quot;ND&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Presila Catanzarese&quot;, openMeteo: true, stationId: &quot;DULCINO&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Filadelfia&quot;, lat: 38.818, lon: 16.247, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Entroterra Vibonese&quot;, openMeteo: true, stationId: &quot;FILADELFIA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Olivara&quot;, lat: 38.77, lon: 16.21, quota: &quot;ND&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa vibonese&quot;, openMeteo: true, stationId: &quot;OLIVARA&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Cosenza Diodato&quot;, mlg: true, lat: 39.27, lon: 16.26, quota: &quot;500 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Collina Valle del Crati&quot;, stationId: &quot;ICOSEN12&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Aprigliano Guarno&quot;, mlg: true, lat: 39.24, lon: 16.34, quota: &quot;700 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;PreSila Grande cosentina&quot;, stationId: &quot;IAPRIG9&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },    { nome: &quot;Campora San Giovanni&quot;, lat: 39.07, lon: 16.09, quota: &quot;4 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso tirreno cosentino&quot;, stationId: &quot;IAMANT5&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Catanzaro sud&quot;, lat: 38.90, lon: 16.59, quota: &quot;280 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, stationId: &quot;ICATAN51&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Crotone centro&quot;, lat: 39.08, lon: 17.13, quota: &quot;12 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa ionica crotonese&quot;, stationId: &quot;ICROTO21&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },  { nome: &quot;Torano Castello - Scalo&quot;, lat: 39.46, lon: 16.24, quota: &quot;89 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati&quot;, stationId: &quot;IMONTA161&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;#&quot; },// ---------- SEGUONO ESEMPI DA COMPILARE ----------,  { nome: &quot;Spez. Sila - Moccone&quot;, mlg: true, lat: 39.34, lon: 16.44, quota: &quot;1300 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sila Grande&quot;, stationId: &quot;ISPEZZ1&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-10&quot; },  { nome: &quot;Domanico - Potame&quot;, mlg: true, lat: 39.19, lon: 16.20, quota: &quot;1000 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Serre Cosentine&quot;, stationId: &quot;IDOMAN19&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-11&quot; },  { nome: &quot;Feroleto Antico&quot;, mlg: true, lat: 38.96, lon: 16.37, quota: &quot;225 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Piana Lametina&quot;, stationId: &quot;IFEROL1&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-12&quot; },  { nome: &quot;Taverna&quot;, mlg: true, lat: 39.02, lon: 16.58, quota: &quot;540 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Pre-Sila Piccola&quot;, stationId: &quot;ITAVER2&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-13&quot; },  { nome: &quot;Soveria Mannelli&quot;, mlg: true, lat: 39.08, lon: 16.37, quota: &quot;710 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Reventino interno&quot;, stationId: &quot;ISOVER27&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-14&quot; },  { nome: &quot;Capo Bianco&quot;, mlg: true, lat: 38.91, lon: 17.11, quota: &quot;12 m&quot;, provincia: &quot;KR&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso ionio crotonese&quot;, stationId: &quot;IISOLA24&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-15&quot; },  { nome: &quot;Saracena&quot;, mlg: true, lat: 39.78, lon: 16.16, quota: &quot;650 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area del Pollino&quot;, stationId: &quot;ISARAC8&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-16&quot; },  { nome: &quot;Frascineto&quot;, mlg: true, lat: 39.83, lon: 16.26, quota: &quot;500 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area del Pollino&quot;, stationId: &quot;IFRASC28&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-17&quot; },  { nome: &quot;Catanzaro centrale&quot;, mlg: true, lat: 38.92, lon: 16.59, quota: &quot;350 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro&quot;, stationId: &quot;ICATAN57&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-18&quot; },  { nome: &quot;Vibo V. - Olivarella&quot;, mlg: true, lat: 38.67, lon: 16.08, quota: &quot;420 m&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Monte Leone&quot;, stationId: &quot;IVIBOV3&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-19&quot; },  { nome: &quot;Catanzaro - Viale Crotone&quot;, mlg: true, lat: 38.84, lon: 16.65, quota: &quot;32 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Ionio catanzarese&quot;, stationId: &quot;ICATAN92&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-20&quot; },  { nome: &quot;Marina di Curinga&quot;, mlg: true, lat: 38.83, lon: 16.22, quota: &quot;38 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso tirreno catanzarese&quot;, stationId: &quot;IFRANC35&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-21&quot; },  { nome: &quot;Capo Vaticano - Frizza&quot;, mlg: true, lat: 38.63, lon: 15.83, quota: &quot;100 m&quot;, provincia: &quot;VV&quot;, regione: &quot;Calabria&quot;, area: &quot;Costa vibonese&quot;, stationId: &quot;IRICADI98&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-22&quot; },  { nome: &quot;Reggio Calabria - Stadio&quot;, mlg: true, lat: 38.10, lon: 15.65, quota: &quot;90 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Area dello stretto&quot;, stationId: &quot;IREGGI58&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-23&quot; },  { nome: &quot;San Lorenzo - Marina&quot;, mlg: true, lat: 37.92, lon: 15.80, quota: &quot;5 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso reggino&quot;, stationId: &quot;IMELIT15&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-24&quot; },  { nome: &quot;Brancaleone Marina&quot;, mlg: true, lat: 37.96, lon: 16.10, quota: &quot;28 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso ionio reggino&quot;, stationId: &quot;ICALABRI4&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-25&quot; },  { nome: &quot;Sant'Ilario dello Ionio&quot;, mlg: true, lat: 38.21, lon: 16.19, quota: &quot;32 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Ionio reggino&quot;, stationId: &quot;ISANTI149&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-26&quot; },  { nome: &quot;Siderno - Corso Garibaldi&quot;, mlg: true, lat: 38.26, lon: 16.29, quota: &quot;70 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto ionio reggino&quot;, stationId: &quot;ISIDERNO2&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-27&quot; },  { nome: &quot;Molochio&quot;, mlg: true, lat: 38.31, lon: 16.03, quota: &quot;120 m&quot;, provincia: &quot;RC&quot;, regione: &quot;Calabria&quot;, area: &quot;Aspromonte occidentale&quot;, stationId: &quot;IMOLOC3&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-28&quot; },  { nome: &quot;Rende - Piano Monello&quot;, mlg: true, lat: 39.34, lon: 16.23, quota: &quot;200 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Valle del Crati&quot;, stationId: &quot;IRENDE15&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-29&quot; },  { nome: &quot;Rende Nord&quot;, mlg: true, lat: 39.36, lon: 16.23, quota: &quot;137 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Media Valle del Crati&quot;, stationId: &quot;IRENDE23&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-30&quot; },  { nome: &quot;Corigliano - Villaggio Frasso&quot;, mlg: true, lat: 39.64, lon: 16.48, quota: &quot;80 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Sibaritide&quot;, stationId: &quot;ICORIG10&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-31&quot; },  { nome: &quot;Cosenza Sud&quot;, mlg: true, lat: 39.29, lon: 16.23, quota: &quot;310 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Bassa Valle del Crati&quot;, stationId: &quot;ICALABRI46&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-32&quot; },  { nome: &quot;Cosenza - Citt√† 2000&quot;, mlg: true, lat: 40.15000, lon: 17.15000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP33&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-33&quot; },  { nome: &quot;Esempio Stazione 34&quot;, mlg: true, lat: 40.20000, lon: 17.20000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP34&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-34&quot; },  { nome: &quot;Esempio Stazione 35&quot;, mlg: true, lat: 40.25000, lon: 17.25000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP35&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-35&quot; },  { nome: &quot;Esempio Stazione 36&quot;, mlg: true, lat: 40.30000, lon: 17.30000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP36&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-36&quot; },  { nome: &quot;Esempio Stazione 37&quot;, mlg: true, lat: 40.35000, lon: 17.35000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP37&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-37&quot; },  { nome: &quot;Esempio Stazione 38&quot;, mlg: true, lat: 40.40000, lon: 17.40000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP38&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-38&quot; },  { nome: &quot;Esempio Stazione 39&quot;, mlg: true, lat: 40.45000, lon: 17.45000, quota: &quot;100 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Area di Test&quot;, stationId: &quot;IESEMP39&quot;, apiKey: &quot;123456789&quot;, webcam: &quot;&quot;, linkStazione: &quot;https://esempio.it/stazioni/esempio-stazione-39&quot; },  { nome: &quot;Longobardi Marina&quot;, mlg: true, lat: 39.196082, lon: 16.064474, quota: &quot;8 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Basso tirreno cosentino&quot;, stationId: &quot;ILONGO4&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Cosenza - Viale Parco&quot;, mlg: true, lat: 39.32, lon: 16.25, quota: &quot;205 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati sud&quot;, stationId: &quot;ICOSEN19&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Rende - Santa Chiara&quot;, mlg: true, lat: 39.34, lon: 16.26, quota: &quot;182 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati sud&quot;, stationId: &quot;IRENDE25&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;San Pietro in Guarano Est&quot;, mlg: true, lat: 39.34, lon: 16.32, quota: &quot;769 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;PreSila Grande&quot;, stationId: &quot;ISANPI41&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Casali del Manco - Verticelli&quot;, mlg: true, lat: 39.28, lon: 16.33, quota: &quot;623 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Bassa preSila Grande&quot;, stationId: &quot;ICASAL59&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Catanzaro Santa Maria&quot;, mlg: true, lat: 38.87, lon: 16.60, quota: &quot;27 m&quot;, provincia: &quot;CZ&quot;, regione: &quot;Calabria&quot;, area: &quot;Istmo di Catanzaro orientale&quot;, stationId: &quot;ICATAN48&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Luzzi - Cavoni&quot;, mlg: true, lat: 39.45, lon: 16.26, quota: &quot;135 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Fondovalle del Crati centro&quot;, stationId: &quot;ILUZZI4&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Capo Bonifati&quot;, mlg: true, lat: 39.55, lon: 15.87, quota: &quot;17 m&quot;, provincia: &quot;CS&quot;, regione: &quot;Calabria&quot;, area: &quot;Alto tirreno cosentino&quot;, stationId: &quot;IBONIF3&quot;, apiKey: &quot;e1f10a1e78da46f5b10a1e78da96f525&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Esempio Stazione 9&quot;, mlg: true, lat: 0, lon: 0, quota: &quot;&quot;, provincia: &quot;&quot;, regione: &quot;&quot;, area: &quot;&quot;, stationId: &quot;ESEMPIO9&quot;, apiKey: &quot;&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; },  { nome: &quot;Esempio Stazione 10&quot;, mlg: true, lat: 0, lon: 0, quota: &quot;&quot;, provincia: &quot;&quot;, regione: &quot;&quot;, area: &quot;&quot;, stationId: &quot;ESEMPIO10&quot;, apiKey: &quot;&quot;, webcam: &quot;&quot;, linkStazione: &quot;&quot; }];const map=L.map('map',{zoomControl:true,attributionControl:false});map.fitBounds([[37.85,15.45],[40.35,17.45]]);L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{maxZoom:16}).addTo(map);const list=(Array.isArray(DATA)?DATA:[]).filter(s=&gt;s&amp;&amp;isFinite(s.lat)&amp;&amp;isFinite(s.lon));const cluster=L.markerClusterGroup({maxClusterRadius:44,spiderfyOnMaxZoom:true,showCoverageOnHover:false,disableClusteringAtZoom:12});list.forEach(s=&gt;{  const m=L.marker([s.lat,s.lon],{title:s.nome||'Stazione'});  const link=s.linkStazione||'https://www.meteologullo.com/stazioni-meteorologiche-mlg';  m.bindPopup('&lt;b&gt;'+(s.nome||'Stazione')+'&lt;/b&gt;&lt;br&gt;&lt;a href=&quot;'+link+'&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Apri scheda / mappa&lt;/a&gt;');  cluster.addLayer(m);});map.addLayer(cluster);document.getElementById('badge').onclick=()=&gt;window.open('https://www.meteologullo.com/stazioni-meteorologiche-mlg','_blank');&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;" title="Anteprima MLG Map"></iframe>
</section>
<section class="card">
<div class="pad">
<h2>MeteorNews</h2>
<p>Gli ultimi aggiornamenti dal sito. <a href="https://www.meteologullo.com/meteornews" rel="noopener" target="_blank">Vedi tutte le news</a>.</p>
<div class="newslist" id="mlg-news-list">
<a class="item" href="https://www.meteologullo.com/meteornews" rel="noopener" target="_blank">
<div class="k">News</div><div class="t">Apri MeteorNews per gli articoli pi√π recenti ¬ª</div>
</a>
</div>
</div>
</section>
</div>
<section class="card banner" style="margin-top:16px">
<img alt="Meteo Lo Gullo banner" src="data:image/png;base64,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"/>
<div class="pad">
<h2>Curiosit√† &amp; Progetto</h2>
<div class="newslist">
<div class="item"><div class="t">La rete pi√π grande della Calabria</div><div class="k">MLG Map</div>Oltre <strong>200 stazioni</strong>, copertura in crescita.</div>
<div class="item"><div class="t">Interpolazione innovativa</div><div class="k">Aree senza sensori</div>Dove mancano stazioni fisiche, calcoliamo valori con <strong>interpolazione</strong> basata su dati pubblici vicini.</div>
<div class="item"><div class="t">Previsioni integrate</div><div class="k">Dati live + correzioni</div>Le previsioni si integrano alla rete MLG e considerano l‚Äô<strong>orografia</strong>.</div>
<div class="item"><div class="t">Progetto indipendente</div><div class="k">Comunit√†</div>Amatoriale, libero e indipendente, sostenuto da fondi privati e contributi personali.</div>
</div>
</div>
</section>
<div class="fb">
<div id="fb-root"></div>
<div class="fb-page" data-height="430" data-hide-cover="false" data-href="https://www.facebook.com/METEOLOGULLO/" data-show-facepile="false" data-small-header="true" data-tabs="timeline" data-width="500"></div>
</div>
<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>

</section>
<script id="part-summary-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const dayPartsEl = document.getElementById('dayParts');
  if(!dayPartsEl) return;
  function renderParts(fc){
    if(!fc||!fc.hourly) return '';
    // Determine the base day ISO (YYYY-MM-DD) for the panel
    var baseISO = (fc.daily && fc.daily.time && fc.daily.time[0]) ? String(fc.daily.time[0]).slice(0,10)
                 : (fc.hourly.time && fc.hourly.time[0] ? String(fc.hourly.time[0]).slice(0,10) : '');
    function addDaysISO(iso, d){
      try{ var dt = new Date(iso + "T00:00:00"); dt.setDate(dt.getDate()+d); return dt.toISOString().slice(0,10); }catch(e){ return iso; }
    }
    var nextISO = addDaysISO(baseISO, 1);
    var full = window.fc || fc; // use full forecast so we can access next day's hours for 'Notte'

    var parts=[
      {name:'Mattina', start:6, end:12, iso: baseISO},
      {name:'Pomeriggio', start:12, end:18, iso: baseISO},
      {name:'Sera', start:18, end:24, iso: baseISO},
      {name:'Notte', start:0, end:6, iso: nextISO, nextNight:true}
    ];

    if(dayPartsEl){ try{ dayPartsEl.dataset.dayIso = baseISO; }catch(e){} };
    var html='<div class="card"><h3>Notte¬†‚Üí¬†Sera</h3><div class="parts">';
    parts.forEach(function(part){
      var rows=[];
      // collect rows from the FULL forecast matching the target iso and hour range
      var T = (full.hourly && full.hourly.time) || [];
      for(var i=0;i<T.length;i++){
        var t = String(T[i]||'');
        if(t.slice(0,10)!==part.iso) continue;
        var h = parseInt(t.slice(11,13),10);
        if(h>=part.start && h<part.end) rows.push(i);
      }
      if(!rows.length) return;

      // choose representative weather (first row by time for simplicity)
      var idx=rows[0];
      var isNight = !!(full.hourly.is_day && full.hourly.is_day[idx]===0);
      var icon = window.iconHTML_NOEMOJI ? window.iconHTML_NOEMOJI(full.hourly.weathercode[idx], isNight) : '';

      // temps
      var tmin=Infinity, tmax=-Infinity;
      rows.forEach(function(i){ tmin=Math.min(tmin, Number(full.hourly.temperature_2m[i])); tmax=Math.max(tmax, Number(full.hourly.temperature_2m[i])); });

      // LIVE clamp only if the panel's base day is TODAY and the band is the current one
      try{
        var todayISO = (function(){ var d=new Date(); d.setHours(0,0,0,0); return d.toISOString().slice(0,10); })();
        if(baseISO===todayISO && window.LIVE && Number.isFinite(Number(window.LIVE.t))){
          var nowH = new Date().getHours();
          var inBand = (part.name==='Mattina' && nowH>=6 && nowH<12) ||
                       (part.name==='Pomeriggio' && nowH>=12 && nowH<18) ||
                       (part.name==='Sera' && nowH>=18 && nowH<24) ||
                       (part.name==='Notte' && (nowH>=0 && nowH<6));
          if(inBand){ tmax = Math.max(tmax, Math.round(Number(window.LIVE.t))); }
        }
      }catch(e){}

      html += '\n      <details class="part">\n        <summary><h4>'+part.name+'</h4>'+icon+'<div class="temp>'+
               '">'+(isFinite(tmax)?Math.round(tmax):'‚Äî')+'¬∞</div><div class="min">'+(isFinite(tmin)?Math.round(tmin):'‚Äî')+'¬∞</div></summary>\n'+
               '        <div class="detail"></div>\n      </details>';
      
      // attachListeners will fill details on toggle using hourlySubsetHTML(full, rows)
    });
    html+='</div></div>';
    return html;
}
        if(h>=part.start && h<part.end){
          rows.push(i);
        }
      }
      if(!rows.length) return;
      // choose representative weather (first)
      const idx=rows[0];
      const isNight = fc.hourly.is_day && fc.hourly.is_day[idx]===0;
      const icon = window.iconHTML_NOEMOJI ? window.iconHTML_NOEMOJI(fc.hourly.weathercode[idx], isNight) : '';
      // temps
      let tmin=Infinity, tmax=-Infinity;
      rows.forEach(i=>{ tmin=Math.min(tmin, fc.hourly.temperature_2m[i]); tmax=Math.max(tmax, fc.hourly.temperature_2m[i]); });
      
      // live clamp for current part
      try{
        const nowH = new Date(now).getHours();
        const inPart = (part.start<part.end) ? (nowH>=part.start && nowH<part.end) : (nowH>=part.start || nowH<part.end);
        if(typeof LIVE!=='undefined' && LIVE && Number.isFinite(LIVE.t) && inPart){
          tmax = Math.max(tmax, LIVE.t);
        }
      }catch(e){}
html += `
      <details class="part">
        <summary><h4>${part.name}</h4>${icon}<div class="temp">${Math.round(tmax)}¬∞</div><div class="min">${Math.round(tmin)}¬∞</div></summary>
        <div class="detail"></div>
      </details>`;
    });
    html+='</div></div>';
    return html;
  }
  // helper to filter hourly subset  for a given range
  function hourlySubsetHTML(fc, rows){
    if(typeof window.renderHourly!=='function') return '';
    // create a temporary object copy with limited rows
    const sub = JSON.parse(JSON.stringify(fc));
    ['time','weathercode','temperature_2m','relativehumidity_2m','precipitation','precipitation_probability','wind_speed_10m','is_day'].forEach(key=>{
      if(sub.hourly && sub.hourly[key]) sub.hourly[key] = rows.map(i=>fc.hourly[key][i]);
    });
    return window.renderHourly(sub,0);
  }
  function attachListeners(){
    var el = document.getElementById('dayParts');
    var baseISO = el && el.dataset ? el.dataset.dayIso : '';
    function addDaysISO(iso, d){
      try{ var dt=new Date(iso+"T00:00:00"); dt.setDate(dt.getDate()+d); return dt.toISOString().slice(0,10); }catch(e){ return iso; }
    }
    var nextISO = addDaysISO(baseISO, 1);
    var defs = [
      {iso: baseISO, start:6, end:12},
      {iso: baseISO, start:12, end:18},
      {iso: baseISO, start:18, end:24},
      {iso: nextISO, start:0, end:6}
    ];
    dayPartsEl.querySelectorAll('.part').forEach((partEl, idx)=>{
      partEl.addEventListener('toggle', function(){
        if(!this.open) return;
        const detailBox = this.querySelector('.detail');
        if(detailBox.dataset.filled) return;
        const def = defs[idx] || defs[0];
        const rows=[];
        const T = (window.fc && window.fc.hourly && window.fc.hourly.time) || [];
        for(let i=0;i<T.length;i++){
          const t = String(T[i]||'');
          if(t.slice(0,10)!==def.iso) continue;
          const h = parseInt(t.slice(11,13),10);
          if(h>=def.start && h<def.end) rows.push(i);
        }
        if(!rows.length){ detailBox.innerHTML=''; detailBox.dataset.filled='1'; return; }
        detailBox.innerHTML = hourlySubsetHTML(window.fc, rows);
        detailBox.dataset.filled='1';
      }, {passive:true});
    });
  }
          else{ if(h>=range[0]||h<range[1]) rows.push(i); }
        }
        detailBox.innerHTML = hourlySubsetHTML(window.fc, rows);
        detailBox.dataset.filled='1';
        setTimeout(()=>{ this.scrollIntoView({behavior:'smooth',block:'start'}); },50);
      });
    });
  }
  // expose function to global run()
  window.renderDayParts = function(fc){
    dayPartsEl.innerHTML = renderParts(fc);
    attachListeners();
  };
})();
</script>
<style id="hourly-list-css">
#hourlyPanel{display:none!important;} /* Hide old 24‚ÄØh table */

.hourly-list{display:flex;flex-direction:column;gap:6px;margin-top:8px;}
.hour-row{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:rgba(255,255,255,.07);border-radius:8px;font-size:.95rem;}
.hour-row .hr-time{font-weight:600;width:48px;flex-shrink:0;}
.hour-row .hr-icon{width:32px;flex-shrink:0;}
.hour-row .hr-temp{width:52px;text-align:right;flex-shrink:0;}
.hour-row .hr-rain{flex:1;text-align:right;margin-left:4px;}
.hour-row .hr-wind{width:64px;text-align:right;flex-shrink:0;font-size:.85rem;}

@media(max-width:480px){
  .hour-row{flex-wrap:wrap;row-gap:4px;}
  .hour-row .hr-rain,.hour-row .hr-wind{width:50%;text-align:left;}
}

.day.sel{outline:2px solid var(--clr-accent);border-radius:6px;}

/* anti-zoom iOS */
#mlgAiInput, #mlgAiInput::placeholder, input, textarea {
  font-size: 16px !important;
  -webkit-text-size-adjust: 100%;
}
/* prevent viewport jump on focus */
html, body { overscroll-behavior: contain; }
</style>
<script id="hourly-list-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const dayPartsEl = document.getElementById('dayParts');

  /* ---------- MOBILE‚ÄëFRIENDLY HOURLY LIST ---------- */
  window.renderHourly = function(data){
    const rows = data.hourly.time.map((t,i)=>{
      const icon = window.iconHTML_NOEMOJI
        ? window.iconHTML_NOEMOJI(data.hourly.weathercode[i], data.hourly.is_day ? data.hourly.is_day[i]===0 : false)
        : '';
      return `<div class="hour-row">
        <div class="hr-time">${t.slice(11,16)}</div>
        <div class="hr-icon">${icon}</div>
        <div class="hr-temp">${Math.round(data.hourly.temperature_2m[i])}¬∞</div>
        <div class="hr-rain">${(data.hourly.precipitation?.[i] ?? 0).toFixed(1)}¬†mm</div>
        <div class="hr-wind">${Math.round(data.hourly.wind_speed_10m[i])}¬†km/h</div>
      </div>`;
    }).join('');
    return `<div class="hourly-list">${rows}</div>`;
  };

  /* ---------- RENDER MORNING / AFTERNOON / EVENING / NIGHT STRIP ---------- */
  function renderParts(fc){
    const partNames = ['Mattina','Pomeriggio','Sera','Notte'];
    const ranges    = [[6,12],[12,18],[18,24],[0,6]];
    let html = '';
    ranges.forEach((rng,idx)=>{
      const rows = [];
      for(let i=0;i<fc.hourly.time.length;i++){
        const h = Number(fc.hourly.time[i].slice(11,13));
        if(rng[0] < rng[1]){
          if(h >= rng[0] && h < rng[1]) rows.push(i);
        }else{
          if(h >= rng[0] || h < rng[1]) rows.push(i);
        }
      }
      if(!rows.length) return;
      const repr = rows[Math.floor(rows.length/2)];
      const icon = window.iconHTML_NOEMOJI ? window.iconHTML_NOEMOJI(fc.hourly.weathercode[repr], fc.hourly.is_day ? fc.hourly.is_day[repr]===0 : false) : '';
      const tmax = Math.max(...rows.map(i=>fc.hourly.temperature_2m[i]));
      const tmin = Math.min(...rows.map(i=>fc.hourly.temperature_2m[i]));
      html += `<details class="part">
        <summary>
          <h4>${partNames[idx]}</h4>
          ${icon}
          <div class="temp">${Math.round(tmax)}¬∞</div>
          <div class="min">${Math.round(tmin)}¬∞</div>
        </summary>
        <div class="detail"></div>
      </details>`;
    });
    return html;
  }

  /* ----- Helper: filter forecast object to subset of hours ----- */
  function subsetByRange(fc, rng){
    const rows = [];
    for(let i=0;i<fc.hourly.time.length;i++){
      const h = Number(fc.hourly.time[i].slice(11,13));
      if(rng[0] < rng[1]){
        if(h >= rng[0] && h < rng[1]) rows.push(i);
      }else{
        if(h >= rng[0] || h < rng[1]) rows.push(i);
      }
    }
    const sub = JSON.parse(JSON.stringify(fc));
    const keys = ['time','weathercode','temperature_2m','precipitation','wind_speed_10m','is_day','relativehumidity_2m'];
    keys.forEach(k=>{
      if(sub.hourly && sub.hourly[k]) sub.hourly[k] = rows.map(i=>fc.hourly[k][i]);
    });
    return sub;
  }

  /* ---------- Add toggle listeners to each <details>. ---------- */
  function attachListeners(fc){
    const partNames = ['Mattina','Pomeriggio','Sera','Notte'];
    const ranges    = [[6,12],[12,18],[18,24],[0,6]];
    dayPartsEl.querySelectorAll('.part').forEach((partEl, idx)=>{
      partEl.addEventListener('toggle', function(){
        if(!this.open) return;
        const detailBox = this.querySelector('.detail');
        if(detailBox.dataset.filled) return;

        const sub = subsetByRange(fc, ranges[idx]);
        detailBox.innerHTML = window.renderHourly(sub);
        detailBox.dataset.filled = '1';
        setTimeout(()=>{this.scrollIntoView({behavior:'smooth', block:'start'});},50);
      });
    });
  }

  /* ---------- Expose global renderer ---------- */
  window.renderDayParts = function(fc){
    window.dayFc = fc;
    if(!dayPartsEl) return;
    dayPartsEl.innerHTML = renderParts(fc);
    attachListeners(fc);
  };

  /* ---------- Connect 7‚Äëday strip ---------- */
  document.addEventListener('DOMContentLoaded', ()=>{
    const strip = document.querySelector('#dailyPanel .days');
    if(!strip) return;
    strip.addEventListener('click', function(ev){
      const dayEl = ev.target.closest('.day');
      if(!dayEl) return;
      const all = Array.from(strip.querySelectorAll('.day'));
      const idx = all.indexOf(dayEl);
      all.forEach(d => d.classList.toggle('sel', d === dayEl));
      if(window.fc && typeof window.subForecastByDay === 'function'){
        const sub = window.subForecastByDay(window.fc, idx);
        window.renderDayParts(sub);
          try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
      }
    }, false);
  });
})();
</script>
<!-- === FIX 2025‚Äë08‚Äë04: collega strip 7 giorni al box parti del giorno === -->
<script id="seven-day-link-fix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  // rimuovo listener precedenti clonando il nodo .days
  document.querySelectorAll('.days').forEach(function(strip){
    var clone = strip.cloneNode(true);
    strip.parentNode.replaceChild(clone, strip);
  });

  // utility: subset forecast per giorno
  window.subForecastByDay = function(fc, index){
    if(!fc || !fc.hourly || !fc.daily || index<0) return fc;
    var dayISO = fc.daily.time[index];           // YYYY-MM-DD
    var rows = [];
    for(var i=0;i<fc.hourly.time.length;i++){
      if((fc.hourly.time[i]||'').indexOf(dayISO)===0) rows.push(i);
    }
    if(!rows.length) return fc;
    var sub = JSON.parse(JSON.stringify(fc));
    Object.keys(sub.hourly).forEach(function(k){
      sub.hourly[k] = rows.map(function(i){ return fc.hourly[k][i]; });
    });
    ['time','temperature_2m_max','temperature_2m_min','weathercode'].forEach(function(k){
      if(sub.daily && sub.daily[k]) sub.daily[k] = [fc.daily[k][index]];
    });
    return sub;
  };

  // listener click sulla strip
  document.addEventListener('click', function(ev){
    var item = ev.target.closest('.day');
    if(!item) return;
    var strip = item.parentElement;
    if(!strip || !strip.classList.contains('days')) return;
    var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
    var idx   = items.indexOf(item);
    items.forEach(function(el){ el.classList.toggle('sel', el===item); });
    if(window.fc && window.renderDayParts && window.subForecastByDay){
      var sub = window.subForecastByDay(window.fc, idx);
      window.renderDayParts(sub);
          try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
    }
  }, false);
})();
</script>
<!-- Patch v3: day/night aggregation without breaking original logic (2025‚Äë08‚Äë04) -->
<script id="patch-daynight-v3">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* ---- helper functions ---- */
  function mode(arr){
    const freq = {};
    let bestKey = null, bestCnt = 0;
    for(const v of arr){
      freq[v] = (freq[v]||0)+1;
      if(freq[v] > bestCnt){ bestCnt = freq[v]; bestKey = v; }
    }
    return bestKey ?? arr[0] ?? null;
  }
  function aggregate(fc){
    if(!fc || !fc.hourly || !fc.hourly.time) return {day:[],night:[]};
    const byDay = {};
    const times = fc.hourly.time;
    const codes = fc.hourly.weathercode;
    for(let i=0;i<times.length;i++){
      const t = times[i];
      const dayStr = t.slice(0,10);
      const hr = parseInt(t.slice(11,13),10);
      const seg = (hr>=7 && hr<19) ? 'day':'night';
      if(!byDay[dayStr]) byDay[dayStr] = {day:[],night:[]};
      byDay[dayStr][seg].push(codes[i]);
    }
    const resDay=[], resNight=[];
    const keys = Object.keys(byDay).sort();
    keys.forEach(k=>{
      const o = byDay[k];
      resDay.push(mode(o.day.length?o.day:o.night));
      resNight.push(mode(o.night.length?o.night:o.day));
    });
    return {day:resDay, night:resNight};
  }

  /* ---- enhanced forecast (adds hourly weathercode) ---- */
  const origForecast = window.forecast;
  window.forecastFull = async function(lat,lon){
    const url=`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=weathercode&timezone=auto`;
    const r = await fetch(url);
    if(!r.ok) throw new Error("Errore meteo");
    return r.json();
  };
  // keep origForecast for daily data.

  /* ---- augment DAYS with day/night codes ---- */
  async function injectDayNight(){
    if(!window.DAYS || !window.CITIES) return;
    const results = await Promise.allSettled(window.CITIES.map(c=>window.forecastFull(c.lat,c.lon)));
    const successful = results.map(r=>r.status==='fulfilled'?r.value:null);
    const dayCount = window.DAYS.length;
    for(let idx=0; idx<window.CITIES.length; idx++){
      const fc = successful[idx];
      if(!fc) continue;
      const agg = aggregate(fc);
      for(let d=0; d<dayCount; d++){
        const p = window.DAYS[d]?.points[idx];
        if(!p) continue;
        p.code_day = agg.day[d] ?? p.code;
        p.code_night = agg.night[d] ?? p.code;
      }
    }
  }

  /* ---- wrap loadCalabria ---- */
  if(window.loadCalabria){
    const origLoad = window.loadCalabria;
    window.loadCalabria = async function(){
      await origLoad();
      try{
        await injectDayNight();
        if(typeof render === "function") render();
      }catch(e){ console.warn("agg day/night", e); }
    };
  }

  /* ---- wrap render to pick correct icon ---- */
  if(window.render){
    const origRender = window.render;
    window.render = function(){
      origRender();
      try{
        const data = window.DAYS?.[window.curDay];
        if(!data) return;
        const isNight = window.night ?? false;
        const markers = document.querySelectorAll('#mapArea .marker');
        markers.forEach((mk, i)=>{
          const p = data.points[i];
          if(!p) return;
          const code = isNight ? (p.code_night ?? p.code) : (p.code_day ?? p.code);
          if(code!==undefined){
            mk.innerHTML = buildIconHTML_NOEMOJI(code, isNight);
          }
        });
      }catch(e){ console.warn("render patch", e); }
    };
  }

})();
</script>
<!-- PATCH: day/night aggregation using hourly data (v2) -->
<script id="forecast-daynight-patch">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function mode(arr){
    const freq = {};
    let sel = null, max = 0;
    arr.forEach(v=>{
      freq[v] = (freq[v]||0)+1;
      if(freq[v] > max || (freq[v] === max && v > sel)){
        max = freq[v];
        sel = v;
      }
    });
    return sel;
  }

  window.forecast = async function(lat, lon){
    const url = `https://api.open-meteo.com/v1/forecast` +
      `?latitude=${lat}&longitude=${lon}` +
      `&hourly=weathercode,temperature_2m,relativehumidity_2m,uv_index,uv_index_clear_sky,wind_speed_10m,wind_gusts_10m,precipitation_probability` +
      `&daily=weathercode,temperature_2m_max,temperature_2m_min` +
      `&timezone=auto`;

    const r = await fetch(url);
    if(!r.ok) throw new Error("Errore meteo");
    const fc = await r.json();

    const days = fc.daily.time.length;
    fc.daily.weathercode_day = new Array(days).fill(null);
    fc.daily.weathercode_night = new Array(days).fill(null);

    for(let d=0; d<days; d++){
      const date = fc.daily.time[d];           // YYYY-MM-DD
      const dayCodes = [], nightCodes = [];

      for(let i=0; i<fc.hourly.time.length; i++){
        if(!fc.hourly.time[i].startsWith(date)) continue;
        const hr = +fc.hourly.time[i].slice(11, 13);
        const code = fc.hourly.weathercode[i];
        if(hr >= 6 && hr < 18) dayCodes.push(code);
        else nightCodes.push(code);
      }
      if(dayCodes.length)   fc.daily.weathercode_day[d]   = mode(dayCodes);
      if(nightCodes.length) fc.daily.weathercode_night[d] = mode(nightCodes);
    }
    return fc;
  };
})();
</script>
<!-- PATCH: usa weathercode_day/night per box (v4) -->
<script id="daynight-display-patch">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  // converte codice meteo in classe icona; personalizza se necessario
  const mapIcon = c => `w${c}`;

  function renderPartsStatic(fc){
    const boxes = document.querySelectorAll('.daily-box'); // adattare al tuo markup
    boxes.forEach((box, d)=>{
      const dayEl   = box.querySelector('.box-day');
      const nightEl = box.querySelector('.box-night');

      if(dayEl){
        const codeDay = fc.daily.weathercode_day?.[d] ?? fc.daily.weathercode?.[d];
        dayEl.dataset.code = codeDay;
        dayEl.className = `box-day ${mapIcon(codeDay)}`;
      }
      if(nightEl){
        const codeNight = fc.daily.weathercode_night?.[d] ?? fc.daily.weathercode?.[d];
        nightEl.dataset.code = codeNight;
        nightEl.className = `box-night ${mapIcon(codeNight)}`;
      }
    });
  }

  // wrapper su window.forecast
  const originalForecast = window.forecast;
  window.forecast = async function(lat, lon){
    const fc = await originalForecast(lat, lon);
    try{ renderPartsStatic(fc); }catch(e){ console.error(e); }
    return fc;
  };
})();
</script>
<!-- Auto night mode (17:00‚Äì23:59) ‚Äî waits 8‚ÄØs after page load and calls toggleTheme() -->
<script id="auto-night">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function maybeToggle(){
    try{
      const hr = new Date().getHours();
      if(hr >= 17 && hr <= 23 && typeof night !== 'undefined' && !night && typeof toggleTheme === 'function'){
        toggleTheme();   // toggleTheme handles night flag, body class & icon refresh
      }
    }catch(e){ console.error('auto-night error', e); }
  }
  window.addEventListener('load', () => setTimeout(maybeToggle, 8000)); // 8‚Äësecond grace period
})();
</script>
<!-- === Simple password gate for admin panel (added by ChatGPT) === -->
<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>

<script id="compact-empty-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function updateEmptyState(){
    const widget = document.getElementById('widget');
    const forecast = document.getElementById('forecast');
    if(!widget || !forecast) return;
    const hasData = forecast.rows && forecast.rows.length > 1; // header + at least one city
    if(hasData){
      widget.classList.remove('empty');
    }else{
      widget.classList.add('empty');
    }
  }
  /* Run once on DOM ready */
  
  window.addEventListener('resize', positionBackButton);
  window.addEventListener('scroll', positionBackButton, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', updateEmptyState, {once:true});
  }else{
    updateEmptyState();
  }
  /* Monkey‚Äëpatch render() so every refresh checks again */
  if(typeof render === 'function'){
    const _render = render;
    window.render = function(){
      _render.apply(this, arguments);
      updateEmptyState();
    };
  }
})();
</script>
<!-- PATCH: Map‚Äëaware precip correction v2 (2025‚Äë08‚Äë04) -->
<script id="map-rain-correction">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* ‚Äî‚Äî‚Äî Utility ‚Äî‚Äî‚Äî */
  const R = 6371;
  const toRad = x=>x*Math.PI/180;
  function haversine(a,b,c,d){
    const dLat = toRad(c-a), dLon = toRad(d-b);
    const h = Math.sin(dLat/2)**2 + Math.cos(toRad(a))*Math.cos(toRad(c))*Math.sin(dLon/2)**2;
    return 2*R*Math.atan2(Math.sqrt(h), Math.sqrt(1-h));
  }

  /* Wet codes & icons */
  const WET_CODES = [51,53,55,56,57,61,63,65,66,67,71,73,75,77,80,81,82,85,86,95,96,99];
  const WET_EMOJI_RX = /[üåßÔ∏èüå¶Ô∏èüå®Ô∏è‚õàÔ∏è]/;

  const isWetCode   = c=>WET_CODES.includes(Number(c));
  const isWetIcon   = icon=>typeof icon==='string' && WET_EMOJI_RX.test(icon);

  /* Fill missing lat/lon for points created via UI */
  function ensureLatLon(){
    if(!Array.isArray(window.CITIES)||!Array.isArray(window.DAYS)) return;
    window.DAYS.forEach(day=>{
      day.points.forEach(pt=>{
        if(pt.lat==null||pt.lon==null){
          const c=window.CITIES.find(k=>k.city===pt.city);
          if(c){ pt.lat=c.lat; pt.lon=c.lon; }
        }
      });
    });
  }

  /* Decide if precip suggested by map for given lat/lon & dayIdx */
  function mapSuggestPrecip(lat,lon,dayIdx){
    const day=window.DAYS?.[dayIdx]; if(!day) return false;
    let wet=0,dry=0;
    day.points.forEach(pt=>{
      if(pt.lat==null||pt.lon==null) return;
      const dist=haversine(lat,lon,pt.lat,pt.lon);
      if(dist>50) return;                         // 50¬†km radius
      const w=1/(dist+1);
      (isWetCode(pt.code)||isWetIcon(pt.icon)) ? wet+=w : dry+=w;
    });
    return wet>dry;
  }

  /* Heuristic to choose rain vs snow based on temp / snowfall */
  function pickPrecipCode(at, snow, temp){
    if(snow>0 || temp<=1) return 71;              // light snow
    return at>=12 && at<=18 ? 80 /*shower*/ : 63; // more likely afternoon shower else rain
  }

  /* Patch forecastDetailed once available */
  function patchFD(){
    if(!window.forecastDetailed || window.forecastDetailed._patched) return;
    const _orig=window.forecastDetailed;
    window.forecastDetailed = async function(lat,lon){
      const fc=await _orig(lat,lon);

      try{
        const hrs=fc.hourly.time.length;
        for(let h=0;h<hrs;h++){
          const ts=fc.hourly.time[h];
          const dIdx = Math.floor((new Date(ts).setHours(0,0,0,0)-Date.now())/864e5);
          const hour = +ts.slice(11,13);

          /* Raw precip info from Open‚ÄëMeteo */
          const precipMM = fc.hourly.precipitation?.[h] ?? 0;
          const precipProb = fc.hourly.precipitation_probability?.[h] ?? 0;
          const snowfallMM = fc.hourly.snowfall?.[h] ?? 0;
          const temp = fc.hourly.temperature_2m?.[h] ?? 99;

          const mapWet = mapSuggestPrecip(lat,lon,dIdx);
          const omWetByAmt = (precipMM>=0.1 || snowfallMM>=0.1);

          if((mapWet || omWetByAmt || (precipProb>=25 && mapWet!==false))
              && !isWetCode(fc.hourly.weathercode[h])){
            fc.hourly.weathercode[h] = pickPrecipCode(hour, snowfallMM, temp);
          }
        }

        /* Re‚Äësynthesize daily summaries */
        const days=fc.daily.time.length;
        for(let d=0;d<days;d++){
          const dayCodes=[], nightCodes=[];
          fc.hourly.time.forEach((t,idx)=>{
            if(!t.startsWith(fc.daily.time[d])) return;
            const hr=+t.slice(11,13);
            (hr>=6&&hr<18?dayCodes:nightCodes).push(fc.hourly.weathercode[idx]);
          });
          const mode=codes=>{
            const freq={};let best=codes[0],m=0;
            codes.forEach(c=>{freq[c]=(freq[c]||0)+1;if(freq[c]>m){m=freq[c];best=c;}});
            return best;
          };
          if(dayCodes.length)   fc.daily.weathercode_day[d]=mode(dayCodes);
          if(nightCodes.length) fc.daily.weathercode_night[d]=mode(nightCodes);
          fc.daily.weathercode[d]=mode(dayCodes.concat(nightCodes));
        }
      }catch(e){console.warn("map‚Äërain‚Äëcorr‚Äëv2 err",e);}

      return fc;
    };
    window.forecastDetailed._patched=true;
  }

  /* Ensure patching once DOM ready */
  if(document.readyState==="loading"){
    document.addEventListener("DOMContentLoaded", ()=>{ensureLatLon();patchFD();});
  }else{
    ensureLatLon();patchFD();
  }
})();
</script>
<!-- PATCH: DayPart summary severity fix (2025‚Äë08‚Äë04) -->
<script id="dayparts-summary-fix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* weight function for WMO weather codes */
  function codeWeight(c){
    c=Number(c);
    if(c>=95) return 200;          // Thunderstorm
    if([75,85,86].includes(c)) return 170; // heavy snow
    if([71,73,77].includes(c)) return 150; // snow
    if([65,67,82].includes(c)) return 140; // heavy rain
    if([61,63,80,81].includes(c)) return 120; // rain / shower
    if([51,53,55,56,57].includes(c)) return 100; // drizzle
    if([45,48].includes(c)) return 40;   // fog
    if(c>=1 && c<=3) return 20;    // clouds
    return 0;                      // clear || unknown
  }

  function renderDayPartsSeverity(fc){
    window.fc = fc;  // expose globally
    const dayPartsEl = document.getElementById('dayParts');
    if(!dayPartsEl||!fc||!fc.hourly||!fc.hourly.time) return;
    const now = Date.now();
    const parts=[
      {name:'Mattina', start:6, end:12},
      {name:'Pomeriggio', start:12, end:18},
      {name:'Sera', start:18, end:24},
      {name:'Notte', start:0, end:6}
    ];
    let html='<div class="card"><h3>Notte¬†‚Üí¬†Sera</h3><div class="parts">';
    parts.forEach(part=>{
      const rows=[];
      fc.hourly.time.forEach((t,idx)=>{
        const ts = Date.parse(t);
        // MODO: show past hours also
        // if(ts<now) return;
        const h = new Date(ts).getHours();
        if(part.start < part.end){
          if(h>=part.start && h<part.end) rows.push(idx);
        }else{ // Notte 0‚Äë6
          if(h>=part.start || h<part.end) rows.push(idx);
        }
      });
      if(!rows.length) return;
      // pick most severe code in rows
      let worstIdx = rows[0], worstW = -1;
      rows.forEach(i=>{
        const w = codeWeight(fc.hourly.weathercode[i]);
        if(w > worstW){ worstW = w; worstIdx = i; }
      });
      const isNight = fc.hourly.is_day && fc.hourly.is_day[worstIdx]===0;
      const icon = window.iconHTML_NOEMOJI?window.iconHTML_NOEMOJI(fc.hourly.weathercode[worstIdx], isNight):'';
      let tmin=Infinity, tmax=-Infinity;
      rows.forEach(i=>{
        const t = fc.hourly.temperature_2m[i];
        if(t<tmin) tmin=t;
        if(t>tmax) tmax=t;
      });
      
      // live clamp for current part
      try{
        const nowH = new Date(now).getHours();
        const inPart = (part.start<part.end) ? (nowH>=part.start && nowH<part.end) : (nowH>=part.start || nowH<part.end);
        if(typeof LIVE!=='undefined' && LIVE && Number.isFinite(LIVE.t) && inPart){
          tmax = Math.max(tmax, LIVE.t);
        }
      }catch(e){}
html += `
      <details class="part">
        <summary><h4>${part.name}</h4>${icon}<div class="temp">${Math.round(tmax)}¬∞</div><div class="min">${Math.round(tmin)}¬∞</div></summary>
        <div class="detail"></div>
      </details>`;
    });
    html+='</div></div>';
    dayPartsEl.innerHTML = html;

    /* Attach toggle listeners for details (adapted from original) */
    const ranges=[[6,12],[12,18],[18,24],[0,6]];
    dayPartsEl.querySelectorAll('.part').forEach((partEl, idx)=>{
      partEl.addEventListener('toggle', function(){
        if(!this.open) return;
        const detailBox = this.querySelector('.detail');
        if(detailBox.dataset.filled) return;
        const range = ranges[idx];
        const rows=[];
        fc.hourly.time.forEach((t,i)=>{
          const ts=Date.parse(t);
          // MODO: show past hours also
        // if(ts<now) return;
          const h=new Date(ts).getHours();
          if(range[0] < range[1]){
            if(h>=range[0]&&h<range[1]) rows.push(i);
          }else{
            if(h>=range[0]||h<range[1]) rows.push(i);
          }
        });
        if(typeof window.renderHourly==='function'){
          const sub = JSON.parse(JSON.stringify(fc));
          ['time','weathercode','temperature_2m','relativehumidity_2m','precipitation','precipitation_probability','wind_speed_10m','is_day'].forEach(key=>{
            if(sub.hourly&&sub.hourly[key]) sub.hourly[key] = rows.map(i=>fc.hourly[key][i]);
          });
          detailBox.innerHTML = window.renderHourly(sub,0);
        }
        detailBox.dataset.filled='1';
        setTimeout(()=>{ this.scrollIntoView({behavior:'smooth',block:'start'}); },50);
      });
    });
  }

  if(window.renderDayParts && !window.renderDayParts._patched){
    window.renderDayParts = function(fc){
      renderDayPartsSeverity(fc);
    };
    window.renderDayParts._patched=true;
  }else if(!window.renderDayParts){
    window.renderDayParts = function(fc){
      renderDayPartsSeverity(fc);
    };
  }
})();
</script>
<!-- === HOTFIX 2025‚Äë08‚Äë04: dayParts sync & window.fc preservation === -->
<script id="dayparts-sync-hotfix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  // Wrap current renderDayParts to always expose fc globally,
  // so the detail listeners can pick the correct day's data.
  function apply(){
    if(typeof window.renderDayParts!=='function') return;
    if(window.renderDayParts._synced) return;          // only once
    const orig = window.renderDayParts;
    window.renderDayParts = function(fc){
      try{ window.fc = fc; }catch(e){}
      return orig(fc);
    };
    window.renderDayParts._synced = true;
  }

  // Initial attempt
  apply();
  // In case other patches load later and overwrite again‚Ä¶
  // keep trying for ~3‚ÄØs after DOM ready
  let tries = 0;
  const timer = setInterval(()=>{
    apply();
    if(++tries > 30) clearInterval(timer);
  }, 100); // every 100‚ÄØms
})();
</script>
<!-- === HOTFIX 2025‚Äë08‚Äë04¬†b: keep global fc = full dataset === -->
<script id="dayparts-sync-hotfix2">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function isFull(fc){
    return fc && fc.daily && Array.isArray(fc.daily.time) && fc.daily.time.length > 1;
  }
  function apply(){
    if(typeof window.renderDayParts!=='function') return;
    if(window.renderDayParts._synced2) return;
    const orig = window.renderDayParts;
    window.renderDayParts = function(fc){
      const prevFull = window.fc;
      const res = orig(fc);
      if(isFull(fc)){
        window.fc = fc;                 // store full forecast
      }else{
        window.fc = prevFull || window.fc; // restore
      }
      return res;
    };
    window.renderDayParts._synced2 = true;
  }
  apply();
  let tries=0;
  const t = setInterval(()=>{ apply(); if(++tries>30) clearInterval(t); }, 100);
})();
</script>
<!-- === HOTFIX 2025‚Äë08‚Äë04¬†c: icone corrette Giorno/Notte per Mattina‚ÄëSera === -->
<script id="dayparts-icon-fix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function between(h,start,end){ return start<end ? (h>=start && h<end) : (h>=start || h<end); }
  const partRanges = [
    {start:6,end:12},   // Mattina
    {start:12,end:18},  // Pomeriggio
    {start:18,end:24},  // Sera
    {start:0,end:6}     // Notte
  ];

  function fixIcons(fc){
    if(!fc||!fc.hourly||!fc.hourly.is_day) return;
    const parts = document.querySelectorAll('#dayParts .parts > details.part');
    if(!parts.length) return;

    parts.forEach((det, idx)=>{
      const {start,end} = partRanges[idx] || {};
      if(start===undefined) return;

      const rows = [];
      for(let i=0;i<fc.hourly.time.length;i++){
        const h = new Date(fc.hourly.time[i]).getHours();
        if(between(h,start,end)) rows.push(i);
      }
      if(!rows.length) return;

      const dayCnt = rows.reduce((s,i)=> s + (fc.hourly.is_day[i] ? 1:0), 0);
      const isNight = dayCnt < rows.length/2;

      const code = fc.hourly.weathercode[rows[0]];
      if(typeof window.iconHTML_NOEMOJI!=='function') return;
      const html = window.iconHTML_NOEMOJI(code, isNight);

      const summary = det.querySelector('summary');
      if(summary){
        const iconEl = summary.querySelector('svg, img, i');
        if(iconEl){
          iconEl.outerHTML = html;
        }else{
          summary.insertAdjacentHTML('beforeend', html);
        }
      }
    });
  }

  function apply(){
    if(typeof window.renderDayParts!=='function') return;
    if(window.renderDayParts._synced3) return;
    const orig = window.renderDayParts;
    window.renderDayParts = function(fc){
      const res = orig(fc);
      try{ fixIcons(fc);}catch(e){}
      return res;
    };
    window.renderDayParts._synced3 = true;
  }
  apply();
  let t=0, timer=setInterval(()=>{ apply(); if(++t>30) clearInterval(timer); },100);
})();
</script>
<!-- === HOTFIX 2025‚Äë08‚Äë04 d: trioraria & icona sera === -->
<script id="trihourly-fix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* severity weight (same mapping used altrove) */
  function codeWeight(c){
    c=Number(c);
    if(c>=95) return 200;
    if([75,85,86].includes(c)) return 170;
    if([71,73,77].includes(c)) return 150;
    if([65,67,82].includes(c)) return 140;
    if([61,63,80,81].includes(c)) return 120;
    if([51,53,55,56,57].includes(c)) return 100;
    if([45,48].includes(c)) return 40;
    if(c>=1 && c<=3) return 20;
    return 0;
  }

  /* ---------- override renderHourly -> tri‚Äëhourly ---------- */
  if(typeof window.renderHourly==='function' && !window.renderHourly._tri){
    window.renderHourly_RAW = window.renderHourly;
    window.renderHourly = function(data, idx=0){
      const rows=[];
      const len = data.hourly.time.length;
      const groups = [];
      for(let i=idx;i<len;i+=3){
        groups.push({start:i,end:Math.min(i+2,len-1)});
        if(groups.length>=24/3) break; // max 8 tri‚Äëhour groups
      }
      const LIVE = window.LIVE;

      groups.forEach(g=>{
        const ids=[];
        for(let j=g.start;j<=g.end;j++) ids.push(j);
        const startH = data.hourly.time[g.start].slice(11,13);
        const endH = (()=>{
          const d=new Date(data.hourly.time[g.end]);
          d.setHours(d.getHours()+1);
          return ('0'+d.getHours()).slice(-2);
        })();
        /* Dominant condition */
        let worst= -1, worstIdx=g.start;
        ids.forEach(i=>{
          const w = codeWeight(data.hourly.weathercode[i]);
          if(w > worst){ worst = w; worstIdx = i; }
        });
        const isNight = data.hourly.is_day && data.hourly.is_day[worstIdx]===0;
        const icon = window.iconHTML_NOEMOJI?window.iconHTML_NOEMOJI(data.hourly.weathercode[worstIdx], isNight):'';

        /* Aggregates */
        const avg = (arr)=>arr.reduce((a,v)=>a+v,0)/arr.length;
        const sum = (arr)=>arr.reduce((a,v)=>a+v,0);
        const max = (arr)=>arr.reduce((a,v)=>v>a?v:a, -Infinity);

        const tempOffset = (LIVE && !isNaN(LIVE.t)) ? (LIVE.t - data.hourly.temperature_2m[idx]) : 0;
        const urOffset   = (LIVE && !isNaN(LIVE.ur)) ? (LIVE.ur - data.hourly.relativehumidity_2m[idx]) : 0;

        const temp = avg(ids.map(i=>data.hourly.temperature_2m[i])) + tempOffset;
        const ur   = avg(ids.map(i=>data.hourly.relativehumidity_2m[i])) + urOffset;
        const rain = sum(ids.map(i=>data.hourly.precipitation[i]));
        const prob = max(ids.map(i=>data.hourly.precipitation_probability[i]));
        const wind = avg(ids.map(i=>data.hourly.wind_speed_10m[i]));

        rows.push(
          `<tr>
             <td style="padding:12px 10px;">${startH}‚Äë${endH}</td>
             <td style="padding:12px 10px; width:36px;">${icon}</td>
             <td style="padding:12px 10px;">${wmoDesc(data.hourly.weathercode[worstIdx])}</td>
             <td style="padding:12px 10px;">${fmt(temp,"¬∞")}</td>
             <td style="padding:12px 10px;">${fmt(ur,"%")}</td>
             <td style="padding:12px 10px;">${fmt(rain," mm",1)}</td>
             <td style="padding:12px 10px;">${fmt(prob,"%")}</td>
             <td style="padding:12px 10px;">${fmt(wind," km/h")}</td>
           </tr>`
        );
      });

      return `
        <div class="card hourly-card" style="border-radius:14px; box-shadow:0 10px 28px rgba(0,0,0,.25); overflow:hidden;">
          <h3 style="margin:0; padding:14px 16px; position:sticky; top:0; background:rgba(255,255,255,.14); z-index:3;">Prossime 24¬†h (¬≥h)</h3>
          <div class="scroll-x" style="overflow-x:auto; -webkit-overflow-scrolling:touch; padding:0 4px;">
            <table class="hourly" style="border-collapse:separate; border-spacing:0; width:max-content; min-width:560px;">
              <thead>
                <tr>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Ora</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);"></th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Cond.</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">T¬∞</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">UR</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Pioggia</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Prob%</th>
                  <th style="padding:10px 12px; background:rgba(255,255,255,.16);">Vento</th>
                </tr>
              </thead>
              <tbody>\${rows.join("")}</tbody>
            </table>
          </div>
        </div>`;
    };
    window.renderHourly._tri = true;
  }

  /* ---------- forza icona notturna per ‚ÄòSera‚Äô ---------- */
  function fixEveningIcons(){
    document.querySelectorAll('#dayParts .part').forEach((partEl,idx)=>{
      if(idx!==2) return; // solo 'Sera'
      const sum = partEl.querySelector('summary');
      if(!sum) return;
      const ico = sum.querySelector('svg,img,i');
      if(!ico) return;
      /* ricava weathercode dall'attributo data-digit se c'√®, altrimenti lascia */
      const wcAttr = ico.dataset?.wc || null;
      const wc = wcAttr ? Number(wcAttr) : null;
      const html = window.iconHTML_NOEMOJI ? window.iconHTML_NOEMOJI(wc || 0, true) : '';
      ico.outerHTML = html;
    });
  }
  document.addEventListener('DOMContentLoaded', ()=>{ setTimeout(fixEveningIcons,200); });
})();
</script>
<!-- === HOTFIX 2025‚Äë08‚Äë04¬†d: night icon for ‚ÄúSera‚Äù + tabella trioraria === -->
<script id="evening-night-trio-hotfix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* ---------- icone ---------- */
  function fixEveningIcons(fc){
    const parts=document.querySelectorAll('#dayParts .parts > details.part');
    if(!parts.length) return;
    parts.forEach((det,i)=>{
      if(i!==2) return;                       // solo "Sera"
      const sum=det.querySelector('summary');
      if(!sum||!window.iconHTML_NOEMOJI) return;
      const code=(fc?.hourly?.weathercode||[0])[0];
      const html=iconHTML_NOEMOJI(code,true); // forza isNight=true
      const ico=sum.querySelector('svg,img,i');
      ico? ico.outerHTML=html : sum.insertAdjacentHTML('beforeend',html);
    });
  }

  /* ---------- tabella trioraria ---------- */
  function patchRenderHourly(){
    if(typeof window.renderHourly!=='function'||window.renderHourly._tri) return;
    const orig=window.renderHourly;
    window.renderHourly=function(data,idx){
      const h=data.hourly,len=h.time.length,rows=[];
      for(let i=idx;i<idx+24&&i<len;i+=3){
        const idxs=[i,i+1,i+2].filter(j=>j<len);
        const night=idxs.reduce((n,j)=>n+(h.is_day? (h.is_day[j]===0):0),0)>idxs.length/2;
        const code=idxs.reduce((best,j)=>h.precipitation&&h.precipitation[j]>(h.precipitation[best]||0)?j:best,idxs[0]);
        const sumPrec=idxs.reduce((s,j)=>s+(h.precipitation? h.precipitation[j]:0),0);
        const avg=(arr)=>Math.round(idxs.reduce((s,j)=>s+arr[j],0)/idxs.length*10)/10;
        rows.push(`<tr>
<td style="padding:12px 10px;">${h.time[i].slice(11,16)}-${h.time[Math.min(i+2,len-1)].slice(11,16)}</td>
<td style="padding:12px 10px;width:36px;">${iconHTML_NOEMOJI(h.weathercode[code],night)}</td>
<td style="padding:12px 10px;">${wmoDesc(h.weathercode[code])}</td>
<td style="padding:12px 10px;">${fmt(avg(h.temperature_2m),"¬∞")}</td>
<td style="padding:12px 10px;">${fmt(avg(h.relativehumidity_2m),"%")}</td>
<td style="padding:12px 10px;">${fmt(sumPrec," mm",1)}</td>
<td style="padding:12px 10px;">${fmt(Math.max(...idxs.map(j=>h.precipitation_probability[j])),"%")}</td>
<td style="padding:12px 10px;">${fmt(avg(h.wind_speed_10m)," km/h")}</td>
</tr>`);
      }
      const hdr=document.querySelector('#hourlyCardHeader .card-title');
      if(hdr&&!hdr.textContent.includes('¬≥h')) hdr.textContent=hdr.textContent.replace('Prossime 24 h','Prossime 24 h (¬≥h)');
      return '<table class="hourly-table">'+rows.join('')+'</table>';
    };
    window.renderHourly._tri=true;
  }

  /* ---------- orchestrazione ---------- */
  function apply(){
    patchRenderHourly();
    if(window.fc) fixEveningIcons(window.fc);
  }
  apply();
  let t=0;const timer=setInterval(()=>{apply();if(++t>100)clearInterval(timer);},100);
})();
</script>
<div aria-modal="true" class="triModal hidden" id="triModal" role="dialog">
<div class="box" id="triModalBox">
<button aria-label="Chiudi" id="triModalClose">‚úï</button>
</div>
</div>
<!-- end tri‚Äëhourly modal -->
<script id="tri-modal-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const mq = window.matchMedia('(max-width:700px)');
  const isMobile = () => mq.matches;

  function openModal(innerHTML){
    const modal=document.getElementById('triModal');
    const box=document.getElementById('triModalBox');
    box.querySelectorAll('.inject').forEach(n=>n.remove());
    const wrap=document.createElement('div');
    wrap.className='inject';
    wrap.innerHTML=innerHTML;
    box.appendChild(wrap);
    modal.classList.remove('hidden');
    document.body.style.overflow='hidden';
  }
  function closeModal(){
    document.getElementById('triModal').classList.add('hidden');
    document.body.style.overflow='';
  }

  // intercetta click sui summary dei pannelli
  document.addEventListener('click', function(e){
    const summary = e.target.closest('details.part > summary');
    if(!summary || !isMobile()) return;

    e.preventDefault();
    const part = summary.parentElement;

    // forza open per far popolare .detail
    part.open = true;

    // leggero delay per dare tempo allo script originale
    setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

      const detail = part.querySelector('.detail');
      const html = (detail && detail.innerHTML.trim()) ? detail.innerHTML
        : '<p style="padding:1rem;text-align:center">‚Äî dati non disponibili ‚Äî</p>';
      openModal(html);
      part.open = false;
    }, 60);
  }, true);

  // chiusura
  document.addEventListener('click', function(e){
    if(e.target.id==='triModal' || e.target.id==='triModalClose') closeModal();
  });
})();
</script>
<!-- PATCH 2025‚Äë08‚Äë05 final: ensure day‚Äëparts icons use worst phenomenon -->
<script id="dayparts-icon-severity-2025-08-05">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function codeWeight(c){
    c=Number(c);
    if(c>=95) return 200;
    if([75,85,86].includes(c)) return 170;
    if([71,73,77].includes(c)) return 150;
    if([65,67,82].includes(c)) return 140;
    if([61,63,80,81].includes(c)) return 120;
    if([51,53,55,56,57].includes(c)) return 100;
    if([45,48].includes(c)) return 40;
    if(c>=1 && c<=3) return 20;
    return 0;
  }

  function recomputeIcons(fc){
    if(!fc||!fc.hourly||!fc.hourly.time) return;
    const parts=[{start:6,end:12},{start:12,end:18},{start:18,end:24},{start:0,end:6}];
    const summaries=document.querySelectorAll('#dayParts summary');
    summaries.forEach((sum,idx)=>{
      if(idx>=parts.length) return;
      const part=parts[idx];
      const rows=[];
      fc.hourly.time.forEach((t,i)=>{
        const h=new Date(t).getHours();
        if(part.start<part.end){
          if(h>=part.start&&h<part.end) rows.push(i);
        }else{
          if(h>=part.start||h<part.end) rows.push(i);
        }
      });
      if(!rows.length) return;
      let worstIdx=rows[0], worstW=-1;
      rows.forEach(i=>{
        const w=codeWeight(fc.hourly.weathercode[i]);
        if(w>worstW){worstW=w; worstIdx=i;}
      });
      const isNight=fc.hourly.is_day&&fc.hourly.is_day[worstIdx]===0;
      const html=window.iconHTML_NOEMOJI?window.iconHTML_NOEMOJI(fc.hourly.weathercode[worstIdx],isNight):'';
      if(html){
        const curIcon=sum.querySelector('svg,img');
        if(curIcon) curIcon.outerHTML=html;
        const phen=sum.querySelector('.phen');
        if(phen && typeof window.wmoDesc==='function') phen.textContent = window.wmoDesc(fc.hourly.weathercode[worstIdx]);
      }
    });
  }

  function patch(){
    if(typeof window.renderDayParts!=='function') return;
    if(window.renderDayParts._sev2) return;
    const orig=window.renderDayParts;
    window.renderDayParts=function(fc){
      const res = orig(fc);
      try{ recomputeIcons(fc||window.fc); }catch(e){}
      return res;
    };
    window.renderDayParts._sev2=true;
    // run once in case first render already happened
    setTimeout(()=>{ try{ recomputeIcons(window.fc); }catch(e){} },500);
  }

  document.addEventListener('DOMContentLoaded',()=>{
    patch();
    // in case other scripts overwrite renderDayParts later
    let attempts=0;
    const timer=setInterval(()=>{
      patch();
      if(++attempts>30) clearInterval(timer);
    },100);
  });
})();
</script>
<!-- PATCH 2025‚Äë08‚Äë06: 7‚Äëday strip worst‚Äëphenomenon icon -->
<script id="seven-day-severity-fix">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function codeWeight(c){
    c = Number(c);
    if(c >= 95) return 200;
    if([75,85,86].includes(c)) return 170;
    if([71,73,77].includes(c)) return 150;
    if([65,67,82].includes(c)) return 140;
    if([61,63,80,81].includes(c)) return 120;
    if([51,53,55,56,57].includes(c)) return 100;
    if([45,48].includes(c)) return 40;
    if(c >= 1 && c <= 3) return 20;
    return 0;
  }

  if(typeof window.renderDaily === 'function' && !window.renderDaily._sev){
    const orig = window.renderDaily;
    window.renderDaily = function(fc){
      try {
        const dayCnt = (fc && fc.daily && fc.daily.time ? fc.daily.time.length : 0);
        const worstCodes = new Array(dayCnt).fill(0);
        for(let d = 0; d < dayCnt; d++) {
          let worstW = -1, worstC = fc.daily.weathercode[d];
          for(let i = 0; i < fc.hourly.time.length; i++) {
            if(fc.hourly.time[i].startsWith(fc.daily.time[d])) {
              const w = codeWeight(fc.hourly.weathercode[i]);
              if(w > worstW) { worstW = w; worstC = fc.hourly.weathercode[i]; }
            }
          }
          worstCodes[d] = worstC;
        }
        const backup = fc.daily.weathercode.slice();
        fc.daily.weathercode = worstCodes;
        const html = orig(fc);
        fc.daily.weathercode = backup;
        return html;
      } catch(e) {
        console.warn('7‚Äëday severity patch error', e);
        return orig(fc);
      }
    };
    window.renderDaily._sev = true;
  }
})();
</script>
<script id="map-auto-sync-patch-v5">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  // === ALWAYS-ON map ‚Üí automatiche sync (v5) ===

  // Normalize strings (Italian accents ‚Üí ascii)
  function norm(s){
    try{
      s = (""+s).toLowerCase().trim();
      s = s.normalize ? s.normalize('NFD').replace(/[\u0300-\u036f]/g,'') : s;
      s = s.replace(/[‚Äô']/g,"'").replace(/\s+/g,' ');
      return s;
    }catch(e){ return (s||""); }
  }
  function baseFromQuery(q){
    if(!q) return "";
    let s = norm(q);
    if(s.includes(',')) s = s.split(',')[0];
    if(s.includes('-')) s = s.split('-')[0];
    return s.trim();
  }
  function uidForQuery(q){
    try{
      const name = baseFromQuery(q);
      if(window.uidForCity) return window.uidForCity(name);
      return 'city:'+name;
    }catch(e){ return ""; }
  }
  function uidFromDaysByName(q){
    try{
      const name = baseFromQuery(q);
      const day = (Array.isArray(window.DAYS) && window.DAYS.length)
        ? window.DAYS[(typeof window.curDay==='number'&&isFinite(window.curDay))? window.curDay : 0]
        : null;
      if(!day || !Array.isArray(day.points)) return "";
      // exact normalized match first
      for(const p of day.points){
        if(norm(p.city)===name) return p.uid || (window.uidForCity? window.uidForCity(p.city): 'city:'+norm(p.city));
      }
      // startsWith fallback
      for(const p of day.points){
        if(norm(p.city).startsWith(name)) return p.uid || (window.uidForCity? window.uidForCity(p.city): 'city:'+norm(p.city));
      }
      return "";
    }catch(e){ return ""; }
  }
  function uidNearestToFC(fc){
    try{
      const day = (Array.isArray(window.DAYS) && window.DAYS.length)
        ? window.DAYS[(typeof window.curDay==='number'&&isFinite(window.curDay))? window.curDay : 0]
        : null;
      if(!day || !Array.isArray(day.points) || !fc) return "";
      let best=null, bestd=1e18;
      for(const p of day.points){
        if(typeof p.lat!=='number'||typeof p.lon!=='number') continue;
        const d=(p.lat-fc.latitude)*(p.lat-fc.latitude)+(p.lon-fc.longitude)*(p.lon-fc.longitude);
        if(d<bestd){ bestd=d; best=p; }
      }
      return best ? (best.uid || (window.uidForCity? window.uidForCity(best.city): 'city:'+norm(best.city))) : "";
    }catch(e){ return ""; }
  }

  function dateKeyFromCurDay(){
    const d=new Date(); d.setHours(0,0,0,0);
    try{
      const off = (typeof window.curDay==='number' && isFinite(window.curDay)) ? window.curDay : 0;
      d.setDate(d.getDate()+off);
    }catch(e){}
    return d.toISOString().slice(0,10);
  }

  function getIconOverride(dateKey, uid, seg){
    try{
      if(typeof window.getDailyIconOverrideV3==='function'){
        const o=window.getDailyIconOverrideV3(dateKey, uid, seg);
        return (o && o.icon) ? o.icon : null;
      }
    }catch(e){}
    return null;
  }

  function macroFromIcon(iconFile){ if(!iconFile) return null; const s = (""+iconFile).toLowerCase();
    if(s.includes('tempor')) return 'thunder';
    if(s.includes('piogg') || s.includes('rovesci') || s.includes('piovaschi') || s.includes('rain')) return 'rain';
    if(s.includes('neve') || s.includes('snow')) return 'snow';
    if(s.includes('nebbia') || s.includes('foschia') || s.includes('mist') || s.includes('fog')) return 'fog';
    if(s.includes('nuvol')) return s.includes('parz')||s.includes('poco') ? 'partly' : 'cloudy';
    if(s.includes('sereno') || s.includes('clear') || s.includes('sun')) return 'clear';
    return 'cloudy';
  }
  function inferWMOFromIcon(iconFile, isNight){ if(!iconFile) return null; const s=(""+iconFile).toLowerCase();
    if(s.includes('tempor') || s.includes('thunder')) return 95;
    if(s.includes('moderata')) return 63;
    if(s.includes('debole')) return 61;
    if(s.includes('piovaschi') || s.includes('rovesci')) return 80;
    if(s.includes('pioggia') || s.includes('rain')) return 61;
    if(s.includes('neve') || s.includes('snow')) return 71;
    if(s.includes('ghiaccio') || s.includes('grandine')) return 67;
    if(s.includes('nebbia') || s.includes('foschia') || s.includes('mist') || s.includes('fog')) return 45;
    if(s.includes('nuvoloso') || s.includes('cloud')) return s.includes('parz')||s.includes('poco') ? 2 : 3;
    if(s.includes('sereno') || s.includes('clear') || s.includes('sun')) return 0;
    return 2;
  }

  function pickBestHourInWindow(fc, start, end, segment, want){
    let best={i:-1,score:-1e12};
    for(let i=start;i<end && i<fc.hourly.time.length;i++){
      const isSeg = (segment==='night') ? (fc.hourly.is_day && fc.hourly.is_day[i]===0)
                                        : (fc.hourly.is_day && fc.hourly.is_day[i]===1);
      if(!isSeg) continue;
      const mm   = Number((fc.hourly.precipitation||[])[i] ?? 0);
      const pr   = Number((fc.hourly.precipitation_probability||[])[i] ?? 0);
      const ur   = Number((fc.hourly.relativehumidity_2m||[])[i] ?? 0);
      const t    = Number((fc.hourly.temperature_2m||[])[i] ?? 9999);
      const wind = Number((fc.hourly.wind_speed_10m||[])[i] ?? 0);
      let score=-1e6;
      switch(want){
        case 'thunder': score=(mm*1000)+(pr*8)+(wind*0.5); break;
        case 'rain': score=(mm*1000)+(pr*10); break;
        case 'snow': score=((t<=1.2?5000:-5000))+(mm*1000)+(100-Math.abs(t-0)); break;
        case 'fog': score=(ur*8)-(mm*300)-(wind*5)+(100-(pr||0)); break;
        case 'cloudy': score=(pr*6)+(ur*3)+(mm*50); break;
        case 'partly': score=(100-Math.abs(ur-60))+(100-(pr||0))-(mm*100); break;
        default: score=(100-(pr||0))-(mm*200)-(ur*0.5);
      }
      if(score>best.score) best={i,score};
    }
    if(best.i<0) return null;
    if(want==='thunder'){ const mm=Number((fc.hourly.precipitation||[])[best.i] ?? 0); const pr=Number((fc.hourly.precipitation_probability||[])[best.i] ?? 0); if(mm<=0 && pr<20) return null; }
    if(want==='snow'){ const t=Number((fc.hourly.temperature_2m||[])[best.i] ?? 9999); if(!(t<=1.2)) return null; }
    return best.i;
  }

  function computeOverrides(fc, idx, uid){
    const out={};
    try{
      const key = dateKeyFromCurDay();
      const dayIcon   = getIconOverride(key, uid, 'day');
      const nightIcon = getIconOverride(key, uid, 'night');
      if(!dayIcon && !nightIcon) return out;
      const endIdx=Math.min(idx+24, fc.hourly.time.length);
      if(dayIcon){ const want=macroFromIcon(dayIcon); const i=pickBestHourInWindow(fc, idx, endIdx, 'day', want); if(i!=null){ const code=inferWMOFromIcon(dayIcon,false); if(code!=null) out[i]=code; } }
      if(nightIcon){ const want=macroFromIcon(nightIcon); const i=pickBestHourInWindow(fc, idx, endIdx, 'night', want); if(i!=null){ const code=inferWMOFromIcon(nightIcon,true); if(code!=null) out[i]=code; } }
    }catch(e){}
    return out;
  }

  function applyOverrides(fc, idx, uid){
    try{
      if(!fc || !fc.hourly) return fc;
      const map = computeOverrides(fc, idx, uid);
      if(!Object.keys(map).length) return fc;
      const clone = JSON.parse(JSON.stringify(fc));
      for(const k in map){
        const i = +k;
        if(i>=0 && i<clone.hourly.weathercode.length){
          clone.hourly.weathercode[i] = map[k];
        }
      }
      return clone;
    }catch(e){ return fc; }
  }

  function autoIdx(fc){
    const now=Date.now();
    let __mlgIdx4 = 0;
    try{
      idx = fc.hourly.time.findIndex(t=>Date.parse(t)>=now-1800000);
      if(idx<0) idx = Math.max(0, fc.hourly.time.length-24);
    }catch(e){ idx = 0; }
    return idx;
  }

  function deriveUID(q, fc){
    let uid = uidForQuery(q);
    const viaDays = uidFromDaysByName(q);
    if(viaDays) uid = viaDays;
    if(!uid) uid = uidNearestToFC(fc) || uid;
    return uid || "";
  }

  // --- Wrap save/clear to auto-rerender detail panels ---
  (function wrapOverrideFns(){
    try{
      const _save = window.saveDailyIconOverrideV3;
      if(typeof _save==='function' && !_save.__wrap){
        window.saveDailyIconOverrideV3 = function(k,u,s,obj){
          const r = _save.apply(this, arguments);
          try{ document.dispatchEvent(new CustomEvent('forceHourlyRerender')); }catch(e){}
          return r;
        };
        window.saveDailyIconOverrideV3.__wrap = true;
      }
      const _clear = window.clearDailyIconOverrideV3;
      if(typeof _clear==='function' && !_clear.__wrap){
        window.clearDailyIconOverrideV3 = function(k,u,s){
          const r = _clear.apply(this, arguments);
          try{ document.dispatchEvent(new CustomEvent('forceHourlyRerender')); }catch(e){}
          return r;
        };
        window.clearDailyIconOverrideV3.__wrap = true;
      }
    }catch(e){}
  })();

  // --- Monkey patches ---
  (function patchRenderHourly(){
    if(window.__renderHourlyPatchedV5) return;
    if(typeof window.renderHourly!=='function') return;
    const orig = window.renderHourly;
    window.renderHourly = function(fc, idx){
      try{
        const uid = window.currentUID || deriveUID(window.lastQuery||"", fc);
        const patched = applyOverrides(fc, typeof idx==='number'? idx : autoIdx(fc), uid);
        return orig(patched, idx);
      }catch(e){ return orig(fc, idx); }
    };
    window.__renderHourlyPatchedV5 = true;
  })();

  (function patchRun(){
    if(window.__runPatchedV5 || typeof window.run!=='function') return;
    const orig = window.run;
    window.run = async function(q){
      const res = await orig(q);
      try{
        window.lastQuery = q;
        window.currentUID = deriveUID(q, window.fc) || window.currentUID || "";
        // force day parts if present
        if(typeof window.renderDayParts==='function'){
          const sub = (typeof window.subForecastByDay==='function') ? window.subForecastByDay(window.fc, 0) : window.fc;
          window.renderDayParts(sub);
          try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
        }
      }catch(e){}
      return res;
    };
    window.__runPatchedV5 = true;
  })();

  // manual rerender listener
  document.addEventListener('forceHourlyRerender', function(){
    try{
      if(typeof window.renderHourly==='function' && window.fc){
        const idx = autoIdx(window.fc);
        const hEl = document.getElementById('hourly');
        if(hEl) hEl.innerHTML = window.renderHourly(window.fc, idx);
      }
      if(typeof window.renderDayParts==='function' && window.fc){
        const sub = (typeof window.subForecastByDay==='function') ? window.subForecastByDay(window.fc, 0) : window.fc;
        window.renderDayParts(sub);
          try{ document.dispatchEvent(new CustomEvent('mlg:dayparts-rendered')); }catch(e){}
      }
    }catch(e){}
  }, false);
})();
</script>
<script id="restore-auto-v6">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function dateKeyFromCurDay(){
    const d=new Date(); d.setHours(0,0,0,0);
    try{
      const off=(typeof window.curDay==='number' && isFinite(window.curDay))? window.curDay:0;
      d.setDate(d.getDate()+off);
    }catch(e){}
    return d.toISOString().slice(0,10);
  }
  function findPointByCity(city){
    try{
      const day = Array.isArray(window.DAYS)? window.DAYS[ (typeof window.curDay==='number'&&isFinite(window.curDay))? window.curDay:0 ] : null;
      if(!day || !Array.isArray(day.points)) return null;
      return day.points.find(p=> String(p.city||'')===String(city||'')) || null;
    }catch(e){ return null; }
  }
  function toast(msg){
    try{
      const t=document.getElementById('toast'); if(!t){ alert(msg); return; }
      t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1700);
    }catch(e){ alert(msg); }
  }
  function handleRestore(){
    try{
      const sel = document.getElementById('selCity');
      const city = sel ? (sel.value || (sel.options[sel.selectedIndex] && sel.options[sel.selectedIndex].text)) : "";
      if(!city){ return toast('Scegli prima una citt√† nel pannello'); }
      const pt = findPointByCity(city);
      if(!pt){ return toast('Nessun punto trovato per '+city); }
      const uid = pt.uid || (window.uidForCity? window.uidForCity(pt.city): 'city:'+String(pt.city||'').toLowerCase());
      const key = dateKeyFromCurDay();
      if(typeof window.clearDailyIconOverrideV3==='function'){
        window.clearDailyIconOverrideV3(key, uid, 'day');
        window.clearDailyIconOverrideV3(key, uid, 'night');
      }
      // optional: clear icon field if present
      if(pt && typeof pt==='object' && 'icon' in pt){ try{ delete pt.icon; }catch(_e){} }
      if(typeof window.saveState==='function') window.saveState();
      if(typeof window.render==='function') window.render();
      document.dispatchEvent(new CustomEvent('forceHourlyRerender'));
      toast('Ripristinata icona automatica per '+city);
    }catch(err){
      alert('Errore nel ripristino automatico: '+(err && err.message ? err.message : err));
    }
  }
  document.addEventListener('DOMContentLoaded', function(){
    const btn = document.getElementById('btnRestoreAuto');
    if(btn){ btn.addEventListener('click', handleRestore, false); }
  });
})();
</script>
<script>
/* === Auto-resize messenger for Wix iframe (invia l'altezza reale al parent) === */
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__HEIGHT_MESSENGER_INSTALLED__) return;
  window.__HEIGHT_MESSENGER_INSTALLED__ = true;

  function sendHeight(){
    try {
      var h = Math.max(
        document.body.scrollHeight,
        document.documentElement.scrollHeight
      );
      parent.postMessage({ type:'HEIGHT', value:h }, '*');
    } catch(e){}
  }

  // invia all'avvio, al resize e quando cambia il layout
  window.addEventListener('load', sendHeight);
  window.addEventListener('resize', sendHeight);

  // osserva cambi di contenuto (es. risultati ricerca che aprono la sezione di gi√π)
  var ro;
  try {
    ro = new ResizeObserver(sendHeight);
    ro.observe(document.body);
  } catch(e) {
    // fallback minimale se il browser non supporta ResizeObserver
    document.addEventListener('DOMSubtreeModified', function(){
      // throttling grezzo:
      if (window.__hm_t__) cancelAnimationFrame(window.__hm_t__);
      window.__hm_t__ = requestAnimationFrame(sendHeight);
    }, false);
  }

  // Se usi librerie mappa che necessitano di ridisegno quando cambia lo spazio
  window.addEventListener('resize', function(){
    try {
      if (window.map && typeof window.map.invalidateSize === 'function') window.map.invalidateSize();
      else if (window.map && typeof window.map.resize === 'function') window.map.resize();
    } catch(e){}
  });

  // API opzionale: da altre parti del codice puoi chiamare questa per forzare il ricalcolo
  window.sendContainerHeightToParent = sendHeight;
})();
</script>
<script>
// === AI Meteo Lo Gullo ‚Äî script (iniettato) ===
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const $  = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const clamp = (v, a, b) => Math.max(a, Math.min(b, v));

  // ‚Äî‚Äî‚Äî Domain guard: refuse out-of-scope topics
  
const inScope = (q) => {
  const low = (q||'').toLowerCase();
  // Hard off‚Äëtopic filters (torna "fuori ambito")
  const deny = /(bitcoin|crypto|borsa|azioni|politica|elezioni|governo|partita|calcio|serie a|film|netflix|musica|concerti|videogiochi|ps5|xbox|twitch|ricette?|cucina|ristoranti|programmazione|css|javascript|instagram|tiktok|whatsapp|facebook|gossip)/i;
  if(deny.test(low)) return false;
  // Tutto il resto: prova a rispondere (meteo/ambiente √® l'obiettivo dell'assistente)
  return true;
};


  // ‚Äî‚Äî‚Äî Helpers: day offsets & weekdays
  const dayWords = { 'oggi':0, 'domani':1, 'dopodomani':2 };
  function weekdayOffset(word){
    const names = ['domenica','luned√¨','lunedi','marted√¨','martedi','mercoled√¨','mercoledi','gioved√¨','giovedi','venerd√¨','venerdi','sabato'];
    const idx = names.indexOf(word);
    if(idx<0) return null;
    const now = new Date().getDay(); // 0=Sun
    const canonical = [0,1,2,3,4,5,6][idx%7];
    let delta = canonical - now; if(delta<0) delta += 7; return delta;
  }

  // ‚Äî‚Äî‚Äî Extract numeric from text (e.g., wind speed)
  const num = (s) => {
    const m = (s||'').match(/-?\d+(\.\d+)?/); return m ? parseFloat(m[0]) : null;
  };

  // ‚Äî‚Äî‚Äî Known cities from map, if defined
  const KNOWN = (window.CITIES || []).map(c => (c.city||'').toLowerCase());

// Alias e normalizzazione dei nomi citt√† (non invasivo)
const CITY_ALIAS = {
  "rc":"reggio calabria",
  "reggio":"reggio calabria",
  "vv":"vibo valentia",
  "vibo":"vibo valentia",
  "lamezia":"lamezia terme",
  "rossano":"corigliano-rossano",
  "corigliano":"corigliano-rossano",
  "cz":"catanzaro",
  "cs":"cosenza"
};
function normalizePlaceName(name){
  if(!name) return name;
  const raw = String(name).trim();
  const low = raw.toLowerCase();
  if(CITY_ALIAS[low]) return CITY_ALIAS[low];
  // completamento da liste gi√† caricate
  const known = []
    .concat(((window.CITIES||[]).map(c => (c && (c.city||c.label)) || null).filter(Boolean)))
    .concat(((window.DAYS||[]).flatMap(d => (d && d.points) ? d.points.map(p=>p.city) : []).filter(Boolean)));
  for(const k of known){
    const lk = String(k||'').toLowerCase();
    if(lk === low) return k;
    if(lk.startsWith(low + " ")) return k; // es. "vibo" -> "vibo valentia"
  }
  return raw;
}

  function parseQuery(q){
    const original = q.trim();
    const low = original.toLowerCase();

    // guardrails: only weather/ambient domain
    if(!inScope(low)){
      return { outOfScope:true, text:original };
    }

    // offset/day
    let offset = null;
    for(const k in dayWords){ if(low.includes(k)) { offset = dayWords[k]; break; } }
    if(offset===null){
      const m = low.match(/\b(domenica|luned√¨|lunedi|marted√¨|martedi|mercoled√¨|mercoledi|gioved√¨|giovedi|venerd√¨|venerdi|sabato)\b/);
      if(m){ offset = weekdayOffset(m[1]); }
    }
    if(offset===null) offset = (window.curDay!=null? window.curDay : 0);

    const intent = {
      outfit: /\b(come mi vesto|vestirmi|abbigliamento|cosa metto)\b/.test(low),
      heat: /\b(caldo|afa|ondata di calore|si sentir[a√†] tanto caldo)\b/.test(low),
      rain: /\b(piove|piover[a√†]|pioggia|temporali?)\b/.test(low),
      wind: /\b(vento|raffiche?|maestrale|tramontana|scirocco|libeccio)\b/.test(low),
      sea : /\b(mare|moto ondoso|onde|balneaz|costa|litorale)\b/.test(low),
      mountain: /\b(montagna|neve|quota neve|valanga|rifugio|crinale|sila|pollino|aspromonte)\b/.test(low),
      realtime: /\b(realtime|in tempo reale|mlgmap|stazione|radar|adesso|ora|in questo momento|cosa succede ora)\b/.test(low),
      air: /\b(qualit[a√†] (?:dell'?aria|aria)|aqi|pm10|pm2[\.,]?5|ozono|smog|polveri sottili)\b/.test(low),
      laundry: /\b(bucato|stendere i panni|stendo i panni|posso stendere|quando posso stendere|asciugare)\b/.test(low),
      uv: /\b(indice ?uv|uv|raggi|scottarsi|sole forte)\b/.test(low),
      humidity: /\b(umidit[a√†]|afa|appiccicoso)\b/.test(low),
      fog: /\b(nebbia|foschia|visibilit[a√†])\b/.test(low),
      thunder: /\b(temporale|fulmini?|tuoni|grandine)\b/.test(low),
      sunrise: /\b(alba|tramonto|sorge il sole|tramonta)\b/.test(low),
      current: /\b(attuale|adesso|ora|temperatura attuale|meteo ora|quanto fa)\b/.test(low)
    };

    // location from known cities || after prepositions
    let place = null;
    for(const name of KNOWN){ if(low.includes(name)) { place = name; break; } }
    if(!place){
      const m2 = low.match(/\b(?:a|ad|per|su|di|verso|in)\s+([a-z√†-√∫][a-z√†-√∫\s\-']{2,})/);
      if(m2) place = m2[1].trim();
    }
    if(place){
      // rimuovi parole temporali/punteggiatura
      place = place.replace(/\b(oggi|domani|dopodomani|stamattina|stasera|pomeriggio|sera|notte)\b/g,' ').trim();
      // tronca ai primi 2-3 token o prima di parole chiave meteo
      const stopKeys = /(piove|pioggia|mare|vento|temperature?|caldo|freddo|uv|umidit|nebbia|temporali?|ora|adesso|attuale|come|com'|com‚Äô√®|quanto|si sentir|posso|stendere|bucato)\b/i;
      place = place.split(/[?!,;:]/)[0];
      const mstop = place.match(stopKeys); if(mstop){ place = place.slice(0, mstop.index); }
      place = place.trim();
      // tieni solo lettere/spazi/'
      place = place.replace(/[^a-z√†-√∫'\s\-]/gi,'').trim();
      // riduci a massimo 3 parole
      place = place.split(/\s+/).slice(0,3).join(' ');
    }

    place = normalizePlaceName(place);

    return { text:original, place, offset, intent };

  }

  function pushMsg(text, who="me"){
    const el = document.createElement('div');
    el.className = `mlg-ai-msg ${who}`;
    el.innerHTML = text;
    const box = document.getElementById('mlgAiThread');
    box.appendChild(el);
    box.scrollTop = box.scrollHeight;
  }

  // ‚Äî‚Äî Advice based on conditions
  function outfitAdvice(tmax, tmin, rainProb, wind){
    const tips = [];
    if(tmax>=33) tips.push("vestiti leggero, colori chiari, acqua con te");
    else if(tmax>=28) tips.push("abiti estivi e cappellino");
    else if(tmax>=22) tips.push("maniche leggere; la sera uno strato in pi√π");
    else if(tmax>=16) tips.push("strati leggeri, felpa al seguito");
    else if(tmax>=10) tips.push("giacca leggera; evita soste al vento");
    else tips.push("abbigliamento caldo, giacca e magari cappello");
    if(rainProb>=60) tips.push("porta un impermeabile/ombrello");
    if(wind>=35) tips.push("evita abiti svolazzanti; occhiali protettivi");
    return tips.join(" ¬∑ ");
  }

  // ‚Äî‚Äî format short text
  function labelDay(offset){
    if(offset===0) return "oggi";
    if(offset===1) return "domani";
    if(offset===2) return "dopodomani";
    const d = new Date(); d.setDate(d.getDate()+offset);
    return d.toLocaleDateString('it-IT',{weekday:'long'});
  }

  // ‚Äî‚Äî‚Äî Core: answer using map data/functions if present
  async function fetchForecast(lat, lon){
    if(typeof forecastDetailed==='function'){
      return await forecastDetailed(lat, lon);
    }
    // minimal fallback (should normally not run if project already has it)
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&timezone=auto&current_weather=true&hourly=temperature_2m,precipitation,precipitation_probability,wind_speed_10m&daily=temperature_2m_max,temperature_2m_min,weathercode,sunrise,sunset,precipitation_sum`;
    const r = await fetch(url); return r.json();
  }

  async function geocodeAny(q){
    if(typeof geocode==='function'){
      const g = await geocode(q);
      if(g) return {lat:g.latitude, lon:g.longitude, label: (g.name + (g.admin1? ', '+g.admin1:''))};
    }
    const r = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(q)}&count=1&language=it&format=json`);
    const j = await r.json();
    const g = j.results?.[0]; if(!g) return null;
    return {lat:g.latitude, lon:g.longitude, label: g.name + (g.admin1? ', '+g.admin1:'')};
  }

  // Try derive location from map datasets
  function locateFromMap(name){
    if(!name) return null;
    const low = name.toLowerCase();
    if(Array.isArray(window.CITIES)){
      const hit = window.CITIES.find(c => (c.city||'').toLowerCase()===low);
      if(hit) return {lat: hit.lat, lon: hit.lon, label: hit.city};
    }
    // if DAYS has points with lat/lon
    if(Array.isArray(window.DAYS) && window.DAYS.length){
      for(const day of window.DAYS){
        const p = (day.points||[]).find(pt => (pt.city||'').toLowerCase()===low && pt.lat && pt.lon);
        if(p) return {lat:p.lat, lon:p.lon, label:p.city};
      }
    }
    return null;
  }

  function readRealtimePanels(){
    // attempts to pull values from existing panels/boxes in the page
    const nearest = document.getElementById('nearestStation');
    const hourly = document.getElementById('hourlyPanel');
    const daily  = document.getElementById('dailyPanel');
    const advice = document.getElementById('adviceBox');
    return {nearest, hourly, daily, advice}

function parseRealtimeFromDOM(){
  const box = document.querySelector('#nearestStation, .live-box, [data-role="nearest-station"]');
  if(!box) return null;
  const txt = box.textContent || '';
  const t = txt.match(/(\d{1,2}(?:[\.,]\d)?)[¬∞]/);
  const ur = txt.match(/(\d{1,3})\s?%/);
  const wind = txt.match(/(\d{1,3})\s?km\/?h/);
  const rain = txt.match(/(\d+(?:[\.,]\d)?)\s?mm/);
  const nameMatch = txt.match(/stazione\s+([^\d\-‚Ä¢|]+?)(?:a\s+\d|$)/i);
  const name = nameMatch ? nameMatch[1].trim() : ((box.querySelector('.station-name')||{}).textContent||'').trim() || null;
  const distMatch = txt.match(/a\s+(\d+(?:[\.,]\d)?)\s?km/i);
  const distanzaKm = distMatch ? +distMatch[1].replace(',', '.') : null;
  return { temp: t? +String(t[1]).replace(',', '.') : null,
           umidita: ur? +ur[1] : null,
           raffica: wind? +wind[1] : null,
           pioggia: rain? +String(rain[1]).replace(',', '.') : null,
           nome, distanzaKm };
}


// ---- Nearest station from current page (mlg map) ----
function nearestStation(lat, lon){
  function dist(a,b){ const R=6371; const dLat=(b.lat-a.lat)*Math.PI/180, dLon=(b.lon-a.lon)*Math.PI/180;
    const la=a.lat*Math.PI/180, lb=b.lat*Math.PI/180;
    const x = Math.sin(dLat/2)**2 + Math.cos(la)*Math.cos(lb)*Math.sin(dLon/2)**2;
    return 2*R*Math.asin(Math.sqrt(x)); }
  const pools = [];
  if(Array.isArray(window.STAZIONI)) pools.push(...window.STAZIONI);
  if(Array.isArray(window.stazioni)) pools.push(...window.stazioni);
  if(Array.isArray(window.datiTabella)) pools.push(...window.datiTabella.map(d=>({lat:d.lat, lon:d.lon, nome:d.nome, temp:d.tempVal, umidita:d.umidita, pioggia:d.pioggia, raffica:d.raffica, percepita:d.percepitaVal})));
  if(!pools.length) return null;
  let best=null, bdist=1e9;
  for(const s of pools){
    if(!(s.lat&&s.lon)) continue;
    const d = dist({lat,lon},{lat:s.lat,lon:s.lon});
    if(d<bdist){ bdist=d; best=s; }
  }
  if(!best) return null;
  return { ...best, distanzaKm: Math.round(bdist*10)/10 };
}

// ---- Air quality from Open-Meteo ----
async function fetchAirQuality(lat, lon){
  const url = `https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&hourly=pm10,pm2_5,ozone,nitrogen_dioxide,european_aqi&timezone=auto`;
  const r = await fetch(url);
  if(!r.ok) throw new Error("Errore qualit√† aria");
  return r.json();
}
function summarizeAQ(fcAQ, d){
  try{
    const s = d*24, e = s+24;
    const h = fcAQ.hourly||{};
    const aqi = h.european_aqi ? Math.max(...h.european_aqi.slice(s,e)) : null;
    const pm10 = h.pm10 ? Math.round(Math.max(...h.pm10.slice(s,e))) : null;
    const pm25 = h.pm2_5 ? Math.round(Math.max(...h.pm2_5.slice(s,e))) : null;
    let giud = aqi==null? "dati non disponibili" :
      aqi<=25? "Ottima" : aqi<=50? "Buona" : aqi<=75? "Discreta" : aqi<=100? "Scadente" : "Pessima";
    return {aqi, pm10, pm25, giud};
  }catch(e){ return null; }
}

// ---- Laundry advice helper ----
function laundryAdvice(wx, fc, d){
  const s = d*24, e=s+24;
  const p = fc.hourly?.precipitation_probability || [];
  const h = fc.hourly?.relativehumidity_2m || [];
  const w = (fc.hourly?.wind_speed_10m || fc.hourly?.windspeed_10m || []);
  let bestHour = null, bestScore = -1;
  for(let i=s+9;i<=s+18;i++){ // fascia 9-18
    const prob = p[i] ?? 0, hum = h[i] ?? 60, wind = w[i] ?? 6;
    const score = (100-prob) + (80 - Math.min(80,hum)) + Math.min(20, wind);
    if(score>bestScore){ bestScore=score; bestHour=i%24; }
  }
  const riskRain = Math.max(...p.slice(s,e), 0);
  const humAvg   = Math.round(h.slice(s,e).reduce((a,b)=>a+(b||0),0)/Math.max(1,(e-s)));
  const windAvg  = Math.round(w.slice(s,e).reduce((a,b)=>a+(b||0),0)/Math.max(1,(e-s)));
  const slots = ['00','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23'];
  return {
    text: `Meglio tra le ${slots[bestHour]}‚Äë${slots[(bestHour+3)%24]} (pioggia bassa, vento ${windAvg} km/h, umidit√† media ~ ${humAvg}%).`,
    ok: riskRain<30 && humAvg<70,
    riskRain, humAvg, windAvg
  };
}
;
  }

  function summarizeSea(fc, offset){
    // naive sea state summary based on wind; if project has marine layer, prefer that
    if(window.marineLayer && typeof window.marineLayer.summary === 'function'){
      try { return window.marineLayer.summary(offset); } catch(e){}
    }
    const ws = fc.current_weather?.windspeed || 0;
    let sea = "mare poco mosso";
    if(ws>=15 && ws<25) sea = "mare mosso";
    else if(ws>=25 && ws<40) sea = "mare molto mosso";
    else if(ws>=40) sea = "mare agitato";
    return sea;
  }

  function summarizeMountain(fc, offset){
    // naive mountain risks from wind and temp
    const d = offset||0;
    const tmin = Math.round(fc.daily?.temperature_2m_min?.[d] ?? 0);
    const wind = Math.round(fc.current_weather?.windspeed ?? 0);
    const note = [];
    if(tmin<=0) note.push("possibili gelate in quota");
    if(wind>=35) note.push("vento forte su crinali");
    return note.length ? note.join(" ¬∑ ") : "condizioni buone in quota (verifica bollettini locali)";
  }

function uvInfo(fc, d){
  const idx = fc.hourly?.uv_index || fc.hourly?.uv_index_clear_sky;
  if(!idx) return null;
  const start = d*24, end = start+24;
  const max = Math.round(Math.max(...idx.slice(start,end)));
  let note = "UV basso";
  if(max>=8) note="UV molto alto";
  else if(max>=6) note="UV alto";
  else if(max>=3) note="UV moderato";
  return {max, note};
}

function humidityInfo(fc, d){
  const arr = fc.hourly?.relativehumidity_2m;
  if(!arr) return null;
  const start = d*24, end = start+24;
  const avg = Math.round(arr.slice(start,end).reduce((a,b)=>a+b,0)/Math.max(1,(end-start)));
  return avg;
}

function fogRisk(fc, d){
  // Approx: fog if humidity high and wind low in night/morning
  const h = fc.hourly?.relativehumidity_2m;
  const w = fc.hourly?.wind_speed_10m || fc.hourly?.windspeed_10m;
  if(!h||!w) return null;
  const s0 = d*24, e0=s0+8;
  const hr = h.slice(s0,e0).reduce((a,b)=>a+b,0)/(e0-s0);
  const wr = w.slice(s0,e0).reduce((a,b)=>a+b,0)/(e0-s0);
  return (hr>=85 && wr<=8) ? "possibile foschia/nebbiolina al mattino" : null;
}

function thunderRisk(fc, d){
  // Heuristic: high precip prob + strong gusts -> rischio temporali
  const p = fc.hourly?.precipitation_probability || [];
  const g = fc.hourly?.wind_gusts_10m || [];
  const s0=d*24, e0=s0+24;
  const maxP = Math.max(...p.slice(s0,e0), 0);
  const maxG = Math.max(...g.slice(s0,e0), 0);
  if(maxP>=60 && maxG>=40) return "rischio temporali (localmente forti)";
  if(maxP>=40) return "possibili temporali pomeridiani";
  return null;
}

function sunTimes(fc, d){
  const rise = fc.daily?.sunrise?.[d];
  const set  = fc.daily?.sunset?.[d];
  if(!rise || !set) return null;
  const fmt = s=> new Date(s).toLocaleTimeString('it-IT',{hour:'2-digit',minute:'2-digit'});
  return {rise: fmt(rise), set: fmt(set)};
}


  function formatWx(fc, offset){
    const d = offset||0;
    const tmax = Math.round(fc.daily?.temperature_2m_max?.[d] ?? 0);
    const tmin = Math.round(fc.daily?.temperature_2m_min?.[d] ?? 0);
    const rainDay = Math.round((fc.daily?.precipitation_sum?.[d] ?? 0) * 10)/10;
    const prob = (fc.hourly?.precipitation_probability||[]).slice(d*24, d*24+24);
    const pmax = prob.length? Math.max(...prob): null;
    return {tmax,tmin,rainDay,probMax:pmax};
  }

  async function answer(q){
    const parsed = parseQuery(q);
    if(parsed.outOfScope){
      pushMsg("Posso parlare solo di meteo, ambiente, mare e montagna per la tua zona (Meteo Lo Gullo). Prova a chiedermi, ad esempio: ‚ÄúPiove oggi a Catanzaro?‚Äù", "ai");
      return;
    }
    const wait = document.createElement('div');
    wait.className = 'mlg-ai-msg ai';
    wait.textContent = '‚åõ Elaboro i dati in tempo reale‚Ä¶';
    $('#mlgAiThread').appendChild(wait);
    $('#mlgAiThread').scrollTop = $('#mlgAiThread').scrollHeight;

    try{
      
      // Resolve location (priorit√† alla citt√† nella domanda)
      let loc = null;
      if(parsed.place){
        loc = locateFromMap(parsed.place);
        if(!loc){
          const g = await geocodeAny(parsed.place);
          if(g) loc = {lat:g.lat, lon:g.lon, label:g.label};
        }
      }
      // Fallback se l'utente NON ha specificato una citt√† valida
      if(!loc){
        if(window.currentFocus && currentFocus.lat && currentFocus.lon){
          loc = {lat:currentFocus.lat, lon:currentFocus.lon, label: currentFocus.label||'localit√† mappa'};
        } else if(window.lastLoc){
          loc = window.lastLoc;
        } else if(typeof map !== 'undefined' && map.getCenter){
          const c = map.getCenter();
          loc = {lat:c.lat, lon:c.lng, label:'posizione mappa'};
        }
      }
      if(!loc){
        throw new Error("Non trovo la localit√† richiesta: usa il nome del comune o tocca una citt√† sulla mappa.");
      }
      window.lastLoc = loc;
// Fetch forecast (prefer project function)
      const fc = await fetchForecast(loc.lat, loc.lon);
      window.lastLoc = loc;
      window.lastLoc = loc;
      const d = parsed.offset||0;
      const L = labelDay(d);
      const wx = formatWx(fc, d);

      // If project has run(), update panels (pull from MLGMap)
      /* disabilitato: niente auto-run dei pannelli durante le risposte dell'assistente */

      // Build answer based on intent
      
let text = `<b>${loc.label}</b>, ${L}: `;

// --- Compose a natural, human‚Äësounding summary ---
const wind = Math.round(fc.current_weather?.windspeed || 0);
const rainTag = (wx.probMax==null)
  ? null
  : (wx.probMax >= 60 ? `rovesci probabili (‚âà ${wx.probMax}%)`
     : wx.probMax >= 30 ? `qualche piovasco possibile (‚âà ${wx.probMax}%)`
     : `pioggia poco probabile (max ${wx.probMax}%)`);

const base = [
  `massime intorno a ${wx.tmax}¬∞ e minime sui ${wx.tmin}¬∞`,
  rainTag,
  Number.isFinite(wind) ? `vento sui ${wind} km/h` : null
].filter(Boolean).join(', ') + '.';

const extras = [];
if(parsed.intent.rain){
  extras.push(wx.rainDay>0 ? `Accumuli giornalieri attesi ~ ${wx.rainDay} mm.`
                           : `Non sono attesi accumuli significativi.`);
}
if(parsed.intent.heat){
  const feels = Math.round((wx.tmax + (fc.hourly?.temperature_2m?.[d*24+15]||wx.tmax))*0.5 + (fc.hourly?.precipitation_probability?.[d*24+15]||0)/20);
  extras.push(`Caldo percepito ~ ${feels}¬∞.`);
}
if(parsed.intent.sea){
        const si = summarizeSea(fc, d);
        if(!extras.some(x=>/^mare\b/i.test(x))) extras.push(`${si}.`);
      }
      if(parsed.intent.uv){
        const u = uvInfo(fc, d); if(u) extras.push(`Indice UV max ~ ${u.max} (${u.note}).`);
      }
      if(parsed.intent.humidity){
        const h = humidityInfo(fc, d); if(h) extras.push(`Umidit√† media ~ ${h}%.`);
      }
      if(parsed.intent.fog){
        const fr = fogRisk(fc, d); if(fr) extras.push(fr + '.');
      }
      if(parsed.intent.thunder){
        const tr = thunderRisk(fc, d); if(tr) extras.push(tr + '.');
      }
      if(parsed.intent.sunrise){
        const st = sunTimes(fc, d); if(st) extras.push(`Alba ${st.rise}, tramonto ${st.set}.`);
      }

      // ‚Äî‚Äî extras: vento dettagliato / bucato / qualit√† dell'aria ‚Äî‚Äî
      if(parsed.intent.wind){
        try{
          const arr = (fc.hourly?.wind_speed_10m || fc.hourly?.windspeed_10m || []).slice(d*24, d*24+24);
          if(arr && arr.length){
            const max = Math.round(Math.max(...arr.filter(x => Number.isFinite(x))));
            const idx = arr.indexOf(Math.max(...arr));
            const hh = String((idx % 24)).padStart(2,'0');
            extras.push(`Vento in rinforzo fino a ~ ${max} km/h verso le ${hh}:00.`);
          }
        }catch(e){}
      }
      if(parsed.intent.laundry){
        try{
          const la = laundryAdvice(wx, fc, d);
          if(la){
            extras.push((la.ok ? "S√¨, puoi stendere: " : "Puoi stendere con attenzione: ") + la.text);
          }
        }catch(e){}
      }
      if(parsed.intent.air){
        try{
          const aq = await fetchAirQuality(loc.lat, loc.lon);
          const aqs = summarizeAQ(aq, d);
          if(aqs){
            const parts = [];
            parts.push(`Qualit√† dell'aria: ${aqs.giud}`);
            if(aqs.pm10!=null) parts.push(`PM10 max ${aqs.pm10} ¬µg/m¬≥`);
            if(aqs.pm25!=null) parts.push(`PM2.5 max ${aqs.pm25} ¬µg/m¬≥`);
            if(aqs.aqi!=null) parts.push(`AQI EU ${aqs.aqi}`);
            extras.push(parts.join(", ") + ".");
          }
        }catch(e){}
      }
      if(parsed.intent.sea){
  extras.push(`${summarizeSea(fc, d)}.`);
}
if(parsed.intent.mountain){
  extras.push(`${summarizeMountain(fc, d)}.`);
}
if(parsed.intent.outfit || /come mi vesto/.test(q.toLowerCase())){
  const tip = outfitAdvice(wx.tmax, wx.tmin, wx.probMax||0, wind);
  extras.push(`Per vestirti: ${tip}.`);
}
if(parsed.intent.realtime || parsed.intent.current){
        const st0 = parseRealtimeFromDOM() || nearestStation(loc.lat, loc.lon);
        if(st0){ extras.unshift(`Adesso: ${st0.temp!=null? st0.temp+'¬∞' : '--'}${st0.umidita!=null? ', UR '+st0.umidita+'%':''}${st0.raffica!=null? ', vento '+st0.raffica+' km/h raffiche':''} ‚Äî dati stazione ‚Äú${st0.nome||st0.city||'vicina'}‚Äù (${st0.distanzaKm} km).`); }
  const rt = readRealtimePanels();
  extras.push(`Per i dettagli in tempo reale guarda i riquadri sotto la mappa (Stazione vicina, Oraria, 7 giorni).`);
  try{
    [rt.nearest, rt.hourly, rt.daily].forEach(el=>{ if(!el) return; el.style.outline = "2px solid #ffdd55"; setTimeout(()=>{ el.style.outline=""; }, 4000); });
  }catch(e){}
}

const body = [base, ...extras].join(' ');
wait.remove();
pushMsg(`${text}${body}`, "ai");
}catch(e){
      wait.remove();
      pushMsg("Errore: " + (e?.message || "imprevisto durante l'elaborazione."), "ai");
    }
  }

  // ‚Äî‚Äî Bind UI
  function submitHandler(e){
    e.preventDefault();
    const q = $('#mlgAiInput').value.trim();
    if(!q) return;
    pushMsg(q, 'me');
    $('#mlgAiInput').value = '';
    answer(q);
  }
  function onSuggest(e){
    const q = e.target?.dataset?.q; if(!q) return;
    $('#mlgAiInput').value = q;
    $('#mlgAiForm').dispatchEvent(new Event('submit', {cancelable:true,bubbles:true}));
  }
  function useDayFromMap(){
    const d = (window.curDay||0);
    const city = (window.CITIES && window.CITIES[0]?.city) || 'Reggio Calabria';
    const lbl = labelDay(d);
    const q = `Com'√® il meteo ${lbl} a ${city}?`;
    $('#mlgAiInput').value = q;
    $('#mlgAiForm').dispatchEvent(new Event('submit', {cancelable:true,bubbles:true}));
  }
  function useMapCities(){
    const names = (window.CITIES||[]).map(c=>c.city).slice(0,3).join(', ');
    const q = `Previsioni sintetiche oggi per ${names}`;
    $('#mlgAiInput').value = q;
    $('#mlgAiForm').dispatchEvent(new Event('submit', {cancelable:true,bubbles:true}));
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    const form = $('#mlgAiForm'); if(form) form.addEventListener('submit', submitHandler);
    $$('#mlgAiBox .mlg-ai-suggest button').forEach(b=>b.addEventListener('click', onSuggest));
    const bDay = $('#mlgAiUseDay'); if(bDay) bDay.addEventListener('click', useDayFromMap);
    const bMap = $('#mlgAiUseMap'); if(bMap) bMap.addEventListener('click', useMapCities);
  });
})();
</script>
<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>

<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>

<script id="assistente-calabria-offline-2025-08-10">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  // --- Calabria bbox ---
  const CAL = {minLat: 37.90, maxLat: 39.95, minLon: 15.55, maxLon: 17.35};
  function inCalabria(lat, lon){ return lat>=CAL.minLat && lat<=CAL.maxLat && lon>=CAL.minLon && lon<=CAL.maxLon; }

  // --- Utils ---
  function norm(s){ try{ s=(""+s).toLowerCase().trim(); s=s.normalize? s.normalize('NFD').replace(/[\u0300-\u036f]/g,'') : s; s=s.replace(/[‚Äô']/g,"'").replace(/\s+/g,' '); return s; }catch(e){ return s||''; } }
  function hav(a,b,c,d){ const R=6371,toRad=x=>x*Math.PI/180; const dLat=toRad(c-a), dLon=toRad(d-b); const la=toRad(a), lb=toRad(c);
    const x=Math.sin(dLat/2)**2 + Math.cos(la)*Math.cos(lb)*Math.sin(dLon/2)**2; return 2*R*Math.asin(Math.sqrt(x)); }
  function dayLabel(off){ if(off===0) return "oggi"; if(off===1) return "domani"; if(off===2) return "dopodomani"; const d=new Date(); d.setDate(d.getDate()+off); return d.toLocaleDateString('it-IT',{weekday:'long'}); }
  function pushMsgHTML(html){
    const el=document.createElement('div'); el.className='mlg-ai-msg ai'; el.dataset.msgId='ai-'+Date.now()+'-'+Math.random().toString(36).slice(2,7); el.innerHTML=html;
    const box=document.getElementById('mlgAiThread')||document.body; box.appendChild(el); if(box.scrollTop!=null) box.scrollTop=box.scrollHeight; return el;
  }
  function pushMsgText(txt){ return pushMsgHTML(String(txt).replace(/[&<>]/g,s=>({ '&':'&amp;','<':'&lt;','>':'&gt;' }[s]))); }

  // --- Simple parser (no dependencies) ---
  function parseSimple(q){
    const ql = (q||'').toLowerCase();
    const out = {place:null, offset:0, want:{rt:false, fc:true, outfit:false, rain:false}};
    if(/\bdopodomani\b/.test(ql)) out.offset=2; else if(/\bdomani\b/.test(ql)) out.offset=1;
    if(/\b(in\s+tempo\s+reale|adesso|ora)\b/.test(ql)){ out.want.rt=true; out.want.fc=false; }
    if(/come\s+mi\s+vesto/.test(ql)){ out.want.outfit=true; out.want.fc=true; }
    if(/\bpioggia|piover[a√†]|rovesci|temporali\b/.test(ql)) out.want.rain=true;
    const m = q.match(/\b(?:a|ad|da|su|per|di|in)\s+([A-Z√Ä-√ö][a-z√†-√∫]+(?:\s+[A-Z√Ä-√ö][a-z√†-√∫]+)*)\b/);
    if(m) out.place = m[1];
    // Fallback: if user clicked map, some apps expose currentFocus
    if(!out.place && window.currentFocus && inCalabria(window.currentFocus.lat, window.currentFocus.lon)){
      out.place = window.currentFocus.label || 'localit√† mappa';
    }
    return out;
  }

  // --- Data access (stations + markers + Open-Meteo) ---
  function allStations(){
    let arr=[]; try{ if(Array.isArray(window.stazioni)) arr = arr.concat(window.stazioni); }catch(e){}
    try{ if(Array.isArray(window.STAZIONI)) arr = arr.concat(window.STAZIONI); }catch(e){}
    return arr;
  }
  function stationName(s){ return s?.nome || s?.city || s?.comune || s?.label || s?.stationId || 'stazione'; }
  function findStationByPlace(place){
    const name=norm(place||'');
    if(!name) return null;
    let best=null;
    for(const s of allStations()){
      const city=norm(s.city||s.nome||s.comune||s.label||'');
      if(!city) continue;
      if(city===name) return s;
      if(!best && (city.startsWith(name)||name.startsWith(city))) best=s;
    }
    return best;
  }
  function nearestStation(lat, lon, maxKm=35){
    let best=null, dMin=1e9;
    for(const s of allStations()){
      if(!(isFinite(s.lat)&&isFinite(s.lon))) continue;
      const d=hav(lat,lon,s.lat,s.lon);
      if(d<dMin){ dMin=d; best=s; }
    }
    if(!best || dMin>maxKm) return null;
    return {st:best, dist:dMin};
  }
  async function wuObsSafe(st){
    try{ if(typeof window.wuObs==='function'){ return await window.wuObs(st); } }catch(e){}
    return null;
  }

  async function geocodeCalabriaOnly(name){
    if(typeof window.locateFromMap==='function'){
      const l = window.locateFromMap(name);
      if(l && inCalabria(l.lat,l.lon)) return {lat:l.lat, lon:l.lon, label:l.label||l.nome||name};
    }
    // Open-Meteo geocoding (no key needed)
    const r = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(name)}&count=5&language=it&format=json`);
    const j = await r.json();
    const cand = (j.results||[]).find(x => (x.country_code==='IT') && (/(^|\s)Calabria$/i.test(x.admin1||'')));
    if(cand && inCalabria(cand.latitude, cand.longitude)) {
      return {lat:cand.latitude, lon:cand.longitude, label: (cand.name + (cand.admin1? ', '+cand.admin1:''))};
    }
    const bbox = (j.results||[]).find(x => (x.country_code==='IT') && inCalabria(x.latitude, x.longitude));
    if(bbox){ return {lat:bbox.latitude, lon:bbox.longitude, label:(bbox.name+(bbox.admin1? ', '+bbox.admin1:''))}; }
    return null;
  }

  async function fetchForecast(lat, lon){
    if(typeof window.fetchForecast==='function') return window.fetchForecast(lat, lon);
    if(typeof window.forecastDetailed==='function') return window.forecastDetailed(lat, lon);
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&timezone=auto&current_weather=true&hourly=temperature_2m,precipitation,precipitation_probability,uv_index,wind_speed_10m&daily=temperature_2m_max,temperature_2m_min,weathercode,sunrise,sunset,precipitation_sum`;
    const r = await fetch(url); return r.json();
  }

  function mapPointForPlace(place, dayOffset){
    try{
      const name=norm(place||'');
      const day = window.DAYS?.[Math.max(0, Math.min(window.DAYS.length-1, dayOffset||0))];
      if(!day || !Array.isArray(day.points)) return null;
      for(const p of day.points){ if(norm(p.city)===name) return p; }
      for(const p of day.points){ if(norm(p.city).startsWith(name)) return p; }
    }catch(e){}
    return null;
  }
  function nearestMapPoint(lat, lon, dayOffset){
    try{
      const day = window.DAYS?.[Math.max(0, Math.min(window.DAYS.length-1, dayOffset||0))];
      if(!day) return null;
      let best=null, dMin=1e9;
      for(const p of (day.points||[])){
        if(!(isFinite(p.lat)&&isFinite(p.lon))) continue;
        const d=hav(lat,lon,p.lat,p.lon); if(d<dMin){ dMin=d; best=p; }
      }
      return best;
    }catch(e){ return null; }
  }

  function composeOutfit(tmax, tmin, prob, wind){
    const tips=[];
    if(tmax>=33) tips.push("vestiti leggero, colori chiari, acqua con te");
    else if(tmax>=28) tips.push("abiti estivi e cappellino");
    else if(tmax>=22) tips.push("maniche leggere; la sera uno strato in pi√π");
    else if(tmax>=16) tips.push("strati leggeri, felpa al seguito");
    else if(tmax>=10) tips.push("giacca leggera; evita soste al vento");
    else tips.push("abbigliamento caldo, giacca e magari cappello");
    if((prob||0)>=60) tips.push("porta un impermeabile/ombrello");
    if((wind||0)>=35) tips.push("occhiali/strati anti-vento");
    return tips.join(" ¬∑ ");
  }

  // --- Standalone answer() ---
  window.answer = async function(question){
    const thinking = pushMsgText('‚åõ Elaboro i dati‚Ä¶');
    try{
      const parsed = parseSimple(question);
      if(!parsed.place){
        thinking.remove(); pushMsgText("Dimmi la localit√† in **Calabria** (es. Amantea, Cosenza, Catanzaro).");
        return;
      }
      const loc = await geocodeCalabriaOnly(parsed.place);
      if(!loc || !inCalabria(loc.lat, loc.lon)){
        thinking.remove(); pushMsgText("Per ora rispondo solo per la **Calabria**. Prova con un comune calabrese.");
        return;
      }

      // Forecast first (tmax/tmin from markers if present)
      const fc = await fetchForecast(loc.lat, loc.lon);
      const d = parsed.offset||0;
      const when = dayLabel(d);
      let tmax = Math.round(fc?.daily?.temperature_2m_max?.[d] ?? 0);
      let tmin = Math.round(fc?.daily?.temperature_2m_min?.[d] ?? 0);
      let pt = mapPointForPlace(parsed.place, d);
      if(!pt) pt = nearestMapPoint(loc.lat, loc.lon, d);
      if(pt){
        if(isFinite(pt.tmax)) tmax = Math.round(pt.tmax);
        if(isFinite(pt.tmin)) tmin = Math.round(pt.tmin);
      }
      const probArr = (fc?.hourly?.precipitation_probability||[]).slice(d*24, d*24+24);
      const pmax = probArr.length? Math.max(...probArr): null;
      const rainDay = Math.round((fc?.daily?.precipitation_sum?.[d] ?? 0) * 10)/10;
      const wind = Math.round(fc?.current_weather?.windspeed || 0);

      // Realtime strictly from stations (if asked)
      let rtLine = null;
      if(parsed.want.rt){
        let st = findStationByPlace(parsed.place);
        let dist=null;
        if(!st){
          const near = nearestStation(loc.lat, loc.lon, 35);
          if(near){ st=near.st; dist=near.dist; }
        }else{
          dist = hav(loc.lat, loc.lon, st.lat, st.lon);
        }
        let rt = null;
        if(st){
          const obs = await wuObsSafe(st);
          if(obs){
            rt = { temp:obs.t, umidita:obs.ur, raffica:obs.wind, pioggia:obs.rain, nome:stationName(st), distanzaKm:dist!=null? Math.round(dist*10)/10:null };
          }else if(st.temp!=null || st.umidita!=null || st.pioggia!=null || st.raffica!=null){
            rt = { temp:st.temp, umidita:st.umidita, raffica:st.raffica, pioggia:st.pioggia, nome:stationName(st), distanzaKm:dist!=null? Math.round(dist*10)/10:null };
          }
        }
        rtLine = rt
          ? ` Adesso: ${rt.temp!=null? Math.round(rt.temp)+'¬∞':'--'}${rt.umidita!=null? ', UR '+Math.round(rt.umidita)+'%':''}${rt.raffica!=null? ', vento '+Math.round(rt.raffica)+' km/h raffiche':''}${rt.pioggia!=null? ', pioggia '+rt.pioggia+' mm':''} ‚Äî stazione ‚Äú${rt.nome}‚Äù${rt.distanzaKm!=null? ' a '+rt.distanzaKm+' km':''}.`
          : ` Dato in tempo reale non disponibile per una stazione vicina.`;
      }

      // Compose final
      const bits = [];
      bits.push(`<b>${loc.label}</b>, ${when}: massime intorno a ${tmax}¬∞ e minime sui ${tmin}¬∞`);
      if(pmax!=null) bits.push(pmax>=60? `rovesci probabili (‚âà ${pmax}%)` : pmax>=30? `qualche piovasco possibile (‚âà ${pmax}%)` : `pioggia poco probabile (max ${pmax}%)`);
      if(isFinite(wind)) bits.push(`vento sui ${wind} km/h`);
      let out = bits.join(', ')+'.';
      if(parsed.want.rain) out += ` Accumuli attesi ~ ${rainDay} mm.`;
      if(parsed.want.outfit) out += ` Per vestirti: ${composeOutfit(tmax, tmin, pmax||0, wind)}.`;
      if(rtLine) out += rtLine;

      thinking.remove();
      pushMsgHTML(out);
    }catch(err){
      try{ thinking.remove(); }catch(_){}
      pushMsgText('Errore: '+(err && err.message ? err.message : 'imprevisto.'));
    }
  };
})();
</script>
<script id="mapdate-overlay-sync">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function syncMapDate(){
    var src = document.getElementById('hDate');
    var dest = document.getElementById('mapDateOverlay');
    if(src && dest) dest.textContent = src.textContent || '';
  }
  
  window.addEventListener('resize', positionBackButton);
  window.addEventListener('scroll', positionBackButton, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', syncMapDate);
  }else{
    syncMapDate();
  }
  try{
    var src = document.getElementById('hDate');
    if(src){
      new MutationObserver(syncMapDate).observe(src, { childList:true, characterData:true, subtree:true });
    }
  }catch(e){}
})();
</script>
<script id="applyDailyOverridesV2-augment-rot-xy">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const _apply = window.applyDailyOverridesV2;
  window.applyDailyOverridesV2 = function(){
    try{
      if(typeof _apply==='function'){ try{ _apply(); }catch(e){} }
      if(!Array.isArray(window.DAYS)||!window.DAYS.length) return;
      window.DAYS.forEach(dayObj=>{
        try{
          const d=new Date(); d.setHours(0,0,0,0);
          d.setDate(d.getDate() + (dayObj.offset||0));
          const key=d.toISOString().slice(0,10);
          (dayObj.points||[]).forEach(pt=>{
            const uid = pt.uid || (typeof uidForCity==='function'? uidForCity(pt.city): (pt.city||''));
            const o = (typeof getDailyOverrideV2==='function') ? getDailyOverrideV2(key, uid) : null;
            if(!o) return;
            if(o.tmax !== undefined) pt.tmax = o.tmax;
            if(o.tmin !== undefined) pt.tmin = o.tmin;
            if(o.x !== undefined) pt.x = o.x;
            if(o.y !== undefined) pt.y = o.y;
            if(o.rot !== undefined) pt.rot = o.rot;
            });
        }catch(e){}
      });
    }catch(e){}
  };
})();
</script>
<script id="sanitizeDailyOverridesIcon">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(typeof getDailyOverrideV2==='function' && typeof saveDailyOverrideV2==='function'){
    const _get = getDailyOverrideV2;
    window.getDailyOverrideV2 = function(key, uid){
      const o = _get(key, uid);
      if(o && o.icon!==undefined){
        const ok = (typeof o.icon==='string') && (/^https?:\/\//.test(o.icon) || /\.(png|jpe?g|webp|gif)$/i.test(o.icon));
        if(!ok){ try{ delete o.icon; saveDailyOverrideV2(key, uid, { icon: null }); }catch(e){} }
      }
      return o;
    };
  }
})();
</script>
<script id="helpers-custom-icon">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  window.isValidIconString = function(str){
    return (typeof str==='string' && str.trim().length>0 &&
            (/^https?:\/\//.test(str) || /\.(png|jpe?g|webp|gif|svg)$/i.test(str)));
  };
  window.isCustomMarker = function(pt){
    // consider "custom" if it has a direct icon (no WMO code) OR carries a flag 'custom===true'
    return (pt && (pt.code===undefined || pt.custom===true));
  };
})();
</script>
<script id="global-propagation-helpers">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  window.ensureMarkerOnAllDays = function(uid, tmpl){
    if(!uid || !Array.isArray(window.DAYS)) return;
    for(const day of DAYS){
      const exists = day.points && day.points.some(p => (p.uid || (typeof uidForCity==='function' ? uidForCity(p.city) : p.city)) === uid);
      if(!exists){
        const clone = {
          uid: uid,
          city: tmpl.city || 'Punto',
          x: +tmpl.x || 0,
          y: +tmpl.y || 0,
          rot: (typeof tmpl.rot==='number') ? tmpl.rot : 0
        };
        // prefer custom icon if provided, otherwise keep code/icon from template
        if(tmpl.icon && typeof tmpl.icon==='string'){ clone.icon = tmpl.icon; }
        else if(tmpl.code !== undefined){ clone.code = tmpl.code; }
        if(tmpl.tmax !== undefined) clone.tmax = tmpl.tmax;
        if(tmpl.tmin !== undefined) clone.tmin = tmpl.tmin;
        if(!day.points) day.points = [];
        day.points.push(clone);
      }
    }
  };
  window.setGlobalPersist = function(uid, {x=null,y=null,rot=null,icon=undefined}={}){
    if(!uid) return;
    if(!window.PERSIST) window.PERSIST = {};
    if(!PERSIST.positions) PERSIST.positions = {};
    if(!PERSIST.positions[uid]) PERSIST.positions[uid] = {};
    if(x!==null) PERSIST.positions[uid].x = x;
    if(y!==null) PERSIST.positions[uid].y = y;
    if(rot!==null) PERSIST.positions[uid].rot = rot;
    if(icon!==undefined){
      if(window.isValidIconString && isValidIconString(icon)){
        PERSIST.positions[uid].icon = icon;
      }else if(icon===null){
        delete PERSIST.positions[uid].icon;
      }
    }
    if(typeof saveState==='function') saveState();
  };
  window.clearAllDailyIconOverridesForUid = function(uid){
    try{
      const storeV3 = window.DAILY_ICON_OVERRIDE_V3 || {};
      Object.keys(storeV3).forEach(dayKey=>{
        if(storeV3[dayKey] && storeV3[dayKey][uid]){
          delete storeV3[dayKey][uid].day;
          delete storeV3[dayKey][uid].night;
          if(Object.keys(storeV3[dayKey][uid]).length===0) delete storeV3[dayKey][uid];
        }
      });
      window.DAILY_ICON_OVERRIDE_V3 = storeV3;
      if(window.DAILY_OVERRIDE_V2){
        Object.keys(window.DAILY_OVERRIDE_V2).forEach(dayKey=>{
          if(window.DAILY_OVERRIDE_V2[dayKey] && window.DAILY_OVERRIDE_V2[dayKey][uid]){
            delete window.DAILY_OVERRIDE_V2[dayKey][uid].icon;
            if(Object.keys(window.DAILY_OVERRIDE_V2[dayKey][uid]).length===0) delete window.DAILY_OVERRIDE_V2[dayKey][uid];
          }
        });
      }
      // persist
      try{
        localStorage.setItem('dailyIconOverrideV3', JSON.stringify(window.DAILY_ICON_OVERRIDE_V3||{}));
        localStorage.setItem('dailyOverrideV2', JSON.stringify(window.DAILY_OVERRIDE_V2||{}));
      }catch(e){}
    }catch(e){}
  };
})();
</script>
<script id="mlg-guard-global-icon">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  try{
    // Wrap setGlobalPersist: allow x,y,rot always; icon only if global checkbox is ON
    if (typeof window.setGlobalPersist === 'function' && !window.setGlobalPersist.__iconGuarded) {
      const _origSet = window.setGlobalPersist;
      window.setGlobalPersist = function(uid, opts){
        try{
          if(opts && Object.prototype.hasOwnProperty.call(opts,'icon')){
            const isGlobal = (typeof window.chkGlobal!=='undefined' && window.chkGlobal && window.chkGlobal.checked);
            if(!isGlobal){
              // drop icon field when global flag is OFF
              opts = Object.assign({}, opts);
              delete opts.icon;
            }
          }
        }catch(e){}
        return _origSet(uid, opts);
      };
      window.setGlobalPersist.__iconGuarded = true;
    }
    // Wrap propagateToAllDays: allow x,y always; icon only if global checkbox is ON
    if (typeof window.propagateToAllDays === 'function' && !window.propagateToAllDays.__iconGuarded) {
      const _origProp = window.propagateToAllDays;
      window.propagateToAllDays = function(uid, options){
        try{
          const isGlobal = (typeof window.chkGlobal!=='undefined' && window.chkGlobal && window.chkGlobal.checked);
          if(options && Object.prototype.hasOwnProperty.call(options,'icon') && !isGlobal){
            options = Object.assign({}, options);
            delete options.icon;
          }
        }catch(e){}
        return _origProp(uid, options||{});
      };
      window.propagateToAllDays.__iconGuarded = true;
    }
  }catch(e){ console.warn('mlg-guard-global-icon failed', e); }
})();
</script>
<script id="mlg-force-uncheck-global-2">
document.addEventListener('DOMContentLoaded', function(){
  try{ var c = document.getElementById('chkGlobal'); if(c) c.checked = false; }catch(e){}
});
</script>
<script id="mlg-dedup-on-click-2025-08-13">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__DEDUP_ON_CLICK__) return; window.__DEDUP_ON_CLICK__ = true;

  function pruneMarkerChildren(mk){
    if(!mk) return;
    try{
      // keep only the last visual icon element
      const kids = Array.from(mk.children);
      if(kids.length > 1){
        for(let i=0;i<kids.length-1;i++){ kids[i].remove(); }
      }
      // Also remove accidental duplicate images if inserted in quick succession
      const imgs = mk.querySelectorAll('img.weather-icon');
      if(imgs.length > 1){
        for(let i=0;i<imgs.length-1;i++){ imgs[i].remove(); }
      }
      const alts = mk.querySelectorAll('i.alt-icon, .fa-solid, .fa-regular');
      if(alts.length > 1){
        for(let i=0;i<alts.length-1;i++){ alts[i].remove(); }
      }
    }catch(e){}
  }

  document.addEventListener('click', function(ev){
    const mk = ev.target.closest && ev.target.closest('#mapArea .marker');
    if(!mk) return;
    // After other handlers run, prune duplicates
    setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 pruneMarkerChildren(mk); }, 0);
  }, true);

  // Also prune after every render
  const _render = window.render;
  if(typeof _render === 'function' && !_render.__dedupWrapped){
    window.render = function(){
      const out = _render.apply(this, arguments);
      try{
        document.querySelectorAll('#mapArea .marker').forEach(pruneMarkerChildren);
      }catch(e){}
      return out;
    };
    window.render.__dedupWrapped = true;
  }
})();
</script>
<script id="mlg-strong-marker-dedup">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__STRONG_DEDUP__) return; window.__STRONG_DEDUP__ = true;

  function keyFor(el){
    if(!el) return '';
    const uid = el.getAttribute('data-uid') || '';
    // prefer inline style; fallback to computed to be robust
    const s = el.style || {};
    let left = s.left || el.getAttribute('data-left') || '';
    let top  = s.top  || el.getAttribute('data-top')  || '';
    if((!left || !top) && el.parentElement){
      const cs = getComputedStyle(el);
      left = left || cs.left;
      top  = top  || cs.top;
    }
    // round to 0.1px to avoid tiny float diffs
    const rx = (parseFloat(left)||0).toFixed(1);
    const ry = (parseFloat(top)||0).toFixed(1);
    return uid + "|" + rx + "|" + ry;
  }

  function sweepAll(){
    const area = document.getElementById('mapArea');
    if(!area) return;
    const list = Array.from(area.querySelectorAll('.marker'));
    const groups = new Map();
    list.forEach(el=>{
      const k = keyFor(el);
      if(!groups.has(k)) groups.set(k, []);
      groups.get(k).push(el);
    });
    groups.forEach((arr, k)=>{
      if(arr.length <= 1) return;
      // keep the 'selected' one if any; otherwise keep the last appended
      let keep = arr.find(n=>n.classList.contains('selected')) || arr[arr.length-1];
      arr.forEach(n=>{ if(n!==keep) n.remove(); });
    });
  }

  // Run on any click on the map || a marker, after handlers finished
  document.addEventListener('click', function(ev){
    const t = ev.target;
    if(!t) return;
    if(t.closest && (t.closest('#mapArea') || t.closest('#mapArea .marker'))){
      setTimeout(sweepAll, 0);
    }
  }, true);

  // Also sweep after render()
  const _r = window.render;
  if(typeof _r === 'function' && !_r.__strongDedupWrapped){
    window.render = function(){
      const out = _r.apply(this, arguments);
      try{ sweepAll(); }catch(e){}
      return out;
    };
    window.render.__strongDedupWrapped = true;
  }

  // Final defense: periodic sweep for late async inserts
  setInterval(sweepAll, 400);
})();
</script>
<script id="mlg-filter-saveDailyOverrideV2-xy">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  try{
    if(typeof window.saveDailyOverrideV2 === 'function' && !window.saveDailyOverrideV2.__xyFiltered){
      const _orig = window.saveDailyOverrideV2;
      window.saveDailyOverrideV2 = function(key, uid, payload){
        try{
          // Drop x/y overrides globally: positions are global by design
          if(payload && typeof payload==='object'){
            if('x' in payload) delete payload.x;
            if('y' in payload) delete payload.y;
          }
        }catch(e){}
        return _orig.apply(this, arguments);
      };
      window.saveDailyOverrideV2.__xyFiltered = true;
    }
  }catch(e){}
})();
</script>
<script id="intro-auto-hide-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  var intro = document.getElementById('pageIntro');
  if(!intro) return;

  // Create the top-right toggle button (no external icon deps)
  var btn = document.createElement('button');
  btn.id = 'introToggle';
  btn.className = 'intro-toggle';
  btn.setAttribute('aria-controls','pageIntro');
  btn.setAttribute('aria-expanded','false');
  btn.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="10" fill="currentColor" opacity=".2"></circle><path d="M11 10h2v7h-2zM11 7h2v2h-2z" fill="currentColor"></path></svg><span>Info</span>';
  document.body.appendChild(btn);

  var LSKEY = 'introHidden';
  var PREF = localStorage.getItem(LSKEY);

  function hideIntro(savePref){
    if(intro.classList.contains('is-hidden')) return;
    intro.classList.add('is-hidden');
    btn.classList.add('show');
    btn.setAttribute('aria-expanded','false');
    if(savePref) localStorage.setItem(LSKEY, 'true');
  }
  function showIntro(savePref){
    intro.style.display = '';
    requestAnimationFrame(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 intro.classList.remove('is-hidden'); });
    btn.classList.remove('show');
    btn.setAttribute('aria-expanded','true');
    if(savePref) localStorage.setItem(LSKEY, 'false');
    // Scroll into view only on manual open
    intro.scrollIntoView({behavior:'smooth', block:'start'});
  }

  // After transition completes, actually remove from flow
  intro.addEventListener('transitionend', function(e){
    if(e.propertyName !== 'max-height') return;
    if(intro.classList.contains('is-hidden')) intro.style.display = 'none';
  });

  // Toggle manual
  btn.addEventListener('click', function(){
    if(intro.classList.contains('is-hidden')) showIntro(true);
    else hideIntro(true);
  });

  // Initial state: respect stored preference; if none, auto-hide after 5s
  if(PREF === 'true'){
    // start hidden
    hideIntro(false);
    // ensure display:none applied promptly
    intro.style.display = 'none';
    btn.classList.add('show');
  } else {
    // If user previously chose to keep it visible, don't auto-hide
    var shouldAutohide = (PREF === null);
    
  window.addEventListener('resize', positionBackButton);
  window.addEventListener('scroll', positionBackButton, {passive:true});

  if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', function(){
        if(shouldAutohide) setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 hideIntro(true); }, 5000);
      });
    } else {
      if(shouldAutohide) setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 hideIntro(true); }, 5000);
    }
  }
})();
</script>
<!-- SECTOR CONDITION PRO v4 -->
<script id="sector-cond-pro-v4">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorCondProV4) return; window.__sectorCondProV4 = true;

  var STORAGE_KEY = 'sectorCondMiniV1'; // reuse
  var GRID_DEFAULT = {rows:8, cols:6};
  var MIN_PROB_WET = 60;
  var LOG = (new URLSearchParams(location.search).get('debug')==='1');
  function log(){ try{ if(LOG) console.log.apply(console, ['[sector-pro v4]'].concat([].slice.call(arguments))); }catch(e){} }
  function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }
  function todayISO(){ var d=new Date(); d.setHours(0,0,0,0); return d.toISOString().slice(0,10); }
  function loadStore(){ try{ var j=JSON.parse(localStorage.getItem(STORAGE_KEY))||{}; if(!j.grid) j.grid=Object.assign({},GRID_DEFAULT); if(!j.overrides) j.overrides={}; return j; }catch(e){ return {grid:Object.assign({},GRID_DEFAULT), overrides:{}}; } }
  function saveStore(s){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }catch(e){} }
  function setGrid(r,c){ var s=loadStore(); s.grid.rows=clamp(+r||GRID_DEFAULT.rows,1,50); s.grid.cols=clamp(+c||GRID_DEFAULT.cols,1,50); saveStore(s); }

  function xyForLatLon(lat,lon){ try{ if(typeof window.latLonToXY==='function'){ var xy=window.latLonToXY(+lat,+lon); if(xy) return {x:clamp(+xy.x,0,100), y:clamp(+xy.y,0,100)}; } }catch(e){} return null; }
  function sectorIdFromXY(xy){ var s=loadStore(); var rows=s.grid.rows, cols=s.grid.cols; var cellW=100/cols, cellH=100/rows; var c=clamp(Math.floor(xy.x/cellW),0,cols-1); var r=clamp(Math.floor(xy.y/cellH),0,rows-1); return r+'-'+c; }
  function sectorIdForLatLon(lat,lon){ var xy=xyForLatLon(lat,lon); return xy? sectorIdFromXY(xy): null; }

  function dayHourRange(fc,d){
    try{
      var dayISO=(fc.daily&&fc.daily.time&&fc.daily.time[d])||null; if(!dayISO) return null;
      var times=(fc.hourly&&fc.hourly.time)||[];
      var start=times.findIndex(function(t){ return (t||'').startsWith(dayISO); });
      if(start<0) return null;
      var end=times.length; for(var i=start+1;i<times.length;i++){ if(!times[i].startsWith(dayISO)){ end=i; break; } }
      if(!isFinite(end)) end=Math.min(times.length,start+24);
      return {start:start,end:end};
    }catch(e){ return null; }
  }

  function applyToForecast(fc){
    if(!fc) return;
    var sid = sectorIdForLatLon(fc.latitude, fc.longitude);
    if(!sid) return;
    var store = loadStore();
    var times = (fc.daily && fc.daily.time) || [];
    for(var d=0; d<times.length; d++){
      var dateISO = times[d];
      var dayOvs = store.overrides[dateISO] || {};
      var ov = dayOvs[sid];
      if(!ov || ov.code==null) continue;
      var code = +ov.code;
      if(Array.isArray(fc.daily.weathercode)) fc.daily.weathercode[d] = code;
      var rng = dayHourRange(fc,d);
      if(rng && Array.isArray(fc.hourly.weathercode)){
        for(var i=rng.start;i<rng.end;i++){ fc.hourly.weathercode[i] = code; }
      }
      var wet = {51:1,53:1,55:1,56:1,57:1,61:1,63:1,65:1,66:1,67:1,71:1,73:1,75:1,77:1,80:1,81:1,82:1,85:1,86:1,95:1,96:1,99:1};
      if(rng && fc.hourly.precipitation_probability && wet[code]){
        for(var i=rng.start;i<rng.end;i++){ var cur=Number(fc.hourly.precipitation_probability[i]||0); if(!(isFinite(cur)&&cur>=MIN_PROB_WET)) fc.hourly.precipitation_probability[i]=MIN_PROB_WET; }
      }
      log('applied', dateISO, sid, 'code', code);
    }
  }
  window.applySectorCondMiniToForecast = applyToForecast;

  // ===== UI =====
  function buildPanel(){
    var box=document.createElement('div');
    box.id='sector-pro-panel';
    box.style.cssText='position:fixed;z-index:999999;top:64px;left:50%;transform:translateX(-50%);width:560px;background:#0b1f28;color:#e6f1f5;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.35);display:none;font-family:inherit;';
    box.innerHTML='\
      <div style="padding:10px 12px;display:flex;justify-content:space-between;align-items:center;font-weight:700">\
        <span>Condizione settore (PRO)</span>\
        <div style="display:flex;gap:6px;align-items:center">\
          <button id="proApplyNow" title="Applica subito all\'anteprima" style="padding:6px 8px;border-radius:8px;background:#2a7b62;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Applica adesso</button>\
          <button id="proClose" style="all:unset;cursor:pointer;font-size:18px">‚úï</button>\
        </div>\
      </div>\
      <div style="padding:2px 12px 10px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">\
        <label style="white-space:nowrap">Localit√†:</label>\
        <input id="proQuery" placeholder="es. Monte Scuro" style="flex:1;min-width:220px;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;color:#e6f1f5" />\
        <button id="proFind" style="padding:6px 10px;border-radius:8px;background:#134151;color:#e6f1f5;border:1px solid rgba(255,255,255,.12);cursor:pointer">Trova settore</button>\
        <span id="proSector" style="margin-left:6px;opacity:.85"></span>\
      </div>\
      <div style="padding:0 12px 8px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">\
        <label>Giorno:</label>\
        <select id="proDay"></select>\
        <a id="proUseFcDays" href="#" style="margin-left:6px;color:#6ec1ff;text-decoration:underline">Usa i giorni reali del 7‚Äëgiorni</a>\
        <label style="margin-left:auto">Griglia:</label>\
        <input id="proRows" type="number" min="1" max="50" value="'+GRID_DEFAULT.rows+'" style="width:54px;padding:4px;background:#0e2a36;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;border-radius:8px"> √ó \
        <input id="proCols" type="number" min="1" max="50" value="'+GRID_DEFAULT.cols+'" style="width:54px;padding:4px;background:#0e2a36;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;border-radius:8px">\
        <button id="proGridApply" style="padding:6px 10px;border-radius:8px;background:#0e2a36;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Applica griglia</button>\
        <a id="proScan" href="#" style="margin-left:6px;color:#6ec1ff;text-decoration:underline">Rileva icone</a>\
      </div>\
      <div id="proIcons" style="padding:4px 12px 8px;display:grid;grid-template-columns:repeat(7,1fr);gap:8px;min-height:58px"></div>\
      <div style="padding:8px 12px 14px;display:flex;gap:8px;align-items:center;justify-content:space-between">\
        <div style="opacity:.75;font-size:12px">Oppure WMO manuale: <input id="proManual" type="number" style="width:80px;padding:4px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;color:#e6f1f5" placeholder="es. 61"></div>\
        <div>\
          <button id="proClear" style="padding:6px 10px;border-radius:8px;background:#0e2a36;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Pulisci</button>\
          <button id="proSave" style="padding:6px 10px;border-radius:8px;background:#2a7b62;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Salva</button>\
        </div>\
      </div>\
    ';
    document.body.appendChild(box);

    function fillDaysFromToday(){ var sel=document.getElementById('proDay'); sel.innerHTML=''; for(var d=0; d<7; d++){ var base=new Date(); base.setHours(0,0,0,0); base.setDate(base.getDate()+d); var iso=base.toISOString().slice(0,10); var opt=document.createElement('option'); opt.value=iso; opt.textContent=(d===0?'Oggi ':'')+iso; sel.appendChild(opt);} }
    function fillDaysFromFc(){ try{ var sel=document.getElementById('proDay'); sel.innerHTML=''; var arr=(window.fc&&window.fc.daily&&window.fc.daily.time)||[]; if(arr.length){ for(var i=0;i<arr.length;i++){ var iso=arr[i]; var opt=document.createElement('option'); opt.value=iso; opt.textContent=iso; sel.appendChild(opt);} } else { fillDaysFromToday(); } }catch(e){ fillDaysFromToday(); } }

    function renderIcons(list){
      var cont=document.getElementById('proIcons'); cont.innerHTML='';
      if(!list || !list.length){
        var p=document.createElement('div'); p.style.opacity='.8'; p.textContent='(Nessuna icona mappa ‚Äî usa "Rileva icone" o inserisci WMO)'; cont.appendChild(p);
        var fallback=[ {name:'Sereno', code:0},{name:'Poco', code:2},{name:'Nuvoloso', code:3},{name:'Nebbia', code:45},{name:'Pioggia', code:61},{name:'Temporali', code:95},{name:'Neve', code:71} ];
        fallback.forEach(function(f){ var b=document.createElement('button'); b.style.cssText='all:unset;cursor:pointer;border-radius:10px;padding:6px 8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;'; b.className='proIcon'; b.setAttribute('data-code', String(f.code)); b.textContent=f.name; b.onclick=function(){ cont.querySelectorAll('.proIcon').forEach(x=>x.classList.remove('selected')); b.classList.add('selected'); b.style.outline='2px solid #2a7b62'; }; cont.appendChild(b); });
        var clr=document.createElement('button'); clr.style.cssText='all:unset;cursor:pointer;border-radius:10px;padding:6px 8px;border:1px dashed rgba(255,255,255,.25);background:#0e2a36;'; clr.className='proIcon'; clr.setAttribute('data-code',''); clr.textContent='Pulisci'; clr.onclick=function(){ cont.querySelectorAll('.proIcon').forEach(x=>x.classList.remove('selected')); clr.classList.add('selected'); clr.style.outline='2px solid #9b2a2a'; }; cont.appendChild(clr);
        return;
      }
      list.forEach(function(it){ var btn=document.createElement('button'); btn.style.cssText='all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px solid rgba(255,255,255,.12);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36'; btn.className='proIcon'; btn.setAttribute('data-code', it.code!=null? String(it.code): ''); var img=document.createElement('img'); img.src=it.url; img.alt='icon'; img.style.cssText='width:28px;height:28px;object-fit:contain'; var cap=document.createElement('div'); cap.style.cssText='font-size:11px;opacity:.85'; cap.textContent=(it.code!=null? ('WMO '+it.code): '?'); btn.appendChild(img); btn.appendChild(cap); btn.onclick=function(){ cont.querySelectorAll('.proIcon').forEach(function(b){ b.style.outline='none'; b.classList.remove('selected'); }); btn.classList.add('selected'); btn.style.outline='2px solid #2a7b62'; }; cont.appendChild(btn); });
      var clr=document.createElement('button'); clr.style.cssText='all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px dashed rgba(255,255,255,.25);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36'; clr.className='proIcon'; clr.setAttribute('data-code',''); var cap2=document.createElement('div'); cap2.style.cssText='font-size:11px;opacity:.75'; cap2.textContent='Pulisci'; clr.appendChild(document.createTextNode('üßΩ')); clr.appendChild(cap2); clr.onclick=function(){ cont.querySelectorAll('.proIcon').forEach(function(b){ b.style.outline='none'; b.classList.remove('selected'); }); clr.classList.add('selected'); clr.style.outline='2px solid #9b2a2a'; }; cont.appendChild(clr);
    }
    function currentSelectedCode(){ var btn=document.querySelector('#proIcons .proIcon.selected'); if(btn) return btn.getAttribute('data-code')||''; var manual=document.getElementById('proManual').value.trim(); return manual; }

    function guessCodeFromIcon(u){ if(typeof u!=='string') return null; var low=u.toLowerCase(); try{ var url=new URL(u); low=(url.pathname||'').split('/').pop().toLowerCase()||low; }catch(e){}; if(low.includes('tempor')||low.includes('thunder')||low.includes('storm')) return 95; if(low.includes('rovesc')||low.includes('shower')||low.includes('piogg')||low.includes('rain')) return 61; if(low.includes('neve')||low.includes('snow')) return 71; if(low.includes('nebb')||low.includes('fog')||low.includes('mist')) return 45; if(low.includes('nuvol')||low.includes('cloud')||low.includes('overcast')) return 3; if(low.includes('poco')||low.includes('parz')||low.includes('partly')) return 2; if(low.includes('sereno')||low.includes('sole')||low.includes('sun')||low.includes('clear')) return 0; return null; }
    function collectIconsForDay(idx){ var out=[], seen={}; try{ var day=(Array.isArray(window.DAYS)&&window.DAYS[idx])?window.DAYS[idx]:null; if(!day||!day.points) return out; for(var i=0;i<day.points.length;i++){ var u=day.points[i]&&day.points[i].icon; if(!u) continue; var key=String(u); if(seen[key]) continue; seen[key]=1; out.push({url:u, code:guessCodeFromIcon(u)}); } }catch(e){} return out; }
    function collectIconsAll(){ var out=[], seen={}; try{ if(!Array.isArray(window.DAYS)) return out; for(var d=0; d<window.DAYS.length; d++){ var day=window.DAYS[d]; if(!day||!day.points) continue; for(var i=0;i<day.points.length;i++){ var u=day.points[i]&&day.points[i].icon; if(!u) continue; var key=String(u); if(seen[key]) continue; seen[key]=1; out.push({url:u, code:guessCodeFromIcon(u)}); } } }catch(e){} return out; }
    async function waitDays(ms){ var t=Date.now(),lim=isFinite(ms)?ms:6000; while(Date.now()-t<lim){ if(Array.isArray(window.DAYS)&&window.DAYS.length&&window.DAYS[0].points&&window.DAYS[0].points.length) return true; await new Promise(r=>setTimeout(r,60)); } return false; }

    // Grid overlay (admin only)
    var overlay=null;
    function showOverlay(){ var s=loadStore(); if(overlay) overlay.remove(); overlay=document.createElement('div'); overlay.id='sector-grid-overlay'; overlay.style.cssText='position:fixed;inset:0;z-index:999998;pointer-events:none;'; var rows=s.grid.rows, cols=s.grid.cols; var svg='<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">'; svg+='<rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"transparent\" stroke=\"rgba(255,255,255,.08)\" stroke-width=\"0.2\"/>'; for(var r=1;r<rows;r++){ var y=100*r/rows; svg+='<line x1=\"0\" y1=\"'+y+'\" x2=\"100\" y2=\"'+y+'\" stroke=\"rgba(255,255,255,.08)\" stroke-width=\"0.2\" />'; } for(var c=1;c<cols;c++){ var x=100*c/cols; svg+='<line y1=\"0\" x1=\"'+x+'\" y2=\"100\" x2=\"'+x+'\" stroke=\"rgba(255,255,255,.08)\" stroke-width=\"0.2\" />'; } svg+='</svg>'; overlay.innerHTML=svg; document.body.appendChild(overlay); }
    function hideOverlay(){ if(overlay){ overlay.remove(); overlay=null; } }

    function attachHandlers(){
      var daySel=document.getElementById('proDay');
      document.getElementById('proUseFcDays').onclick=function(e){ e.preventDefault(); fillDaysFromFc(); };
      document.getElementById('proGridApply').onclick=function(){ var r=+document.getElementById('proRows').value; var c=+document.getElementById('proCols').value; if(!(r>0 && c>0)){ alert('La griglia deve avere almeno 1√ó1'); return; } setGrid(r,c); showOverlay(); };
      document.getElementById('proScan').onclick=async function(e){ e.preventDefault(); await waitDays(5000); var idx=Math.max(0, Math.min(6, daySel.selectedIndex)); var list=collectIconsForDay(idx); if(!list.length) list=collectIconsAll(); renderIcons(list); };
      document.getElementById('proFind').onclick=async function(){ try{ var q=document.getElementById('proQuery').value.trim(); var lbl=document.getElementById('proSector'); lbl.textContent='...'; var g= (typeof window.geocode==='function') ? await window.geocode(q) : null; if(!g){ lbl.textContent='Non trovato'; return; } var sid=sectorIdForLatLon(g.latitude, g.longitude); lbl.textContent='Settore: '+sid; lbl.setAttribute('data-sid', sid); }catch(e){ document.getElementById('proSector').textContent='Errore'; } };
      document.getElementById('proClear').onclick=function(){ var iso=daySel.value; var sid=document.getElementById('proSector').getAttribute('data-sid'); if(!sid){ alert('Prima usa "Trova settore".'); return; } var s=loadStore(); if(s.overrides[iso]){ delete s.overrides[iso][sid]; saveStore(s); } alert('Override rimosso per '+iso+', '+sid); };
      document.getElementById('proSave').onclick=function(){ var iso=daySel.value; var sid=document.getElementById('proSector').getAttribute('data-sid'); if(!sid){ alert('Prima usa "Trova settore".'); return; } var code=currentSelectedCode(); var s=loadStore(); if(!s.overrides[iso]) s.overrides[iso]={}; s.overrides[iso][sid] = (code===''||code==null) ? {code:null} : {code:+code}; saveStore(s); alert('Salvato '+(code===''?'(pulito)':'WMO '+code)+' per '+iso+', '+sid); };
      document.getElementById('proApplyNow').onclick=function(){ try{ if(window.fc){ applyToForecast(window.fc); if(typeof window.render==='function') window.render(); } }catch(e){} };
      document.getElementById('proClose').onclick=function(){ hideOverlay(); box.style.display='none'; };
    }

    function openPanel(){ if(!document.getElementById('proDay')){ return; } showOverlay(); fillDaysFromFc(); renderIcons([]); attachHandlers(); }
    openPanel(); // init when created
    return box;
  }

  var panel=null;
  function openPro(){ if(!panel) panel=buildPanel(); panel.style.display='block'; showOverlay(); }
  function togglePro(){ if(!panel) panel=buildPanel(); if(panel.style.display==='none'||!panel.style.display){ panel.style.display='block'; showOverlay(); } else { panel.style.display='none'; } }
  window.__openSectorPro = openPro;

  // Hotspot
  var spot=document.createElement('div'); spot.id='sector-pro-spot'; spot.style.cssText='position:fixed;top:6px;left:6px;width:12px;height:12px;opacity:0;z-index:999998;cursor:pointer;';
  var clicks=0,t=null; spot.addEventListener('click', function(){ clicks++; clearTimeout(t); t=setTimeout(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
clicks=0;},700); if(clicks>=3){ clicks=0; openPro(); } });
  document.body.appendChild(spot);
  window.addEventListener('keydown', function(ev){ if(ev.ctrlKey&&ev.altKey&&(ev.key==='s'||ev.key==='S')){ ev.preventDefault(); togglePro(); } });

  // Hook run + render
  (function hook(){
    try{ var oldRun=window.run; if(typeof oldRun==='function'){ window.run=async function(q){ var r=await oldRun.call(this,q); try{ if(window.fc) applyToForecast(window.fc); }catch(e){} return r; }; } }catch(e){}
    var oldRender=window.render; if(typeof oldRender==='function'){ window.render=async function(){ try{ if(window.fc) applyToForecast(window.fc); }catch(e){} return oldRender.apply(this, arguments); }; }
  })();

})();
</script>
<!-- === SECTOR PRO ‚Ä¢ Fasce orarie (non distruttivo) ‚Äî v1.2 (2025-08-14) === -->
<script id="sector-pro-timebands-v12">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorProTimebands) return; window.__sectorProTimebands = true;

  var STORAGE_KEY = 'sectorCondMiniV1';     // stesso store del PRO
  var MIN_PROB_WET = 60;
  var WET = {51:1,53:1,55:1,56:1,57:1,61:1,63:1,65:1,66:1,67:1,71:1,73:1,75:1,77:1,80:1,81:1,82:1,85:1,86:1,95:1,96:1,99:1};

  function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }
  function loadStore(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY))||{overrides:{},grid:{rows:8,cols:6}}; }catch(e){ return {overrides:{},grid:{rows:8,cols:6}}; } }
  function saveStore(s){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }catch(e){} }
  function latLonToXYWrap(lat,lon){
    try{ if(typeof window.latLonToXY==='function'){ return window.latLonToXY(+lat,+lon); } }catch(e){}
    return null;
  }
  function sectorIdForLatLon(lat, lon){
    var s = loadStore(); var rows = (s.grid&&s.grid.rows)||8, cols = (s.grid&&s.grid.cols)||6;
    var xy = latLonToXYWrap(lat,lon); if(!xy) return null;
    function c(v,min,max){ return Math.max(min, Math.min(max, v)); }
    var cellW=100/cols, cellH=100/rows;
    var ccol = c(Math.floor(xy.x/cellW), 0, cols-1);
    var crow = c(Math.floor(xy.y/cellH), 0, rows-1);
    return crow + '-' + ccol;
  }
  function inRange(h, start, end){ return (start<end) ? (h>=start && h<end) : (h>=start || h<end); }
  function bandToRange(name){
    var k = (name||'').toLowerCase();
    if(k==='mattina') return {start:6, end:12};
    if(k==='pomeriggio') return {start:12, end:18};
    if(k==='sera') return {start:18, end:24};
    if(k==='notte') return {start:0, end:6};
    return null;
  }
  function dayRangeIndices(fc, d){
    var dayISO = (fc.daily && fc.daily.time && fc.daily.time[d]) || null;
    if(!dayISO || !fc.hourly || !fc.hourly.time) return null;
    var times = fc.hourly.time;
    var start = -1, end = times.length;
    for(var i=0;i<times.length;i++){
      if((times[i]||'').startsWith(dayISO)){ start = i; break; }
    }
    if(start < 0) return null;
    for(var j=start+1;j<times.length;j++){
      if(!times[j].startsWith(dayISO)){ end = j; break; }
    }
    if(!isFinite(end)) end = Math.min(times.length, start+24);
    return {start:start, end:end, iso:dayISO};
  }

  // --- UI injection (non distruttiva) ---
  function injectUI(){
    var panel = document.getElementById('sector-pro-panel');
    if(!panel || document.getElementById('proBandBox')) return;
    // Inserisci il blocco subito dopo la riga Giorno/griglia
    var anchor = panel.querySelector('#proIcons') || panel.lastElementChild;
    var box = document.createElement('div');
    box.id = 'proBandBox';
    box.style.cssText = 'padding:0 12px 8px; display:flex; gap:10px; align-items:center; flex-wrap:wrap;';
    box.innerHTML = ''
      + '<label style="white-space:nowrap;font-weight:600">Fascia:</label>'
      + '<select id="proBand" style="padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;color:#e6f1f5">'
      +   '<option value="full">Giorno intero (default)</option>'
      +   '<option value="mattina">Mattina (6‚Äì12)</option>'
      +   '<option value="pomeriggio">Pomeriggio (12‚Äì18)</option>'
      +   '<option value="sera">Sera (18‚Äì24)</option>'
      +   '<option value="notte">Notte (0‚Äì6)</option>'
      +   '<option value="custom">Ore personalizzate‚Ä¶</option>'
      + '</select>'
      + '<span id="proHoursWrap" style="display:none;gap:6px;align-items:center">'
      +   '<label>da</label><input id="proHourStart" type="number" min="0" max="23" value="8" style="width:64px;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;color:#e6f1f5">'
      +   '<label>a</label><input id="proHourEnd" type="number" min="1" max="24" value="12" style="width:64px;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,.12);background:#0e2a36;color:#e6f1f5">'
      +   '<small style="opacity:.75">[intervallo chiuso‚Äëaperto, es. 8‚Äì12 = 08:00‚Üí11:59]</small>'
      + '</span>'
      + '<small style="opacity:.75">Suggerimento: scegli una <b>fascia</b> per non toccare i restanti orari.</small>';
    anchor.parentNode.insertBefore(box, anchor);

    var sel = box.querySelector('#proBand');
    var wrap = box.querySelector('#proHoursWrap');
    sel.addEventListener('change', function(){
      wrap.style.display = (this.value==='custom') ? 'inline-flex' : 'none';
    });

    // Se presente un override gi√† salvato, ripristina i controlli
    try{
      var daySel = panel.querySelector('#proDay');
      var iso = daySel && daySel.value;
      var sid = (panel.querySelector('#proSector')||{}).getAttribute && panel.querySelector('#proSector').getAttribute('data-sid');
      if(iso && sid){
        var s = loadStore();
        var ov = s.overrides && s.overrides[iso] && s.overrides[iso][sid];
        if(ov && ov.ranged){
          var r = ov.ranged;
          if(r.type==='band' && r.band){ sel.value = r.band; }
          else if(r.type==='hours'){ sel.value = 'custom'; wrap.style.display='inline-flex'; 
            var st = clamp(parseInt(r.start,10)||0,0,23), en = clamp(parseInt(r.end,10)||0,1,24);
            box.querySelector('#proHourStart').value = st;
            box.querySelector('#proHourEnd').value = en;
          }
        }
      }
    }catch(e){}
  }

  // prova ad iniettare quando il pannello viene creato
  var mo = new MutationObserver(function(list){
    for(var m of list){
      for(var n of m.addedNodes||[]){
        if(n && n.id === 'sector-pro-panel'){ setTimeout(injectUI, 30); }
      }
    }
  });
  try{ mo.observe(document.body, {childList:true, subtree:true}); }catch(e){}
  if(document.readyState !== 'loading') setTimeout(injectUI, 100);
  document.addEventListener('DOMContentLoaded', function(){ setTimeout(injectUI, 100); });

  // --- Persistenza non distruttiva al click su "Salva" ---
  document.addEventListener('click', function(ev){
    var t = ev.target;
    if(!t || t.id!=='proSave') return;
    try{
      var panel = document.getElementById('sector-pro-panel');
      var daySel = panel && panel.querySelector('#proDay');
      var iso = daySel && daySel.value;
      var sid = (panel && panel.querySelector('#proSector')) ? panel.querySelector('#proSector').getAttribute('data-sid') : null;
      if(!iso || !sid) return;

      var sel = (panel.querySelector('#proBand')||{}).value || 'full';
      var hs = panel.querySelector('#proHourStart'), he = panel.querySelector('#proHourEnd');
      var start = hs ? clamp(parseInt(hs.value,10)||0, 0, 23) : 0;
      var end   = he ? clamp(parseInt(he.value,10)||0, 1, 24) : 24;

      var s = loadStore();
      if(!s.overrides) s.overrides = {};
      if(!s.overrides[iso]) s.overrides[iso] = {};
      var ov = s.overrides[iso][sid] || {};

      // Legge il codice scritto dall'handler originale (se presente)
      var savedCode = (ov && ov.code!=null) ? Number(ov.code) : null;

      if(sel==='full'){
        // Giorno intero: lascia la struttura originale (ov.code)
        if(savedCode==null){
          // nessun codice salvato -> non fare nulla
        }else{
          // rimuovi eventuale ranged per non interferire
          delete ov.ranged;
          ov.code = savedCode;
          s.overrides[iso][sid] = ov;
          saveStore(s);
        }
      }else{
        // Fascia oraria: sposta il codice dentro 'ranged' e pulisci 'code' per non attivare l'override pieno
        var rangeObj = null;
        if(sel==='custom'){
          rangeObj = { type:'hours', start:start, end:end };
        }else{
          rangeObj = { type:'band', band: sel };
        }
        // Se l'utente non aveva scelto un codice, non alterare nulla
        var codeForRange = (savedCode!=null) ? Number(savedCode) : null;
        ov.ranged = { code: codeForRange, ...(rangeObj||{}) };
        ov.code = null; // IMPORTANTISSIMO: cos√¨ il vecchio apply non tocca l'intero giorno
        s.overrides[iso][sid] = ov;
        saveStore(s);
      }
      try{ if(window.toast) toast('Fascia salvata ‚úî'); }catch(e){}
    }catch(e){
      console.warn('proSave timebands patch error', e);
    }
  }, true);

  // --- Applica le fasce al dataset (prima del render) ---
  function applyRangeOverrides(fc){
    if(!fc || !fc.hourly || !fc.daily) return;
    var sid = sectorIdForLatLon(fc.latitude, fc.longitude);
    if(!sid) return;
    var s = loadStore();
    var days = (fc.daily.time||[]);
    for(var d=0; d<days.length; d++){
      var iso = days[d];
      var perDay = s.overrides && s.overrides[iso];
      var ov = perDay && perDay[sid];
      if(!ov || !ov.ranged || ov.ranged.code==null) continue;

      var code = Number(ov.ranged.code);
      var rng = dayRangeIndices(fc, d);
      if(!rng) continue;

      var start=0, end=24;
      if(ov.ranged.type==='band'){
        var br = bandToRange(ov.ranged.band); if(!br) continue;
        start = br.start; end = br.end;
      }else if(ov.ranged.type==='hours'){
        start = clamp(Number(ov.ranged.start)||0, 0, 23);
        end   = clamp(Number(ov.ranged.end)||24, 1, 24);
      }
      for(var i=rng.start; i<rng.end; i++){
        var h = +String(fc.hourly.time[i]).slice(11,13);
        if(inRange(h, start, end)){
          if(Array.isArray(fc.hourly.weathercode)) fc.hourly.weathercode[i] = code;
          if(WET[code] && Array.isArray(fc.hourly.precipitation_probability)){
            var cur = Number(fc.hourly.precipitation_probability[i]||0);
            if(!(isFinite(cur) && cur>=MIN_PROB_WET)) fc.hourly.precipitation_probability[i] = MIN_PROB_WET;
          }
        }
      }
      // NB: NON tocchiamo fc.daily.weathercode se la modifica √® parziale (fasce) per non danneggiare la logica
    }
  }

  // Hook su render/run: applica le fasce prima del rendering
  (function hook(){
    var oldRender = window.render;
    if(typeof oldRender === 'function' && !oldRender.__timebandsWrapped){
      window.render = async function(){
        try{ if(window.fc) applyRangeOverrides(window.fc); }catch(e){}
        return oldRender.apply(this, arguments);
      };
      window.render.__timebandsWrapped = true;
    }
    var oldRun = window.run;
    if(typeof oldRun === 'function' && !oldRun.__timebandsWrapped){
      window.run = async function(){
        var r = await oldRun.apply(this, arguments);
        try{ if(window.fc) applyRangeOverrides(window.fc); }catch(e){}
        return r;
      };
      window.run.__timebandsWrapped = true;
    }
  })();

})();
</script>
<!-- === Sector PRO ‚Ä¢ Timebands post-save fix (v1.3) === -->
<script id="sector-pro-timebands-postsave-v13">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorProTimebandsPostSave) return; window.__sectorProTimebandsPostSave = true;

  var STORAGE_KEY = 'sectorCondMiniV1';
  function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }
  function loadStore(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY))||{overrides:{}}; }catch(e){ return {overrides:{}}; } }
  function saveStore(s){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }catch(e){} }

  function adjustStoreFromUi(){
    var panel = document.getElementById('sector-pro-panel'); if(!panel) return;
    var daySel = panel.querySelector('#proDay'); var iso = daySel && daySel.value;
    var sidEl = panel.querySelector('#proSector'); var sid = sidEl && sidEl.getAttribute('data-sid');
    if(!iso || !sid) return;

    var sel = (panel.querySelector('#proBand')||{}).value || 'full';
    var hs = panel.querySelector('#proHourStart'); var he = panel.querySelector('#proHourEnd');
    var start = hs ? clamp(parseInt(hs.value,10)||0, 0, 23) : 0;
    var end   = he ? clamp(parseInt(he.value,10)||0, 1, 24) : 24;

    var s = loadStore(); if(!s.overrides) s.overrides = {};
    if(!s.overrides[iso]) s.overrides[iso] = {};
    var ov = s.overrides[iso][sid] || {};

    // Se non esiste alcun codice salvato, non fare nulla
    var savedCode = (ov && ov.code!=null) ? Number(ov.code) : null;
    if(sel==='full'){
      // Ripristina modalit√† "giorno intero": togli ranged se presente
      if(ov.ranged) delete ov.ranged;
      if(savedCode!=null) ov.code = savedCode;
      s.overrides[iso][sid] = ov;
      saveStore(s);
      return;
    }

    // Modalit√† a fascia/ore: sposta il codice in 'ranged' e azzera 'code'
    var rangeObj = (sel==='custom')
      ? { type:'hours', start:start, end:end }
      : { type:'band', band: sel };

    var codeForRange = (savedCode!=null) ? Number(savedCode) : null;
    ov.ranged = { code: codeForRange, ...(rangeObj||{}) };
    ov.code = null; // fondamentale per NON applicare l'intero giorno
    s.overrides[iso][sid] = ov;
    saveStore(s);
  }

  function wrapSaveOnce(){
    var btn = document.getElementById('proSave');
    if(!btn || btn.__tbWrap) return;
    var old = btn.onclick;
    btn.onclick = function(ev){
      // Esegui prima l'handler originale (salva il codice come fai di solito)
      var r; try{ if(typeof old==='function') r = old.call(this, ev); }catch(e){}
      // Poi correggi la struttura per trasformarla in override a fascia/ore
      try{ adjustStoreFromUi(); }catch(e){}
      return r;
    };
    btn.__tbWrap = true;
  }

  // Inoltre, se abbiamo vecchi salvataggi con both {code} + {ranged}, pulisci 'code' al volo
  function sanitizeStore(){
    var s = loadStore(); var ch = false;
    var ovs = s.overrides||{};
    Object.keys(ovs).forEach(function(iso){
      var per = ovs[iso]||{};
      Object.keys(per).forEach(function(sid){
        var ov = per[sid];
        if(ov && ov.ranged && ov.code!=null){
          ov.code = null; ch = true;
        }
      });
    });
    if(ch) saveStore(s);
  }

  // Patch per l'applicazione degli override "full-day" originali: se esiste 'ranged', non applicare full-day
  function patchApply(){
    var ap = window.applySectorCondMiniToForecast;
    if(typeof ap !== 'function' || ap.__tbPatched) return;
    window.applySectorCondMiniToForecast = function(fc){
      sanitizeStore(); // garantisce che 'code' sia nullo quando abbiamo 'ranged'
      return ap.apply(this, arguments);
    };
    window.applySectorCondMiniToForecast.__tbPatched = true;
  }

  // Osserva la creazione del pannello e applica le wrap
  var mo = new MutationObserver(function(list){
    for(var m of list){
      for(var n of (m.addedNodes||[])){
        if(n && n.id==='sector-pro-panel'){ setTimeout(wrapSaveOnce, 10); }
      }
    }
  });
  try{ mo.observe(document.body, {childList:true, subtree:true}); }catch(e){}
  if(document.readyState!=='loading'){ setTimeout(wrapSaveOnce, 200); setTimeout(patchApply, 200); }
  document.addEventListener('DOMContentLoaded', function(){ setTimeout(wrapSaveOnce, 200); setTimeout(patchApply, 200); });

  // Periodico di sicurezza (in caso di riassegnazione handler)
  setInterval(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 try{ wrapSaveOnce(); patchApply(); }catch(e){} }, 1200);

})();
</script>
<!-- === Sector PRO ‚Ä¢ Timebands order fix (v1.4) ‚Äî apply AFTER PRO === -->
<script id="sector-pro-timebands-order-v14">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorProTimebandsOrder) return; window.__sectorProTimebandsOrder = true;
  function afterWrap(){
    var oldR = window.render;
    if(typeof oldR==='function' && !oldR.__tbAfter){
      window.render = function(){
        var out = oldR.apply(this, arguments);
        try{ if(window.fc && typeof window.__applyRangeOverrides==='function'){ window.__applyRangeOverrides(window.fc); } }catch(e){}
        return out;
      };
      window.render.__tbAfter = true;
    }
    var oldRun = window.run;
    if(typeof oldRun==='function' && !oldRun.__tbAfter){
      window.run = async function(){
        var r = await oldRun.apply(this, arguments);
        try{ if(window.fc && typeof window.__applyRangeOverrides==='function'){ window.__applyRangeOverrides(window.fc); } }catch(e){}
        return r;
      };
      window.run.__tbAfter = true;
    }
  }
  // expose applyRangeOverrides so we can call it here
  try{
    if(window.__sectorProTimebands && typeof applyRangeOverrides==='function'){
      window.__applyRangeOverrides = applyRangeOverrides;
    }
  }catch(e){}
  afterWrap();
  setInterval(afterWrap, 1000); // in caso di re-wrap da altri script
})();
</script>
<!-- === Sector PRO ‚Ä¢ Mobile optimizations (v1.0) ‚Äî non-destructive === -->
<style id="sector-pro-mobile-v10">
@media (max-width: 720px){
  #sector-pro-panel{
    position: fixed;
    left: 0; right: 0; bottom: 0;
    top: auto;
    z-index: 9999;
    width: 100vw; max-width: 100vw;
    max-height: 88vh;
    padding: 12px !important;
    border-radius: 16px 16px 0 0 !important;
    box-sizing: border-box;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
  #sector-pro-panel *{ box-sizing: border-box; }

  /* Evita trasbordi orizzontali */
  #sector-pro-panel .card,
  #sector-pro-panel .box,
  #sector-pro-panel .row,
  #sector-pro-panel .col,
  #sector-pro-panel .grid,
  #sector-pro-panel table,
  #sector-pro-panel pre{ max-width: 100%; overflow-x: auto; }
  #sector-pro-panel img, #sector-pro-panel svg{ max-width: 100%; height: auto; }

  /* Input tap-friendly e senza zoom iOS */
  #sector-pro-panel select,
  #sector-pro-panel input[type="text"],
  #sector-pro-panel input[type="number"],
  #sector-pro-panel input[type="search"],
  #sector-pro-panel button{
    font-size: 16px; /* evita zoom su iOS */
  }

  /* Fasce orarie UI: a colonna su mobile */
  #sector-pro-panel #proBandBox{
    display: grid !important;
    grid-template-columns: 1fr;
    gap: 8px;
    padding: 8px 0;
  }
  #sector-pro-panel #proHoursWrap{
    display: grid !important;
    grid-template-columns: auto 1fr auto 1fr;
    gap: 6px;
  }
  #sector-pro-panel #proBand,
  #sector-pro-panel #proHourStart,
  #sector-pro-panel #proHourEnd{ width: 100%; }

  /* Griglia icone responsive (se presente) */
  #sector-pro-panel #proIcons{
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(64px, 1fr));
    gap: 10px;
  }

  /* Griglia settori responsive (fallback su classi generiche) */
  #sector-pro-panel [data-sector-grid],
  #sector-pro-panel .sectors{
    display: grid !important;
    grid-template-columns: repeat(3, 1fr);
    gap: 6px;
  }
  @media (max-width: 420px){
    #sector-pro-panel [data-sector-grid],
    #sector-pro-panel .sectors{ grid-template-columns: repeat(2, 1fr); }
  }

  /* Barra azioni sticky in basso */
  #sector-pro-panel .actions,
  #sector-pro-panel .footer,
  #sector-pro-panel .buttons{
    position: sticky;
    bottom: 0;
    background: inherit;
    padding-top: 8px;
    margin-top: 8px;
  }
  #sector-pro-panel #proSave{ width: 100%; }

  /* Spaziatura compatta */
  #sector-pro-panel h1, #sector-pro-panel h2, #sector-pro-panel h3{
    margin: 6px 0;
  }
}
</style>
<!-- PATCH: force headline icon in 7‚ÄëGiorni, even if other scripts overwrite renderDaily -->
<script id="daily-headline-force">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__dailyHeadlineForced) return;
  window.__dailyHeadlineForced = true;

  function dailyHeadlineCode(fc, i){
    const cd = (fc.daily.weathercode_day && fc.daily.weathercode_day[i]!=null) ? Number(fc.daily.weathercode_day[i]) : undefined;
    const cn = (fc.daily.weathercode_night && fc.daily.weathercode_night[i]!=null) ? Number(fc.daily.weathercode_night[i]) : undefined;
    const c  = (fc.daily.weathercode && fc.daily.weathercode[i]!=null) ? Number(fc.daily.weathercode[i]) : undefined;
    const candidates = [cd,c,cn].filter(v=>v!=null);
    const buckets = [
      [95,96,99],
      [82,67,65,75,86],
      [80,81,61,63,71,73,85],
      [45,48],
      [3,2,1,0]
    ];
    for(const group of buckets){
      for(const v of candidates){ if(group.includes(Number(v))) return Number(v); }
    }
    return candidates.length?Number(candidates[0]):2;
  }

  function renderDailyForced(fc){
    let h='<div class="card"><h3>Previsioni fino a una settimana</h3><div class="days">';
    for(let i=0;i<fc.daily.time.length;i++){
      const head = dailyHeadlineCode(fc,i);
      h += `
        <div class="day">
          <div>${fc.daily.time[i].slice(5)}</div>
          <span class="daily-icon">
            ${iconHTML_NOEMOJI(head,false)}
            <i class="fa-solid ${iconFA(head)} alt-icon" aria-hidden="true"></i>
          </span>
          <div class="tmax">${Math.round(fc.daily.temperature_2m_max[i])}¬∞</div>
          <div class="tmin">${Math.round(fc.daily.temperature_2m_min[i])}¬∞</div>
        </div>`;
    }
    h+='</div></div>';
    return h;
  }

  // If there's an existing renderDaily, replace it with ours.
  if(typeof window.renderDaily === 'function'){
    window.renderDaily = renderDailyForced;
  }

  // If #dailyPanel is already present and was filled without our patch, re-render now.
  document.addEventListener('DOMContentLoaded', function(){
    try{
      if(window.fc && document.getElementById('dailyPanel')){
        document.getElementById('dailyPanel').innerHTML = renderDailyForced(window.fc);
      }
    }catch(e){}
  });
})();
</script>
<!-- === Sector PRO ‚Ä¢ Extra icons from Admin panel (non-destructive) ‚Äî v1.0 === -->
<script id="sector-pro-extra-icons-v10">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__sectorProExtraIcons__) return; 
  window.__sectorProExtraIcons__ = true;

  // Copy of the icon set used in the other (Admin) control panel
  const EXTRA_ICON_SET = [
    "Sereno giorno.PNG","Sereno notte.PNG",
    "Parzialmente nuvoloso giorno.PNG","Parz nuvoloso notte.PNG",
    "nuvoloso.png","Nebbia nuvole basse.PNG",
    "Possibili piovaschi giorno.PNG","Possibili piovaschi notte.PNG",
    "Pioggia debole.PNG","Pioggia moderata.PNG","Neve .PNG",
    "Possibili temporali.PNG","Poco nuvoloso giorno.PNG","Poco nuvoloso notte.PNG",
    "Pioggia mista a neve.PNG","pioggia forte.png",
    "Mare grosso.PNG","Mare mosso.PNG","Mare poco mosso.PNG",
    "Nuvoloso.PNG",
    "ventodebole.png","ventoforte.png","ventonormale.png",
    "molto nuvoloso giorno (2).png","molto nuvoloso notte.png",
    "pioggia e schiarite giorno.png","pioggia e schiarite notte.png",
    "temporale moderato e schiarite notte.png","temporale moderato e schiarite giorno.png",
    "temporale moderato.png","coperto.png","molto nuvoloso giorno.png","molto nuvoloso notte.png"
  ];

  // Map extra icons to a safe WMO code (visual-only icons like sea/wind map to a neutral cloud code 2/3)
    // ======= LOCKED: ICON‚ÜíWMO MAPPING (do not change) =======
  // Questa funzione assegna un codice WMO "sicuro" alle icone extra del pannello PRO.
  // IMPORTANTE: l'ordine dei controlli √® intenzionale per evitare collisioni di stringhe.
  // Esempio: "poco nuvoloso" contiene "nuvoloso" ‚Üí va intercettato PRIMA del controllo generico "nuvoloso".
  // - "poco nuvoloso"  ‚Üí 1  (few clouds)
  // - "parzialmente nuvoloso"/"parz" ‚Üí 2
  // - "nuvoloso"/"coperto"/"molto nuvoloso" ‚Üí 3
  // - Mare/Vento sono icone solo visive ‚Üí 2 (neutro non precipitante)
  // - Precipitazioni/temporali/neve/nebbia mappano ai rispettivi codici WMO
  function wmoFromName(name){
    const s = String(name||"").toLowerCase();

    // Fenomeni con priorit√† alta
    if (s.includes("tempor")) return 95;
    if (s.includes("pioggia forte")) return 82;
    if (s.includes("pioggia mista a neve")) return 71;
    if (s.includes("piovaschi") || s.includes("schiarite") || s.includes("pioggia") || s.includes("rain")) return 61;
    if (s.includes("neve") || s.includes("snow")) return 71;
    if (s.includes("nebb")) return 45;

    // Coperture nuvolose ‚Äî ordine SPECIFICO (non invertire):
    if (s.includes("molto nuvoloso") || s.includes("coperto")) return 3;  // pi√π chiuso
    if (s.includes("poco nuvoloso") || s.includes("poco")) return 1;      // pochi cumuli
    if (s.includes("parzialmente") || s.includes("parz")) return 2;       // parzialmente nuvoloso
    // generic "nuvoloso" solo alla fine
    if (s.includes("nuvoloso")) return 3;

    // Sereno
    if (s.includes("sereno") || s.includes("clear")) return 0;

    // Mare/vento e simili: usa un codice neutro non precipitante
    if (s.includes("mare") || s.includes("vento")) return 2;

    // Fallback neutro
    return 2;
  }
  // ======= END LOCKED =======
function buildImg(icon){
    if (typeof window.buildDirectIconHTML_NOEMOJI === "function"){
      return window.buildDirectIconHTML_NOEMOJI(icon);
    }
    // fallback: simple <img> with the filename (paths are already fixed by builder elsewhere)
    const img = document.createElement("img");
    img.src = String(icon);
    img.alt = "";
    img.className = "weather-icon";
    img.style.width = "28px";
    img.style.height = "28px";
    img.style.objectFit = "contain";
    return img.outerHTML;
  }

  function makeButton(icon){
    const code = wmoFromName(icon);
    const btn = document.createElement("button");
    btn.className = "proIcon";
    btn.setAttribute("data-code", String(code));
    btn.style.cssText = "all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px solid rgba(255,255,255,.12);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36";
    // content
    const wrap = document.createElement("div");
    wrap.innerHTML = buildImg(icon);
    const img = wrap.firstChild;
    const cap = document.createElement("div");
    cap.style.cssText = "font-size:11px;opacity:.85";
    cap.textContent = "WMO " + code;
    btn.appendChild(img);
    btn.appendChild(cap);
    btn.addEventListener("click", function(){
      const cont = btn.parentElement;
      if(!cont) return;
      cont.querySelectorAll(".proIcon").forEach(b => { b.style.outline="none"; b.classList.remove("selected"); });
      btn.classList.add("selected");
      btn.style.outline = "2px solid #2a7b62";
    });
    return btn;
  }

  function addExtras(container){
    if(!container || container.querySelector("[data-extra-icons='1']")) return;
    // divider
    const title = document.createElement("div");
    title.textContent = "Altre icone";
    title.style.cssText = "grid-column:1 / -1;opacity:.9;font-size:12px;padding:4px 2px;border-top:1px dashed rgba(255,255,255,.2);margin-top:4px";
    title.setAttribute("data-extra-icons", "1");
    container.appendChild(title);
    // icons
    EXTRA_ICON_SET.forEach(ic => container.appendChild(makeButton(ic)));
    // also append the 'Pulisci' button like the main list does
    const clr = document.createElement("button");
    clr.className = "proIcon";
    clr.setAttribute("data-code", "");
    clr.style.cssText = "all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px dashed rgba(255,255,255,.25);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36";
    const sponge = document.createTextNode("üßΩ");
    const cap2 = document.createElement("div");
    cap2.style.cssText = "font-size:11px;opacity:.75";
    cap2.textContent = "Pulisci";
    clr.appendChild(sponge);
    clr.appendChild(cap2);
    clr.addEventListener("click", function(){
      const cont = clr.parentElement;
      if(!cont) return;
      cont.querySelectorAll(".proIcon").forEach(b => { b.style.outline="none"; b.classList.remove("selected"); });
      clr.classList.add("selected");
      clr.style.outline = "2px solid #9b2a2a";
    });
    container.appendChild(clr);
  }

  function hook(){
    const panel = document.getElementById("sector-pro-panel");
    if(!panel) return;
    const cont = panel.querySelector("#proIcons");
    if(!cont) return;
    // rebuild extras every time icons are re-rendered (renderIcons clears the container)
    const mo = new MutationObserver(()=>{
      // add extras only after base content exists
      if(cont.children.length && !cont.querySelector("[data-extra-icons='1']")){
        addExtras(cont);
      }
    });
    try{ mo.observe(cont, {childList:true}); }catch(e){}
    // first run
    setTimeout(()=>addExtras(cont), 120);
  }

  // Run on DOM ready and also when panel is created later
  function tryHook(){
    if(document.getElementById("sector-pro-panel")){
      hook();
      return true;
    }
    return false;
  }
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", ()=>{ setTimeout(tryHook, 60); });
  }else{
    setTimeout(tryHook, 60);
  }
  // Also observe body for the panel being added dynamically
  const bodMo = new MutationObserver(()=>{ tryHook(); });
  try{ bodMo.observe(document.body, {childList:true, subtree:true}); }catch(e){}
})();
</script>
<!-- === Sector PRO ‚Ä¢ Mobile usability & overflow fix ‚Äî v1.1 === -->
<style id="sector-pro-mobile-patch-v11">
  /* Keep the panel inside the viewport on any device */
  #sector-pro-panel{
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    top: 12px !important;
    width: min(620px, 96vw) !important;
    max-height: 88vh !important;
    overflow: auto !important;
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;
    z-index: 99999 !important;
  }
  /* Make the icons responsive and prevent overflow */
  #sector-pro-panel #proIcons{
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(64px, 1fr)) !important;
    gap: 8px !important;
    align-content: start;
  }
  #sector-pro-panel .proIcon{
    width: 100% !important;
    min-height: 64px;
    display: flex !important;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    box-sizing: border-box;
  }
  #sector-pro-panel .proIcon img,
  #sector-pro-panel .proIcon .weather-icon{
    width: 28px;
    height: 28px;
    object-fit: contain;
    display: block;
  }
  #sector-pro-panel [data-extra-icons="1"]{
    grid-column: 1 / -1;
    margin-top: 2px;
    font-size: 12px;
    opacity: .9;
  }
  /* Footer buttons stay visible on small screens */
  #sector-pro-panel .panel-actions{
    position: sticky;
    bottom: 0;
    background: rgba(8,20,28,.92);
    backdrop-filter: blur(2px);
    padding-top: 6px;
    margin-top: 8px;
    border-top: 1px solid rgba(255,255,255,.08);
    z-index: 2;
  }
  @media (max-width: 480px){
    #sector-pro-panel{
      top: 8px !important;
      width: 96vw !important;
      max-height: 90vh !important;
      border-radius: 12px;
    }
    #sector-pro-panel #proIcons{
      grid-template-columns: repeat(auto-fill, minmax(56px, 1fr)) !important;
      gap: 6px !important;
    }
    #sector-pro-panel .proIcon{
      min-height: 56px;
    }
  }
</style>
<script id="sector-pro-mobile-helpers-v11">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__sectorProMobilePatch__) return;
  window.__sectorProMobilePatch__ = true;

  // Ensure footer button container has .panel-actions class for sticky behavior, without breaking anything
  function tagActions(){
    const pnl = document.getElementById("sector-pro-panel");
    if (!pnl) return;
    // Heuristic: the last row with buttons "Pulisci/Salva" etc. usually contains button elements -> tag it
    const candidates = Array.from(pnl.querySelectorAll("div,footer,section")).slice(-10);
    let found = null;
    for (const el of candidates){
      const btns = el.querySelectorAll("button");
      if (btns.length >= 2 && /salva|applica|pulisci/i.test(el.textContent||"")){
        found = el; break;
      }
    }
    if (found && !found.classList.contains("panel-actions")){
      found.classList.add("panel-actions");
    }
  }

  function clampPanel(){
    const pnl = document.getElementById("sector-pro-panel");
    if (!pnl) return;
    // Prevent the panel from drifting out of bounds if the page has its own positioning
    const r = pnl.getBoundingClientRect();
    if (r.right > window.innerWidth) pnl.style.left = "50%";
  }

  const obs = new MutationObserver(()=>{ tagActions(); clampPanel(); });
  if (document.body){
    obs.observe(document.body, {subtree:true, childList:true});
  }
  // First run
  setTimeout(()=>{ tagActions(); clampPanel(); }, 60);
  window.addEventListener("resize", clampPanel, {passive:true});
})();
</script>
<!-- === Sector PRO ‚Ä¢ Auto‚Äëharvest ALL icons from other panel ‚Äî v1.2 === -->
<script id="sector-pro-extra-icons-harvest-v12">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__sectorProExtraIconsHarvest__) return;
  window.__sectorProExtraIconsHarvest__ = true;

  // Fallback list (used only if we can't harvest from the other panel)
  const FALLBACK_ICON_NAMES = [
    "Sereno giorno.PNG","Sereno notte.PNG","Parzialmente nuvoloso giorno.PNG","Parz nuvoloso notte.PNG",
    "nuvoloso.png","Nebbia nuvole basse.PNG","Possibili piovaschi giorno.PNG","Possibili piovaschi notte.PNG",
    "Pioggia debole.PNG","Pioggia moderata.PNG","Neve .PNG","Possibili temporali.PNG","Poco nuvoloso giorno.PNG",
    "Poco nuvoloso notte.PNG","Pioggia mista a neve.PNG","pioggia forte.png","Mare grosso.PNG","Mare mosso.PNG",
    "Mare poco mosso.PNG","Nuvoloso.PNG","ventodebole.png","ventoforte.png","ventonormale.png","molto nuvoloso giorno (2).png",
    "molto nuvoloso notte.png","pioggia e schiarite giorno.png","pioggia e schiarite notte.png",
    "temporale moderato e schiarite notte.png","temporale moderato e schiarite giorno.png","temporale moderato.png",
    "coperto.png","molto nuvoloso giorno.png","molto nuvoloso notte.png"
  ];

    // ======= LOCKED: ICON‚ÜíWMO MAPPING (do not change) =======
  // Questa funzione assegna un codice WMO "sicuro" alle icone extra del pannello PRO.
  // IMPORTANTE: l'ordine dei controlli √® intenzionale per evitare collisioni di stringhe.
  // Esempio: "poco nuvoloso" contiene "nuvoloso" ‚Üí va intercettato PRIMA del controllo generico "nuvoloso".
  // - "poco nuvoloso"  ‚Üí 1  (few clouds)
  // - "parzialmente nuvoloso"/"parz" ‚Üí 2
  // - "nuvoloso"/"coperto"/"molto nuvoloso" ‚Üí 3
  // - Mare/Vento sono icone solo visive ‚Üí 2 (neutro non precipitante)
  // - Precipitazioni/temporali/neve/nebbia mappano ai rispettivi codici WMO
  function wmoFromName(name){
    const s = String(name||"").toLowerCase();

    // Fenomeni con priorit√† alta
    if (s.includes("tempor")) return 95;
    if (s.includes("pioggia forte")) return 82;
    if (s.includes("pioggia mista a neve")) return 71;
    if (s.includes("piovaschi") || s.includes("schiarite") || s.includes("pioggia") || s.includes("rain")) return 61;
    if (s.includes("neve") || s.includes("snow")) return 71;
    if (s.includes("nebb")) return 45;

    // Coperture nuvolose ‚Äî ordine SPECIFICO (non invertire):
    if (s.includes("molto nuvoloso") || s.includes("coperto")) return 3;  // pi√π chiuso
    if (s.includes("poco nuvoloso") || s.includes("poco")) return 1;      // pochi cumuli
    if (s.includes("parzialmente") || s.includes("parz")) return 2;       // parzialmente nuvoloso
    // generic "nuvoloso" solo alla fine
    if (s.includes("nuvoloso")) return 3;

    // Sereno
    if (s.includes("sereno") || s.includes("clear")) return 0;

    // Mare/vento e simili: usa un codice neutro non precipitante
    if (s.includes("mare") || s.includes("vento")) return 2;

    // Fallback neutro
    return 2;
  }
  // ======= END LOCKED =======
)/i);
    if (m) return parseInt(m[2],10);
    if (s.includes("tempor")) return 95;
    if (s.includes("forte") && s.includes("pioggia")) return 82;
    if (s.includes("mista") && s.includes("neve")) return 71;
    if (s.includes("piovaschi") || s.includes("schiarite") || s.includes("pioggia") || s.includes("rain")) return 61;
    if (s.includes("neve") || s.includes("snow")) return 71;
    if (s.includes("nebb")) return 45;
    if (s.includes("coperto") || s.includes("molto nuvoloso")) return 3;
    if (s.includes("nuvoloso")) return 3;
    if (s.includes("poco") || s.includes("parz")) return 2;
    if (s.includes("sereno") || s.includes("clear")) return 0;
    if (s.includes("mare") || s.includes("vento")) return 2;
    return 2;
  }

  // Build button using an existing <img> node (cloned) for pixel-perfect rendering
  function makeButtonFromImg(imgEl){
    const btn = document.createElement("button");
    btn.className = "proIcon";
    btn.style.cssText = "all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px solid rgba(255,255,255,.12);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36;box-sizing:border-box";
    const clone = imgEl.cloneNode(true);
    clone.removeAttribute("width"); clone.removeAttribute("height");
    clone.style.width = "28px"; clone.style.height = "28px"; clone.style.objectFit="contain"; clone.classList.add("weather-icon");
    btn.appendChild(clone);
    // Determine a best-effort WMO
    const hint = (imgEl.getAttribute("data-name") || imgEl.getAttribute("alt") || imgEl.getAttribute("title") || imgEl.src || "");
    const wmo = parseInt(imgEl.getAttribute("data-wmo")||imgEl.getAttribute("data-code")||"",10) || wmoFromName(hint);
    btn.setAttribute("data-code", String(wmo));
    const cap = document.createElement("div");
    cap.style.cssText = "font-size:11px;opacity:.85";
    cap.textContent = "WMO " + wmo;
    btn.appendChild(cap);
    btn.addEventListener("click", function(){
      const cont = btn.parentElement; if(!cont) return;
      cont.querySelectorAll(".proIcon").forEach(b => { b.style.outline="none"; b.classList.remove("selected"); });
      btn.classList.add("selected"); btn.style.outline="2px solid #2a7b62";
    });
    return btn;
  }

  // If we can't harvest, build from name using the project's builder for correct paths
  function makeButtonFromName(name){
    const btn = document.createElement("button");
    btn.className = "proIcon";
    btn.style.cssText = "all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px solid rgba(255,255,255,.12);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36;box-sizing:border-box";
    let html = "";
    if (typeof window.buildDirectIconHTML_NOEMOJI === "function"){
      try{ html = window.buildDirectIconHTML_NOEMOJI(name); }catch(e){ html = ""; }
    }
    if (!html){
      const img = document.createElement("img");
      img.src = String(name);
      img.alt = ""; img.className = "weather-icon";
      img.style.width = "28px"; img.style.height = "28px"; img.style.objectFit = "contain";
      html = img.outerHTML;
    }
    const wrap = document.createElement("div"); wrap.innerHTML = html;
    const iconEl = wrap.firstChild; btn.appendChild(iconEl);
    const wmo = wmoFromName(name);
    btn.setAttribute("data-code", String(wmo));
    const cap = document.createElement("div");
    cap.style.cssText = "font-size:11px;opacity:.85"; cap.textContent = "WMO " + wmo;
    btn.appendChild(cap);
    btn.addEventListener("click", function(){
      const cont = btn.parentElement; if(!cont) return;
      cont.querySelectorAll(".proIcon").forEach(b => { b.style.outline="none"; b.classList.remove("selected"); });
      btn.classList.add("selected"); btn.style.outline="2px solid #2a7b62";
    });
    return btn;
  }

  function findOtherPanelIconImgs(){
    // Heuristic: search any container that has lots of small weather icons
    const imgs = Array.from(document.querySelectorAll('img, [role="img"] img')).filter(img=>{
      const src = (img.getAttribute("src")||"") + " " + (img.getAttribute("data-name")||"") + " " + (img.getAttribute("alt")||"");
      const s = src.toLowerCase();
      const looksLikeWeather = /\.(png|svg|webp|jpg)(\?|$)/.test(s) && (
         s.includes("nuvol") || s.includes("piogg") || s.includes("sereno") || s.includes("neve") || s.includes("tempor") || s.includes("vento") || s.includes("mare")
      );
      const sizeOk = (img.width<=80 || img.height<=80 || (!img.width && !img.height));
      return looksLikeWeather && sizeOk;
    });
    // Group by src/name to remove duplicates
    const map = new Map();
    imgs.forEach(img=>{
      const key = (img.getAttribute("data-name")||img.getAttribute("alt")||img.getAttribute("title")||img.getAttribute("src")||"").toLowerCase();
      if (!map.has(key)) map.set(key, img);
    });
    return Array.from(map.values());
  }

  function addExtras(container){
    if(!container || container.querySelector("[data-extra-icons='1']")) return;
    const title = document.createElement("div");
    title.textContent = "Altre icone (auto)";
    title.style.cssText = "grid-column:1 / -1;opacity:.9;font-size:12px;padding:4px 2px;border-top:1px dashed rgba(255,255,255,.2);margin-top:4px";
    title.setAttribute("data-extra-icons", "1");
    container.appendChild(title);

    const imgs = findOtherPanelIconImgs();
    if (imgs.length){
      imgs.forEach(img=> container.appendChild(makeButtonFromImg(img)));
    } else {
      // Fallback to the static list
      FALLBACK_ICON_NAMES.forEach(name=> container.appendChild(makeButtonFromName(name)));
    }

    // Add a dedicated "Pulisci" control at the end
    const clr = document.createElement("button");
    clr.className = "proIcon";
    clr.setAttribute("data-code", "");
    clr.style.cssText = "all:unset;cursor:pointer;border-radius:10px;padding:6px;border:1px dashed rgba(255,255,255,.25);display:flex;flex-direction:column;align-items:center;gap:4px;background:#0e2a36";
    const sponge = document.createTextNode("üßΩ");
    const cap2 = document.createElement("div");
    cap2.style.cssText = "font-size:11px;opacity:.75";
    cap2.textContent = "Pulisci";
    clr.appendChild(sponge); clr.appendChild(cap2);
    clr.addEventListener("click", function(){
      const cont = clr.parentElement; if(!cont) return;
      cont.querySelectorAll(".proIcon").forEach(b => { b.style.outline="none"; b.classList.remove("selected"); });
      clr.classList.add("selected"); clr.style.outline = "2px solid #9b2a2a";
    });
    container.appendChild(clr);
  }

  function hook(){
    const panel = document.getElementById("sector-pro-panel");
    if(!panel) return;
    const cont = panel.querySelector("#proIcons");
    if(!cont) return;
    const mo = new MutationObserver(()=>{
      if(cont.children.length && !cont.querySelector("[data-extra-icons='1']")){
        addExtras(cont);
      }
    });
    try{ mo.observe(cont, {childList:true}); }catch(e){}
    setTimeout(()=>addExtras(cont), 120);
  }

  function tryHook(){
    if(document.getElementById("sector-pro-panel")){
      hook(); return true;
    }
    return false;
  }
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", ()=>{ setTimeout(tryHook, 60); });
  }else{
    setTimeout(tryHook, 60);
  }
  const bodMo = new MutationObserver(()=>{ tryHook(); });
  try{ bodMo.observe(document.body, {childList:true, subtree:true}); }catch(e){}
})();
</script>
<!-- === PATCH 2025-09-02: 7‚ÄëGiorni usa SEMPRE la condizione pi√π importante del giorno, calcolata dalle ORE (compatibile con PRO/fasce) === -->
<script id="daily-headline-from-hourly-v2">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__dailyHeadlineFromHourlyV2) return;
  window.__dailyHeadlineFromHourlyV2 = true;

  /* ‚Äî‚Äî Severit√† per codici WMO (stessa mappa usata altrove) ‚Äî‚Äî */
  function codeWeight(c){
    c = Number(c);
    if(c>=95) return 200;                               // temporali
    if([75,85,86].includes(c)) return 170;             // neve forte
    if([71,73,77].includes(c)) return 150;             // neve
    if([65,67,82].includes(c)) return 140;             // pioggia forte / gelata / rovesci forti
    if([61,63,80,81].includes(c)) return 120;          // pioggia / rovesci
    if([51,53,55,56,57].includes(c)) return 100;       // pioviggine / gelata debole
    if([45,48].includes(c)) return 40;                 // nebbia / basse nubi
    if(c>=1 && c<=3) return 20;                        // nuvolosit√†
    if(c===0) return 10;                                // sereno
    return 0;
  }

  /* ‚Äî‚Äî Trova il ‚Äúpeggiore‚Äù codice del giorno scorrendo le ORE (cos√¨ coglie gli override a fascia) ‚Äî‚Äî */
  function worstCodeForDay(fc, dayIndex){
    try{
      if(!fc || !fc.daily || !Array.isArray(fc.daily.time) || !fc.hourly) return null;
      const iso = String(fc.daily.time[dayIndex]||"").slice(0,10);
      if(!iso) return null;

      let worst = null, worstW = -1;
      const times = fc.hourly.time||[], codes = fc.hourly.weathercode||[];
      for(let i=0;i<times.length;i++){
        const t = String(times[i]||"");
        if(t.indexOf(iso)!==0) continue;
        const w = codeWeight(codes[i]);
        if(w > worstW){ worstW = w; worst = Number(codes[i]); }
      }
      return worst;
    }catch(_e){ return null; }
  }

  /* ‚Äî‚Äî Headline con fallback: prova ore ‚Üí daily_day/night ‚Üí daily ‚Äî‚Äî */
  function headlineCode(fc, i){
    const fromHourly = worstCodeForDay(fc, i);
    if(fromHourly!=null) return Number(fromHourly);

    const cd = (fc.daily.weathercode_day && fc.daily.weathercode_day[i]!=null) ? Number(fc.daily.weathercode_day[i]) : undefined;
    const cn = (fc.daily.weathercode_night && fc.daily.weathercode_night[i]!=null) ? Number(fc.daily.weathercode_night[i]) : undefined;
    const c  = (fc.daily.weathercode && fc.daily.weathercode[i]!=null) ? Number(fc.daily.weathercode[i]) : undefined;
    const buckets = [
      [95,96,99],
      [82,67,65,75,86],
      [80,81,61,63,71,73,85],
      [45,48],
      [3,2,1,0]
    ];
    const cand = [cd,c,cn].filter(v=>v!=null);
    for(const g of buckets){ for(const v of cand){ if(g.includes(Number(v))) return Number(v); } }
    return cand.length ? Number(cand[0]) : 2;
  }

  /* ‚Äî‚Äî Renderer 7‚Äëgiorni che usa headlineCode ‚Äî‚Äî */
  function renderDailyFromHourly(fc){
    let h='<div class="card"><h3>Previsioni fino a una settimana</h3><div class="days">';
    const n = (fc && fc.daily && fc.daily.time) ? fc.daily.time.length : 0;
    for(let i=0;i<n;i++){
      const head = headlineCode(fc, i);
      const date = String(fc.daily.time[i]).slice(5);
      const tmax = Math.round(fc.daily.temperature_2m_max?.[i] ?? 0);
      const tmin = Math.round(fc.daily.temperature_2m_min?.[i] ?? 0);
      h += '\
        <div class="day">\
          <div>'+date+'</div>\
          <span class="daily-icon">\
            '+ (window.iconHTML_NOEMOJI ? window.iconHTML_NOEMOJI(head, false) : '') +'\
            <i class="fa-solid '+ (window.iconFA? window.iconFA(head) : 'fa-question') +' alt-icon" aria-hidden="true"></i>\
          </span>\
          <div class="tmax">'+tmax+'¬∞</div>\
          <div class="tmin">'+tmin+'¬∞</div>\
        </div>';
    }
    h += '</div></div>';
    return h;
  }

  /* ‚Äî‚Äî Sostituisci in modo non distruttivo ‚Äî‚Äî */
  function install(){
    // rimpiazza renderDaily (o definiscilo se assente)
    const orig = window.renderDaily;
    if(typeof orig === 'function' && !orig.__headlineHourly){
      window.renderDaily = function(){
        try{ return renderDailyFromHourly.apply(this, arguments); }
        catch(e){ return orig.apply(this, arguments); }
      };
      window.renderDaily.__headlineHourly = true;
    }else{
      window.renderDaily = renderDailyFromHourly;
      window.renderDaily.__headlineHourly = true;
    }

    // Se il pannello √® gi√† popolato, rifallo ora (dopo eventuali override applicati)
    try{
      if(window.fc && document.getElementById('dailyPanel')){
        document.getElementById('dailyPanel').innerHTML = renderDailyFromHourly(window.fc);
      }
    }catch(_e){}

    // hook su run/render per assicurare il ricalcolo dopo nuove ricerche o applicazioni PRO
    try{
      const oldR = window.render;
      if(typeof oldR==='function' && !oldR.__headlineHourlyHook){
        window.render = function(){
          const out = oldR.apply(this, arguments);
          try{
            if(window.fc && document.getElementById('dailyPanel')){
              document.getElementById('dailyPanel').innerHTML = renderDailyFromHourly(window.fc);
            }
          }catch(_e){}
          return out;
        };
        window.render.__headlineHourlyHook = true;
      }
      const oldRun = window.run;
      if(typeof oldRun==='function' && !oldRun.__headlineHourlyHook){
        window.run = async function(){
          const r = await oldRun.apply(this, arguments);
          try{
            if(window.fc && document.getElementById('dailyPanel')){
              document.getElementById('dailyPanel').innerHTML = renderDailyFromHourly(window.fc);
            }
          }catch(_e){}
          return r;
        };
        window.run.__headlineHourlyHook = true;
      }
    }catch(_e){}
  }

  
  window.addEventListener('resize', positionBackButton);
  window.addEventListener('scroll', positionBackButton, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', install);
  }else{
    install();
  }
})();
</script>
<!-- === PATCH 2025-09-02: PRO override "pioggia" non lascia 0.0 mm / umidit√† bassa (solo incremento, non tocca altro) === -->
<script id="pro-hydrate-precip-v1">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__proHydratePrecipV1) return;
  window.__proHydratePrecipV1 = true;

  // Mappe di intensit√† (mm/h) e umidit√† minima per codici WMO
  function impliedPrecipMM(code){
    code = Number(code);
    // Drizzle
    if(code===51) return 0.2;
    if(code===53) return 0.6;
    if(code===55) return 1.0;
    // Freezing drizzle
    if(code===56) return 0.4;
    if(code===57) return 0.8;
    // Rain
    if(code===61) return 1.0;
    if(code===63) return 3.0;
    if(code===65) return 6.0;
    // Freezing rain
    if(code===66) return 2.0;
    if(code===67) return 4.0;
    // Showers
    if(code===80) return 1.0;
    if(code===81) return 3.0;
    if(code===82) return 6.0;
    // Snow (mm equivalente in acqua)
    if(code===71) return 1.0;
    if(code===73) return 3.0;
    if(code===75) return 6.0;
    // Mixed / unknown precip groups
    if(code===85) return 1.0; // neve debole
    if(code===86) return 3.0; // neve moderata/forte
    if(code===95) return 4.0; // temporale
    if(code===96 || code===99) return 6.0; // temporale con grandine
    return 0;
  }
  function humidityFloor(code){
    code = Number(code);
    if([55,57,65,67,82,86,96,99].includes(code)) return 90;
    if([53,56,63,66,81,75,95].includes(code)) return 85;
    if([51,61,80,71,73,85].includes(code)) return 78;
    return 0;
  }
  function popFloor(code){
    code = Number(code);
    if([65,67,82,86,96,99].includes(code)) return 90;
    if([63,66,81,75,95].includes(code)) return 80;
    if([51,53,55,56,57,61,80,71,73,85].includes(code)) return 60;
    return 0;
  }

  function hydrateHourly(fc){
    if(!fc || !fc.hourly) return;
    const times = fc.hourly.time||[];
    const codes = fc.hourly.weathercode||[];

    // prep fields with safe arrays
    const rh = fc.hourly.relativehumidity_2m = (fc.hourly.relativehumidity_2m||[]).slice();
    const pr = fc.hourly.precipitation = (fc.hourly.precipitation||[]).slice();
    const pop = fc.hourly.precipitation_probability = (fc.hourly.precipitation_probability||[]).slice();

    for(let i=0;i<times.length;i++){
      const code = Number(codes[i]);
      const mm = impliedPrecipMM(code);
      if(mm>0){
        // alza precipitazione se √® 0 o molto bassa
        const cur = Number(pr[i] ?? 0);
        if(!(cur>0) || cur<mm*0.5){
          pr[i] = Number(mm.toFixed(1));
        }
        // porta l'umidit√† ad almeno una soglia coerente con il fenomeno
        const hf = humidityFloor(code);
        const curH = Number(rh[i] ?? 0);
        if(hf>0 && (isNaN(curH) || curH<hf)){
          rh[i] = hf;
        }
        // probabilit√† minima di precipitazione
        const pf = popFloor(code);
        const curP = Number(pop[i] ?? 0);
        if(pf>0 && (isNaN(curP) || curP<pf)){
          pop[i] = pf;
        }
      }
    }

    // scrivi back
    fc.hourly.relativehumidity_2m = rh;
    fc.hourly.precipitation = pr;
    fc.hourly.precipitation_probability = pop;
  }

  // Installa hook: dopo run()/render() o quando fc cambia, idrata le ore
  function install(){
    function apply(){
      try{ if(window.fc) hydrateHourly(window.fc); }catch(_e){}
    }
    apply();

    const oldRun = window.run;
    if(typeof oldRun==='function' && !oldRun.__proHydrate){
      window.run = async function(){
        const r = await oldRun.apply(this, arguments);
        apply();
        return r;
      };
      window.run.__proHydrate = true;
    }
    const oldRender = window.render;
    if(typeof oldRender==='function' && !oldRender.__proHydrate){
      window.render = function(){
        const out = oldRender.apply(this, arguments);
        apply();
        return out;
      };
      window.render.__proHydrate = true;
    }

    // Se esiste un evento custom del PRO, ascoltalo comunque
    try{
      window.addEventListener('pro:applied', apply, false);
    }catch(_e){}
  }

  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded', install);
  }else{
    install();
  }
})();
</script>
<!-- === Sector PRO ‚Ä¢ Remote Sync (v1.0) ‚Äî non distruttivo === -->
<script id="sector-pro-remote-sync-v10">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorProRemoteSync) return; window.__sectorProRemoteSync = true;
  var FILE = "sector_cond_mini_v1.json";
  var LSKEY = "sectorCondMiniV1";

  function deepMerge(a,b){
    if(a===null||typeof a!=='object') return b;
    var out = Array.isArray(a) ? a.slice() : Object.assign({}, a||{});
    for(var k in (b||{})){
      if(b[k] && typeof b[k]==='object' && !Array.isArray(b[k])){
        out[k] = deepMerge(out[k]||{}, b[k]);
      }else{
        out[k] = b[k];
      }
    }
    return out;
  }

  function loadLocal(){
    try{ return JSON.parse(localStorage.getItem(LSKEY)||"{}")||{}; }catch(e){ return {}; }
  }
  function saveLocal(obj){
    try{ localStorage.setItem(LSKEY, JSON.stringify(obj||{})); }catch(e){}
  }

  async function pullOnce(){
    try{
      if(!window.SYNC || !SYNC.readBase) return;
      var bases = (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

        var b = SYNC.readBase;
        var toggled = b.replace(/\/([^\/]+?)(\.?)(\/main\/data\/?)/, function(m, name, dot, tail){
          return dot ? ("/"+name+tail) : ("/"+name+"."+tail);
        });
        return (b===toggled) ? [b] : [b, toggled];
      })();
      var data=null;
      for(var i=0;i<bases.length && !data;i++){
        var url = bases[i] + FILE + "?t=" + Date.now();
        try{
          var r = await fetch(url, {cache:"no-store"});
          if(r.ok){ data = await r.json(); break; }
        }catch(e){}
      }
      if(!data) return;
      // merge remoto -> locale (senza distruggere modifiche locali non sovrapposte)
      var cur = loadLocal();
      var merged = deepMerge(cur, data);
      saveLocal(merged);
      try{ if(window.toast) toast("Settori aggiornati da remoto ‚úî"); }catch(_e){}
    }catch(e){ console.warn("Sector pull error", e); }
  }

  async function pushOnce(){
    try{
      if(!window.SYNC || !SYNC.writeEndpoint){ if(window.toast) toast("Configura SYNC.writeEndpoint", false); return; }
      var body = {
        file: "data/"+FILE,
        data: loadLocal(),
        message: "sync: sector conditions"
      };
      var r = await fetch(SYNC.writeEndpoint, { method:"POST", headers:{"Content-Type":"application/json"}, body: JSON.stringify(body) });
      if(!r.ok){ var t = await r.text(); throw new Error(t||"push error"); }
      try{ if(window.toast) toast("Settori sincronizzati ‚úî"); }catch(_e){}
    }catch(e){ console.warn("Sector push error", e); try{ if(window.toast) toast("Errore sync settori: "+(e&&e.message||e), false); }catch(_e){} }
  }

  // ---- Hook: estendi le funzioni esistenti in modo non distruttivo ----
  (function hookPull(){
    var old = window.loadGlobalStoresFromRemote;
    window.loadGlobalStoresFromRemote = async function(){
      var r = (typeof old==="function") ? await old.apply(this, arguments) : undefined;
      try{ await pullOnce(); }catch(e){}
      return r;
    };
  })();
  (function hookPush(){
    var old = window.pushAllToRemote;
    window.pushAllToRemote = async function(){
      var r = (typeof old==="function") ? await old.apply(this, arguments) : undefined;
      try{ await pushOnce(); }catch(e){}
      return r;
    };
  })();

  // ---- Auto-sync: programma push quando si salva dal PRO ----
  function scheduleSectorAutoSync(){
    try{
      if(typeof window.scheduleSync!=="function") return;
      var payload = loadLocal();
      window.scheduleSync(FILE, payload, "sector conditions update");
    }catch(e){}
  }
  // 1) al click su "Salva" nel pannello PRO
  document.addEventListener("click", function(ev){
    var t = ev.target;
    if(t && t.id === "proSave"){
      // aspetta un tick per permettere agli altri handler di aggiornare localStorage
      setTimeout(scheduleSectorAutoSync, 30);
    }
  }, true);
  // 2) al click su "Applica griglia"
  document.addEventListener("click", function(ev){
    var t = ev.target;
    if(t && t.id === "proGridApply"){
      setTimeout(scheduleSectorAutoSync, 30);
    }
  }, true);

  // ---- Boot: tenta subito un pull e anche periodicamente (coerente con altri store) ----
  try{
    if(document.readyState === "loading"){
      document.addEventListener("DOMContentLoaded", function(){ pullOnce(); });
    }else{ pullOnce(); }
    setInterval(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 try{ pullOnce(); }catch(e){} }, 15*60*1000);
  }catch(e){}
})();
</script>
<!-- === Shared Password Gate for MAP (#fab) and PRO (hotspot/Ctrl+Alt+S) ‚Äî v2.0 === -->
<script id="shared-password-gate-v2">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  var KEY = "proAuthOk";
  function isAuthed(){ try{ return sessionStorage.getItem(KEY) === "1"; }catch(e){ return false; } }
  function promptAuth(){
    var pw = window.prompt("Inserisci la password (PRO / MAP):");
    if(pw === "Angelo1" || pw === "Giuseppe1"){
      try{ sessionStorage.setItem(KEY, "1"); }catch(e){}
      return true;
    }
    if(pw !== null){ alert("Password errata"); }
    return false;
  }
  function ensureAuth(){ return isAuthed() || promptAuth(); }

  // ---- KEYBOARD GATE ----
  // PRO often usa Ctrl+Alt+S; MAP (se presente) potrebbe usare Ctrl+Alt+M
  function keyGate(ev){
    try{
      if(!ev) return;
      if(ev.ctrlKey && ev.altKey && (ev.key === "s" || ev.key === "S" || ev.key === "m" || ev.key === "M")){
        if(!ensureAuth()){
          ev.preventDefault(); ev.stopImmediatePropagation();
        }
      }
    }catch(e){}
  }
  window.addEventListener("keydown", keyGate, true); // capture phase

  // ---- CLICK GATE ----
  // Blocca l'apertura se clicchiamo l'hotspot PRO in alto a sinistra (#sector-pro-spot)
  // o il bottone della MAPPA (#fab) senza autenticazione
  function clickGate(ev){
    var n = ev && ev.target;
    while(n){
      var id = n.id || "";
      if(id === "sector-pro-spot" || id === "fab"){
        if(!ensureAuth()){
          ev.preventDefault(); ev.stopImmediatePropagation();
        }
        break;
      }
      n = n.parentElement;
    }
  }
  document.addEventListener("click", clickGate, true); // capture phase

  // ---- FUNCTION WRAP (best-effort) ----
  function wrap(fnName){
    try{
      var fn = window[fnName];
      if(typeof fn === "function" && !fn.__gated){
        window[fnName] = function(){
          if(!ensureAuth()) return;
          return fn.apply(this, arguments);
        };
        window[fnName].__gated = true;
      }
    }catch(e){}
  }
  function tryWrap(){
    // PRO entrypoint noto
    wrap("__openSectorPro");
    // Possibili entrypoint per il pannello MAPPA (best guess ‚Äî non rompe se non esistono)
    wrap("__openMapPanel");
    wrap("__openMapControl");
    wrap("__openAdminPanel");
  }
  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", tryWrap, { once: true });
  }else{
    tryWrap();
  }
  // Ricontrolla periodicamente nel caso altri script riassegnino le funzioni
  setInterval(tryWrap, 1200);
})();
</script>
<script>

/* ===============================================================
   MLG ‚Äî Radar/Nowcast Blend v1.0 (2025‚Äë09‚Äë02)
   Attiva un controllo ‚Äúlive‚Äù sulle previsioni automatiche per ogni localit√†:
   - Legge i frame radar RainViewer (passati + proiezione) e valuta l‚Äôintensit√†
     vicino al punto ricercato (entro ~6 km).
   - Se nelle prossime 3 ore il radar segnala precipitazioni significative
     (soglia configurabile), sovrascrive le ore corrispondenti nel dataset
     ORARIO (weathercode + probabilit√† + mm minimi), lasciando intatto il resto.
   - Non ‚Äúsmentisce‚Äù la pioggia prevista: aumenta solo in caso di rischio reale
     (evita i falsi secchi).
   - Ricostruisce i daily (day/night) dopo il blend.
   - Aggiorna l‚Äôiframe radar se presente (id="radarFrame").

   *Drop‚Äëin*: includere dopo gli altri script della pagina.
   ============================================================== */

(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if (window.__mlgRadarBlend) return; window.__mlgRadarBlend = true;

  // ===== Config =====
  const CFG = {
    enabledKey: "mlg.radarBlend.enabled",
    threshold: 24,          // intensit√† pixel (0‚Äì255) per considerare ‚Äúpioggia‚Äù
    zoom: 10,               // zoom tile sampling (9‚Äì11 tipici)
    radiusTiles: 1,         // campiona tile vicine (1 => 3x3)
    lookAheadMin: 180,      // minuti nel futuro da valutare (RainViewer fornisce ~90‚Äì120)
    minProbWet: 70,         // % minima se radar => pioggia
    minMMWet: 0.6,          // mm/h minimo implicito se radar => pioggia
    iframeProvider: "rainviewer", // "rainviewer" | "none"
  };

  function getEnabled(){ try{ return localStorage.getItem(CFG.enabledKey)!=="0"; }catch(e){ return true; } }
  function setEnabled(v){ try{ localStorage.setItem(CFG.enabledKey, v? "1":"0"); }catch(e){} }

  // ===== Utility: lat/lon -> XYZ tile =====
  function latLonToTile(lat, lon, z){
    const n = Math.pow(2, z);
    const x = Math.floor((lon + 180) / 360 * n);
    const latRad = lat * Math.PI / 180;
    const y = Math.floor((1 - Math.log(Math.tan(latRad) + 1/Math.cos(latRad)) / Math.PI) / 2 * n);
    return {x, y};
  }

  // ===== RainViewer API helpers =====
  async function fetchRVMeta(){
    // public manifest: past + nowcast frames with unix timestamps
    const r = await fetch("https://api.rainviewer.com/public/weather-maps.json",{mode:"cors"});
    if(!r.ok) throw new Error("RainViewer manifest error");
    return r.json();
  }
  function rvTileURL(ts, z, x, y){
    // style 1 (default), smooth 1, color 1_1
    // v2 template: https://tilecache.rainviewer.com/v2/radar/{time}/256/{z}/{x}/{y}/2/1_1.png
    return `https://tilecache.rainviewer.com/v2/radar/${ts}/256/${z}/${x}/${y}/2/1_1.png`;
  }

  async function sampleTileIntensity(url){
    return new Promise(resolve=>{
      const img = new Image();
      img.crossOrigin = "anonymous";
      img.onload = () => {
        try{
          const c = document.createElement("canvas");
          c.width = 1; c.height = 1;
          const ctx = c.getContext("2d");
          // draw center 1√ó1 from the 256√ó256 tile (approx; we sample many tiles anyway)
          ctx.drawImage(img, 128, 128, 1, 1, 0, 0, 1, 1);
          const d = ctx.getImageData(0,0,1,1).data;
          // intensity proxy = max(R,G,B) (alpha non sempre affidabile)
          resolve(Math.max(d[0], d[1], d[2]));
        }catch(e){ resolve(0); }
      };
      img.onerror = () => resolve(0);
      img.src = url;
    });
  }

  async function radarSeriesAt(lat, lon){
    try{
      const meta = await fetchRVMeta();
      const frames = []
        .concat(meta.radar && Array.isArray(meta.radar.past) ? meta.radar.past : [])
        .concat(meta.radar && Array.isArray(meta.radar.nowcast) ? meta.radar.nowcast : []);
      if(!frames.length) return null;

      const z = CFG.zoom;
      const {x, y} = latLonToTile(lat, lon, z);
      const dx = CFG.radiusTiles, dy = CFG.radiusTiles;

      const out = [];
      for(const f of frames){
        const t = (f && f.time ? (f.time*1000) : NaN);
        if(!isFinite(t)) continue;
        // stop if too far in future
        if(t - Date.now() > CFG.lookAheadMin*60*1000) break;

        // sample 3√ó3 tiles around target
        const samples = [];
        for(let ix = -dx; ix<=dx; ix++){
          for(let iy = -dy; iy<=dy; iy++){
            const url = rvTileURL(f.time, z, x+ix, y+iy);
            samples.push(sampleTileIntensity(url));
          }
        }
        const vals = await Promise.all(samples);
        const maxVal = Math.max.apply(null, vals);
        out.push({t, val:maxVal});
      }
      return out;
    }catch(e){
      console.warn("[RadarBlend] radarSeriesAt error", e);
      return null;
    }
  }

  // ===== Blend logic =====
  const WET = {51:1,53:1,55:1,56:1,57:1,61:1,63:1,65:1,66:1,67:1,71:1,73:1,75:1,77:1,80:1,81:1,82:1,85:1,86:1,95:1,96:1,99:1};
  function chooseRainCode(hour, temp){
    // pioggia pomeridiana pi√π ‚Äúshowery‚Äù, altrimenti stratiforme
    if(temp!=null && temp<=1) return 71; // neve probabile
    return (hour>=12 && hour<=18) ? 80 : 63;
  }

  function applyRadarToForecast(fc, lat, lon, series){
    if(!fc || !series || !Array.isArray(fc.hourly?.time)) return;
    const times = fc.hourly.time;
    const codes = fc.hourly.weathercode || [];
    const temp  = fc.hourly.temperature_2m || [];
    const pop   = fc.hourly.precipitation_probability || (fc.hourly.precipitation_probability = new Array(times.length).fill(0));
    const mm    = fc.hourly.precipitation || (fc.hourly.precipitation = new Array(times.length).fill(0));

    // build a map t(rounded to 10 min) -> intensity
    const radarMap = new Map();
    for(const p of series){
      // round to 10 min slot
      const k = Math.round(p.t / (10*60*1000)) * (10*60*1000);
      const prev = radarMap.get(k) || 0;
      radarMap.set(k, Math.max(prev, p.val||0));
    }

    // for each hourly slot, check 0‚Ä¶+179 min future radar
    for(let i=0;i<times.length;i++){
      const base = Date.parse(times[i]);
      if(!isFinite(base)) continue;

      // if model already wet, we *never* downgrade
      const modelWet = WET[Number(codes[i])||0] === 1;

      // scan 0..179 minutes in 10-min steps
      let flagged = false, maxV = 0;
      for(let m=0;m<180;m+=10){
        const key = Math.round((base + m*60*1000) / (10*60*1000)) * (10*60*1000);
        const val = radarMap.get(key) || 0;
        if(val > maxV) maxV = val;
        if(val >= CFG.threshold){ flagged = true; break; }
      }

      if(flagged){
        // ‚Äúcambio importante‚Äù: se era sereno/nuvoloso -> passa a pioggia nelle prossime ore
        if(!modelWet){
          const hr  = +String(times[i]).slice(11,13);
          const tC  = Number(temp[i]);
          const newCode = chooseRainCode(hr, isFinite(tC)? tC : null);
          codes[i] = newCode;
          // safe minimums so the UI non risulti ‚Äú0.0 mm‚Äù
          pop[i] = Math.max(Number(pop[i]||0), CFG.minProbWet);
          mm[i]  = Math.max(Number(mm[i]||0), CFG.minMMWet);
        }else{
          // already wet: optionally bump probabilities a bit
          pop[i] = Math.max(Number(pop[i]||0),  Math.min(95, CFG.minProbWet));
          mm[i]  = Math.max(Number(mm[i]||0),   CFG.minMMWet*0.7);
        }
      }
    }

    // put back arrays
    fc.hourly.weathercode = codes;
    fc.hourly.precipitation_probability = pop;
    fc.hourly.precipitation = mm;

    // rebuild day/night aggregation
    try{
      const days = fc.daily?.time?.length || 0;
      fc.daily.weathercode_day = new Array(days).fill(null);
      fc.daily.weathercode_night = new Array(days).fill(null);
      for(let d=0; d<days; d++){
        const dateISO = fc.daily.time[d];
        const dayCodes=[], nightCodes=[];
        for(let i=0;i<times.length;i++){
          const t = times[i]; if(!t || !t.startsWith(dateISO)) continue;
          const h = +t.slice(11,13);
          const c = fc.hourly.weathercode[i];
          (h>=6 && h<18 ? dayCodes : nightCodes).push(c);
        }
        const mode = (arr)=>{
          const f = {}; let sel=null, max=0;
          arr.forEach(v=>{ f[v]=(f[v]||0)+1; if(f[v]>max || (f[v]===max && v>sel)){ max=f[v]; sel=v; } });
          return sel;
        };
        if(dayCodes.length) fc.daily.weathercode_day[d] = mode(dayCodes);
        if(nightCodes.length) fc.daily.weathercode_night[d] = mode(nightCodes);
      }
    }catch(e){ console.warn("[RadarBlend] daily rebuild error", e); }
  }

  // ===== Hook forecastDetailed =====
  function hookForecastDetailed(){
    if(!window.forecastDetailed || window.forecastDetailed.__rvHook) return;
    const _orig = window.forecastDetailed;
    window.forecastDetailed = async function(lat, lon){
      const fc = await _orig(lat, lon);
      try{
        if(getEnabled()){
          const series = await radarSeriesAt(lat, lon);
          if(series && series.length){
            applyRadarToForecast(fc, lat, lon, series);
          }
        }
      }catch(e){ console.warn("[RadarBlend] blend error", e); }
      return fc;
    };
    window.forecastDetailed.__rvHook = true;
  }

  // ===== Update radar iframe for UX =====
  function updateRadarFrame(lat, lon){
    try{
      const fr = document.getElementById("radarFrame");
      if(!fr || CFG.iframeProvider==="none") return;
      if(CFG.iframeProvider==="rainviewer"){
        const url = `https://www.rainviewer.com/map.html?loc=${lat.toFixed(4)},${lon.toFixed(4)},9&oFa=1&oC=1&c=3&layer=radar&sm=1`;
        if(fr.src !== url) fr.src = url;
      }
    }catch(e){}
  }

  // ===== Hook run(q) to also update iframe =====
  function hookRun(){
    const oldRun = window.run;
    if(typeof oldRun === "function" && !oldRun.__rvHook){
      window.run = async function(q){
        const res = await oldRun.apply(this, arguments);
        try{
          if(window.fc && isFinite(window.fc.latitude) && isFinite(window.fc.longitude)){
            updateRadarFrame(window.fc.latitude, window.fc.longitude);
          }
        }catch(e){}
        return res;
      };
      window.run.__rvHook = true;
    }
  }

  // ===== Small toggle UI in footer (optional) =====
  function addToggle(){
    try{
      const f = document.querySelector("footer");
      if(!f || document.getElementById("rvBlendToggle")) return;
      const wrap = document.createElement("label");
      wrap.id = "rvBlendToggle";
      wrap.style.cssText = "display:inline-flex;gap:.4rem;align-items:center;margin-left:8px;font-weight:600;cursor:pointer";
      const chk = document.createElement("input");
      chk.type="checkbox"; chk.checked = getEnabled();
      chk.onchange = ()=>{ setEnabled(chk.checked); };
      wrap.appendChild(chk);
      wrap.appendChild(document.createTextNode(" Controllo radar attivo"));
      f.appendChild(wrap);
    }catch(e){}
  }

  // ===== Init =====
  function init(){
    try{ hookForecastDetailed(); hookRun(); addToggle(); }catch(e){}
  }
  if(document.readyState === "loading"){ document.addEventListener("DOMContentLoaded", init); } else { init(); }

})();

</script>
<style id="past-hours-css">
/* Dim past day-part tiles and hide their numeric values */
#dayParts details.part.past { opacity: .35; filter: grayscale(30%); pointer-events: none; }
#dayParts details.part.past summary .temp,
#dayParts details.part.past summary .min { visibility: hidden; }
#dayParts details.part.past summary::after {
  content: "‚Äî ore trascorse";
  margin-left: 8px;
  font-size: .9em;
  opacity: .8;
}
</style>
<script id="past-hours-filter-v1">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  /* Helpers */
  function nowTS(){ return Date.now(); }
  function todayISO(){
    const d=new Date();
    const p=n=>String(n).padStart(2,"0");
    return d.getFullYear()+"-"+p(d.getMonth()+1)+"-"+p(d.getDate());
  }
  function isTodayISO(s){ try{ return String(s).slice(0,10)===todayISO(); }catch(_e){ return false; } }
  function cloneSubset(fc, rows){
    const sub = JSON.parse(JSON.stringify(fc));
    if(!sub.hourly || !Array.isArray(rows)) return sub;
    Object.keys(sub.hourly).forEach(k=>{
      if(Array.isArray(sub.hourly[k])) sub.hourly[k] = rows.map(i=>fc.hourly[k][i]);
    });
    return sub;
  }
  function partRanges(){ return [[6,12],[12,18],[18,24],[0,6]]; }
  function partNames(){ return ["Mattina","Pomeriggio","Sera","Notte"]; }
  function pickIcon(fc, rows){
    if(!rows.length) return "";
    const mid = rows[Math.floor(rows.length/2)];
    const isNight = (fc.hourly.is_day && fc.hourly.is_day[mid]===0);
    if(typeof window.iconHTML_NOEMOJI === "function"){
      return window.iconHTML_NOEMOJI(fc.hourly.weathercode[mid], isNight) || "";
    }
    return "";
  }

  /* Build Day Parts with past-hours handling */
  function renderDayPartsFuture(fc){
    try{ window.fc = fc; }catch(_e){}
    const el = document.getElementById("dayParts");
    if(!el || !fc || !fc.hourly || !fc.hourly.time) return;

    const now = nowTS();
    const dayISO = (fc.daily && fc.daily.time && fc.daily.time[0]) ? String(fc.daily.time[0]).slice(0,10) : null;
    const isToday = isTodayISO(dayISO);

    const ranges = partRanges(); const names = partNames();
    let html = '<div class="card"><h3>Notte&nbsp;‚Üí&nbsp;Sera</h3><div class="parts">';

    ranges.forEach((rng, idx)=>{
      // pick source + base day: for Notte of today use NEXT day's 00‚Äì06 from the FULL forecast
      let srcFc = fc;
      let baseISO = dayISO;
      if(isToday && rng[0]===0 && rng[1]===6 && (window.__fullFc||window.fc)){
        srcFc = (window.__fullFc||window.fc);
        // find next day iso relative to dayISO
        let idx0 = -1;
        try{
          const ds = srcFc.daily?.time||[];
          for(let k=0;k<ds.length;k++){ if(String(ds[k]).slice(0,10)===dayISO){ idx0 = k; break; } }
          if(idx0>=0 && ds[idx0+1]) baseISO = String(ds[idx0+1]).slice(0,10);
        }catch(_e){}
      }
      // all rows for this part on baseISO only
      const allRows = [];
      for(let i=0;i<(srcFc.hourly.time||[]).length;i++){
        const t = String(srcFc.hourly.time[i]);
        if(baseISO && !t.startsWith(baseISO)) continue;
        const h = Number(t.slice(11,13));
        const inRange = (rng[0] < rng[1]) ? (h>=rng[0] && h<rng[1]) : (h>=rng[0] || h<rng[1]);
        if(inRange) allRows.push(i);
      }
      // subset to future rows when the band day equals *today*
const baseIsCurrent = (function(){ try { return String(baseISO).slice(0,10) === todayISO(); } catch(_e) { return false; } })();
const futureRows = baseIsCurrent ? allRows.filter(i => Date.parse(srcFc.hourly.time[i]) >= now) : allRows;

const isPastTile = baseIsCurrent && allRows.length>0 && futureRows.length===0;
const rowsForStats = futureRows; // stats only on future

// --- robust fallback: if there are no FUTURE rows (edge cases), fall back to ALL rows of the band ---
const rowsStatsOrAll = (rowsForStats && rowsForStats.length) ? rowsForStats : allRows;

// min/max temperature over selected rows
let tmin = Infinity, tmax = -Infinity;
rowsStatsOrAll.forEach(i=>{
  const t = Number(srcFc.hourly.temperature_2m?.[i]);
  if(isFinite(t)){ if(t<tmin) tmin=t; if(t>tmax) tmax=t; }
});

// Choose icon + phenomenon text


// pick a representative/important code for the label:
// prefer the most "severe" code in the window
function __w(c){ c=Number(c); if(c>=95) return 200; if([75,85,86].includes(c)) return 170;
  if([71,73,77].includes(c)) return 150; if([65,67,82].includes(c)) return 140;
  if([61,63,80,81].includes(c)) return 120; if([51,53,55,56,57].includes(c)) return 100;
  if([45,48].includes(c)) return 40; if(c>=1 && c<=3) return 20; if(c===0) return 10; return 0; }
let _bestIdx = rowsStatsOrAll.length ? rowsStatsOrAll[0] : (allRows[0]||0), _bw = -1;
rowsStatsOrAll.forEach(i=>{ const w = __w(srcFc.hourly.weathercode?.[i]); if(w>_bw){ _bw=w; _bestIdx=i; } });
const _code = Number(srcFc.hourly.weathercode?.[_bestIdx]);
const _isNight = !!(srcFc.hourly.is_day && srcFc.hourly.is_day[_bestIdx]===0);
const icon = (typeof window.iconHTML_NOEMOJI === 'function') ? window.iconHTML_NOEMOJI(_code, _isNight) : '';
const _label = (typeof window.wmoDesc==='function') ? window.wmoDesc(_code) : '';

html += '<details class="part'+(isPastTile?' past':'')+'">';
html +=   '<summary><h4>'+names[idx]+'</h4>'+(icon||'')+
          (_label ? '<div class="phen">'+_label+'</div>' : '')+
          '<div class="temp">'+(isFinite(tmax)?Math.round(tmax)+'¬∞':'')+'</div>'+
          '<div class="min">'+(isFinite(tmin)?Math.round(tmin)+'¬∞':'')+'</div></summary>';
html +=   '<div class="detail"></div>';
html += '</details>';


    });

    html += '</div></div>';
    el.innerHTML = html;

    // Attach toggles: fill only with FUTURE rows when today
    const ranges2 = partRanges();
    el.querySelectorAll('.part').forEach((partEl, idx)=>{
      partEl.addEventListener('toggle', function(){
        if(!this.open) return;
        const detailBox = this.querySelector('.detail');
        if(detailBox.dataset.filled) return;
        const rng = ranges2[idx];
        let srcFc2 = fc;
        let baseISO2 = dayISO;
        if(isToday && rng[0]===0 && rng[1]===6 && (window.__fullFc||window.fc)){
          srcFc2 = (window.__fullFc||window.fc);
          // next day's ISO
          let idx0 = -1;
          try{
            const ds = srcFc2.daily?.time||[];
            for(let k=0;k<ds.length;k++){ if(String(ds[k]).slice(0,10)===dayISO){ idx0 = k; break; } }
            if(idx0>=0 && ds[idx0+1]) baseISO2 = String(ds[idx0+1]).slice(0,10);
          }catch(_e){}
        }
        const rows = [];
        for(let i=0;i<(srcFc2.hourly.time||[]).length;i++){
          const t = String(srcFc2.hourly.time[i]);
          if(baseISO2 && !t.startsWith(baseISO2)) continue;
          const h = Number(t.slice(11,13));
          const inRange = (rng[0]<rng[1]) ? (h>=rng[0] && h<rng[1]) : (h>=rng[0] || h<rng[1]);
          if(!inRange) continue;
          if(isToday && Date.parse(t) < now) continue; // filter past
          rows.push(i);
        }
        const sub = cloneSubset(srcFc2, rows);
        if(typeof window.renderHourly==='function'){
          detailBox.innerHTML = window.renderHourly(sub, 0);
        }
        detailBox.dataset.filled = '1';
        setTimeout(()=>{ try{ this.scrollIntoView({behavior:'smooth', block:'start'}); }catch(_e){} }, 50);
      });
    });
  }

  /* Recalculate today's min/max in 7‚Äëday strip using ONLY future hours */
  function renderDailyPatched(fc){
    const base = (typeof window.renderDaily==='function' && !window.renderDaily.__pastPatchBase) ? window.renderDaily : null;

    function computeTodayMinMaxFromHours(fc){
      try{
        const iso = fc.daily?.time?.[0]; if(!iso) return null;
        const now = nowTS();
        const idxs = [];
        (fc.hourly?.time||[]).forEach((t,i)=>{
          if(String(t).startsWith(iso) && Date.parse(t)>=now) idxs.push(i);
        });
        if(!idxs.length) return null;
        const arr = idxs.map(i=> Number(fc.hourly.temperature_2m?.[i])).filter(Number.isFinite);
        if(!arr.length) return null;
        return {tmin: Math.round(Math.min(...arr)), tmax: Math.round(Math.max(...arr))};
      }catch(_e){ return null; }
    }

    let html;
    if(base){
      html = base(fc);
    }else{
      // fallback minimal: just call any existing function that produces strip
      if(typeof window.renderDaily==='function') html = window.renderDaily(fc);
    }

    try{
      const mm = computeTodayMinMaxFromHours(fc);
      if(mm && html){
        // Replace only the first day's tmax/tmin numbers inside .tmax/.tmin, if present
        // Do a light DOM rewrite instead of brittle regex on HTML
        const container = document.createElement('div'); container.innerHTML = html;
        const first = container.querySelector('.days .day');
        if(first){
          const tx = first.querySelector('.tmax'); if(tx) tx.textContent = mm.tmax+'¬∞';
          const tn = first.querySelector('.tmin'); if(tn) tn.textContent = mm.tmin+'¬∞';
          html = container.innerHTML;
        }
      }
    }catch(_e){}

    return html;
  }

  /* Minimal future-aware narrative for "oggi" (keeps the same box styling) */
  function computeFutureNarrative(fc){
    try{
      const iso = fc.daily?.time?.[((typeof window.selectedDayIndex==='function') ? window.selectedDayIndex() : (function(){
  try{
    var strip=document.querySelector('#dailyPanel .days');
    if(strip){
      var items=Array.prototype.slice.call(strip.querySelectorAll('.day'));
      var sel=items.findIndex(function(el){return el.classList&&el.classList.contains('sel');});
      if(sel>=0) return sel;
    }
  }catch(_e){}
  return Number(window.curDay||0)||0;
})())];
      if(!iso) return null;
      const isToday = isTodayISO(iso);
      const H = fc.hourly||{}, D = fc.daily||{};
      const rows=[];
      for(let i=0;i<(H.time?.length||0);i++){
        const t = H.time[i]; if(!t) continue;
        const okDay = t.startsWith(iso) || ((new Date(t)-new Date(iso+"T00:00:00"))/36e5>=24 && (new Date(t)-new Date(iso+"T00:00:00"))/36e5<30);
        if(!okDay) continue;
        if(isToday && Date.parse(t) < nowTS()) continue; // filter past
        rows.push(i);
      }
      if(!rows.length) return null;

      const TS = new Set([95,96,99]);
      const WET = new Set([51,53,55,56,57,61,63,65,66,67,71,73,75,77,80,81,82,85,86,95,96,99]);
      const round = (x)=>{ const n=Number(x); return isFinite(n)?Math.round(n):NaN; };

      let sum=0, pmax=0, ts=false, wmax=0, gmax=0;
      const wet=[false,false,false,false];
      const part=(h)=>h>=6&&h<12?0:h>=12&&h<18?1:h>=18&&h<24?2:3;
      for(const i of rows){
        const pr=+((H.precipitation_probability||[])[i]||0);
        const mm=+((H.precipitation||[])[i]||0);
        const code=+((H.weathercode||[])[i]||0);
        const ws=+((H.wind_speed_10m||[])[i]||0);
        const gs=+((H.wind_gusts_10m||[])[i]||ws);
        const hh=new Date(H.time[i]).getHours();
        sum+=mm; pmax=Math.max(pmax,pr); if(TS.has(code)) ts=true; wmax=Math.max(wmax,ws); gmax=Math.max(gmax,gs);
        if(WET.has(code)||mm>=0.2||pr>=40) wet[part(hh)]=true;
      }

      // For today, derive tmin/tmax from remaining hours; else use daily aggregates
      let tmax = isToday ? round(Math.max(...rows.map(i=>H.temperature_2m?.[i]??NaN))) : round(D.temperature_2m_max?.[((typeof window.selectedDayIndex==='function') ? window.selectedDayIndex() : (function(){
  try{
    var strip=document.querySelector('#dailyPanel .days');
    if(strip){
      var items=Array.prototype.slice.call(strip.querySelectorAll('.day'));
      var sel=items.findIndex(function(el){return el.classList&&el.classList.contains('sel');});
      if(sel>=0) return sel;
    }
  }catch(_e){}
  return Number(window.curDay||0)||0;
})())]);
      let tmin = isToday ? round(Math.min(...rows.map(i=>H.temperature_2m?.[i]??NaN))) : round(D.temperature_2m_min?.[((typeof window.selectedDayIndex==='function') ? window.selectedDayIndex() : (function(){
  try{
    var strip=document.querySelector('#dailyPanel .days');
    if(strip){
      var items=Array.prototype.slice.call(strip.querySelectorAll('.day'));
      var sel=items.findIndex(function(el){return el.classList&&el.classList.contains('sel');});
      if(sel>=0) return sel;
    }
  }catch(_e){}
  return Number(window.curDay||0)||0;
})())]);

      const place = (window.CITIES?.[0]?.city) || document.getElementById("cityInput")?.value || "localit√† selezionata";
      const when = (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }
 // replicate labelByIdx behaviour (oggi/domani/weekday)
        try{
          const d = new Date(iso+"T12:00:00");
          const pad=n=>String(n).padStart(2,"0");
          const today = todayISO();
          const tmrw = (function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

            const n = new Date(); n.setDate(n.getDate()+1);
            return n.getFullYear()+"-"+pad(n.getMonth()+1)+"-"+pad(n.getDate());
          })();
          if(iso===today) return "nelle prossime ore";
          if(iso===tmrw) return "domani";
          return d.toLocaleDateString("it-IT",{weekday:"long", day:"numeric", month:"long"}).toLowerCase();
        }catch(_e){ return "oggi"; }
      })();

      const _labels = ["al mattino","al pomeriggio","in serata","di notte"];let _idx = [0,1,2,3].filter(i=>wet[i]);// Se oggi e piove di notte, mettiamo "di notte" prima di "al mattino" per evitare ambiguit√†
if (isToday && wet[3]) { _idx = [3].concat([0,1,2].filter(i=>wet[i])); }
const whereWet = _idx.map(i=>_labels[i]);let precip = "non sono previste precipitazioni significative";
      if(pmax>=70 || sum>=5) precip="sono probabili rovesci";
      if(ts) precip="sono possibili temporali";
      if(whereWet.length) precip += " " + (whereWet.length===1? whereWet[0] : "(" + whereWet.join(", ") + ")");
      
// Descrizione del cielo anche senza precipitazioni: calcolata dal meteo prevalente nelle ore considerate
(function(){
  try{
    const codes = (H.weathercode||[]);
    const freq = {};
    for(const i of rows){ const c = +((codes[i])||0); if(!isFinite(c)) continue; freq[c]=(freq[c]||0)+1; }
    let dom = null, domN=-1;
    for(const k in freq){ if(freq[k]>domN){ dom=+k; domN=freq[k]; } }
    function skyFromCode(c){
      if([0].includes(c)) return "cielo sereno";
      if([1].includes(c)) return "prevalentemente sereno";
      if([2].includes(c)) return "poco nuvoloso";
      if([3].includes(c)) return "molto nuvoloso o coperto";
      if([45,48].includes(c)) return "foschie o banchi di nebbia";
      if([51,53,55,56,57].includes(c)) return "pioviggine a tratti";
      if([61,63,65,66,67,80,81,82].includes(c)) return "piogge sparse";
      if([71,73,75,77,85,86].includes(c)) return "neve o neve mista";
      if([95,96,99].includes(c)) return "temporali locali";
      return "condizioni variabili";
    }
    window.__mlgSkyDesc = skyFromCode(dom);
  }catch(_e){ window.__mlgSkyDesc = undefined; }
})();

const venti = (wmax>=60 || gmax>=70) ? "forti" : (wmax>=35 ? "moderati" : "deboli");
      const lead = `Secondo Meteo Lo Gullo a ${place}, ${when} ${precip}. La temperatura si porter√† intorno a ${isFinite(tmax)?tmax+"¬∞C":"--"} nelle ore pi√π calde e verso ${isFinite(tmin)?tmin+"¬∞C":"--"} nelle ore pi√π fresche.`;
      const meta = `Pioggia residua: ${sum.toFixed(1)} mm (probabilit√† massima ${pmax}%).`;
      const details = [ (window.__mlgSkyDesc?("Cielo: "+window.__mlgSkyDesc+"."):null), (wmax||gmax) ? `Venti ${venti}${isFinite(gmax)?", raffiche fino a "+Math.round(gmax)+" km/h":""}.` : "Venti deboli.",
        "Dati riferiti alle sole ore rimanenti di oggi."
      ];
      return {lead, meta, details: details.filter(Boolean)};
    }catch(_e){ return null; }
  }

  function renderNarrativeFuture(){
    const box = document.getElementById("narrativeBox");
    if(!box) return;
    const fc = (window.fc && window.fc.daily?.time) ? window.fc : (window.__fullFc||window.fc);
    const data = computeFutureNarrative(fc);
    if(!data) return; // keep existing if we can't compute
    box.innerHTML = [
      '<div class="card">',
      '<h3>üìù Sintesi della giornata</h3>',
      '<p>',data.lead,'</p>',
      '<p class="meta">',data.meta,'</p>',
      '<p>‚Ä¢ ',data.details[0],'<br/>‚Ä¢ ',(data.details[1]||''),'</p>',
      '<div class="footer"><span><strong>Previsioni elaborate da Meteo Lo Gullo</strong></span>',
      '<span>Per i <em>dati in tempo reale</em> consulta la MLG Map.</span></div>',
      '</div>'
    ].join('');
  }

  /* Install overrides */
  (function install(){

// === AUTO PATCH: refresh narrative on dayparts-rendered & day click ===
try{
  document.addEventListener('mlg:dayparts-rendered', function(){ try{ renderNarrativeFuture(); }catch(_e){} }, true);
  // fallback: also react to direct clicks on 7-day tiles
  document.addEventListener('click', function(ev){
    var el = ev.target && ev.target.closest ? ev.target.closest('#dailyPanel .day') : null;
    if(el){ setTimeout(function(){ try{ renderNarrativeFuture(); }catch(_e){} }, 20); }
  }, true);
}catch(_e){}

    // Override renderDayParts with our future-aware version
    const origRDP = window.renderDayParts;
    window.renderDayParts = function(fc){
      try{ renderDayPartsFuture(fc); }catch(_e){ if(typeof origRDP==='function') return origRDP(fc); }
    };

    // Wrap renderDaily to adjust today's min/max
    const baseDaily = window.renderDaily;
    window.renderDaily = function(fc){
      try{
        const html = renderDailyPatched(fc);
        return html || (typeof baseDaily==='function' ? baseDaily(fc) : '');
      }catch(_e){
        return (typeof baseDaily==='function' ? baseDaily(fc) : '');
      }
    };
    window.renderDaily.__pastPatchBase = true;

    // Hook into common repaint paths to refresh narrative & parts
    function hook(name){
      try{
        const o = window[name];
        if(typeof o==='function' && !o.__pastPatch){
          window[name] = function(){
            const r = o.apply(this, arguments);
            try{ renderNarrativeFuture(); }catch(_e){}
            return r;
          };
          window[name].__pastPatch = true;
        }
      }catch(_e){}
    }
    ["run","render"].forEach(hook);

    // Initial run when DOM ready
    if(document.readyState==='loading'){
      document.addEventListener('DOMContentLoaded', function(){
        try{ renderNarrativeFuture(); }catch(_e){}
      }, {once:true});
    }else{
      try{ renderNarrativeFuture(); }catch(_e){}
    }
  })();
})();
</script>
<style id="part-phenomenon-css">
/* label fenomeno nel riassunto dei pannelli (Mattina/Pomeriggio/Sera/Notte) */
#dayParts .part .phen{font-size:.78rem;opacity:.9;line-height:1;margin-top:2px;margin-bottom:2px;}
@media (max-width:600px){ #dayParts .part .phen{font-size:.72rem;} }
</style>
<style id="phen-fixed-height-v1">
/* Allinea verticalmente i pannelli fasce: la riga del fenomeno ha sempre l'altezza di 2 righe di testo */
#dayParts .part summary{
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* La label del fenomeno: massimo 2 righe, altezza sempre riservata */
#dayParts .part .phen{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
  text-align:center;
  line-height:1.1;
  min-height:2.2em;
  margin:2px 0 4px;
}

/* Se una fascia NON ha .phen, riserva comunque lo stesso spazio cos√¨ le T¬∞ restano allineate */
#dayParts .part summary:not(:has(.phen))::before{
  content:"";
  display:block;
  line-height:1.1;
  min-height:2.2em;
  margin:2px 0 4px;
}

@media (max-width:600px){
  #dayParts .part .phen{
    font-size:.72rem;
    line-height:1.1;
    min-height:calc(2 * 1.1em);
  }
  #dayParts .part summary:not(:has(.phen))::before{
    min-height:calc(2 * 1.1em);
  }
}
</style>
<!-- PATCH: inject LIVE temperature into the current day-part tile -->
<!-- PATCH: inject LIVE temperature into the current day-part tile (robust) -->
<script id="dayparts-live-clamp">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function isCurrentForName(name, h){
    if(!name) return false;
    name = name.toLowerCase();
    if(name.includes('mattina')) return h>=6 && h<12;
    if(name.includes('pomeriggio')) return h>=12 && h<18;
    if(name.includes('sera')) return h>=18 && h<24;
    if(name.includes('notte')) return h>=0 && h<6;
    return false;
  }
  function applyLiveToTile(){
    try{
      // Apply LIVE only if selected day is today (index 0)
      var strip = document.querySelector('#dailyPanel .days');
      if(strip){
        var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
        var sel = items.findIndex(function(el){ return el.classList.contains('sel'); });
        if(sel > 0) return; // not today -> do nothing
      }
      const liveVal = Number(LIVE && LIVE.t);
      if(!Number.isFinite(liveVal)) return;
      const h = new Date().getHours();
      const liveRounded = Math.round(Number(LIVE && LIVE.t));
      const summaries = document.querySelectorAll('#dayParts .part summary');
      summaries.forEach(sum => {
        const title = (sum.querySelector('h4')?.textContent || '').trim();
        if(!isCurrentForName(title, h)) return;
        const tempEl = sum.querySelector('.temp');
        if(!tempEl) return;
        const m = (tempEl.textContent||'').match(/-?\d+/);
        const shown = m ? parseInt(m[0],10) : NaN;
        if(!Number.isFinite(shown) || liveRounded > shown){
          tempEl.textContent = liveRounded + '¬∞';
        }
      });
    }catch(e){}
  }
      });
    }catch(e){}
  }
  function patch(){
    if(typeof window.renderDayParts!=='function') return;
    if(window.renderDayParts._liveClamp) return;
    const orig = window.renderDayParts;
    window.renderDayParts = function(fc){
      const res = orig(fc);
      try{ applyLiveToTile(); }catch(e){}
      return res;
    };
    window.renderDayParts._liveClamp = true;
  }
  document.addEventListener('DOMContentLoaded', function(){
    patch();
    setTimeout(applyLiveToTile, 200);
    // also run shortly after icons are recomputed
    document.addEventListener('mlg:dayparts-rendered', applyLiveToTile, true);
    setInterval(applyLiveToTile, 180000); // every 3 minutes
  });
  window.__applyLiveToDayparts = applyLiveToTile;
})();
</script>
<script id="dayparts-live-clamp-boost">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function isCurrentPart(name, h){
    name=(name||'').toLowerCase();
    return (name.includes('mattina') && h>=6 && h<12)
        || (name.includes('pomeriggio') && h>=12 && h<18)
        || (name.includes('sera') && h>=18 && h<24)
        || (name.includes('notte') && h>=0 && h<6);
  }
  function updatePanel(){
    // Apply LIVE only for today (selected day index 0)
    try{
      var strip = document.querySelector('#dailyPanel .days');
      if(strip){
        var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
        var sel = items.findIndex(function(el){ return el.classList.contains('sel'); });
        if(sel > 0) return;
      }
    }catch(e){}
    const liveVal = Number(LIVE && LIVE.t);
    if(!Number.isFinite(liveVal)) return;
    const h = new Date().getHours();
    const liveRounded = Math.round(Number(LIVE && LIVE.t));
    // 1) Summary tile temp
    document.querySelectorAll('#dayParts .part summary').forEach(sum=>{
      const title = sum.querySelector('h4')?.textContent||'';
      if(!isCurrentPart(title,h)) return;
      const t = sum.querySelector('.temp');
      if(t){
        const shown = parseInt((t.textContent||'').match(/-?\d+/)?.[0]||'NaN',10);
        if(!Number.isFinite(shown) || liveRounded>shown) t.textContent = liveRounded + '¬∞';
      }
    });
    // 2) Tri-hourly list (if visible)
    document.querySelectorAll('#dayParts .part[open] .hour-row').forEach(row=>{
      const timeTxt = (row.querySelector('.hr-time')?.textContent||'').trim();
      const m = timeTxt.match(/(\d{1,2}):(\d{2})/);
      if(!m) return;
      const hh = parseInt(m[1],10);
      if(hh !== h) return;
      const cell = row.querySelector('.hr-temp');
      if(cell){
        const shown = parseInt((cell.textContent||'').match(/-?\d+/)?.[0]||'NaN',10);
        if(!Number.isFinite(shown) || liveRounded>shown) cell.textContent = liveRounded + '¬∞';
      }
    });
  }
  function schedule(){
    // rapid retries for first minute after render to win over any late re-renders
    let n=0;
    const fast = setInterval(()=>{ updatePanel(); if(++n>12) clearInterval(fast); }, 5000);
    // slower keep-alive
    setInterval(updatePanel, 60000);
  }
  document.addEventListener('DOMContentLoaded', ()=>{
    updatePanel();
    schedule();
    document.addEventListener('mlg:dayparts-rendered', ()=>{ updatePanel(); schedule(); }, true);
    document.addEventListener('toggle', (e)=>{
      if(e.target && e.target.classList && e.target.classList.contains('part') && e.target.open){
        setTimeout(updatePanel, 50);
      }
    }, true);
  });
  window.__forceLiveClamp = updatePanel;
})();
</script>

<script id="mlg-sync-with-bar-js">
(function(){
  function itaMonthIndex(name){
    const months = ['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre'];
    const i = months.indexOf(String(name||'').toLowerCase());
    return i >= 0 ? i : null;
  }
  function formatWithWeekday(dayMonth){
    const parts = String(dayMonth||'').trim().split(/\s+/);
    if(parts.length < 2) return dayMonth;
    const day = parseInt(parts[0], 10);
    const mi = itaMonthIndex(parts[1]);
    if(!day || mi===null) return dayMonth;
    const year = (new Date()).getFullYear();
    const d = new Date(year, mi, day);
    const wd = d.toLocaleDateString('it-IT', { weekday:'long' });
    const mon = d.toLocaleDateString('it-IT', { month:'long' });
    return wd + ' ' + d.getDate() + ' ' + mon;
  }
  function update(){
    try{
      var src = document.getElementById('hDate');
      var dest = document.getElementById('mlgTopDate');
      if(!src || !dest) return;
      var raw = src.textContent || src.innerText || '';
      dest.textContent = formatWithWeekday(raw);
    }catch(e){}
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', update);
  }else{
    update();
  }
  try{
    var src = document.getElementById('hDate');
    if(src){
      new MutationObserver(update).observe(src, { childList:true, characterData:true, subtree:true });
    }
  }catch(e){}
})();
</script>


<!-- === PATCH 2025‚Äë09‚Äë05: Nascondi tabella #forecast su MOBILE in modalit√† "solo previsioni" + collassa riga vuota === -->
<style id="forecast-mobile-hide-2025-09-05">
/* Obiettivo: su mobile, quando si entra in modalit√† "solo previsioni",
   la tabella sintetica "Citt√† / Max / Min" (id #forecast) NON deve pi√π comparire
   n√© occupare spazio. Questo override vince su eventuali !important precedenti. */
@media (max-width: 700px){
  /* 1) Non mostrare mai la tabella in focus mobile */
  #widget.forecast-only #forecast{
    display: none !important;
    visibility: hidden !important;
  }
  /* 2) Elimina la riga dedicata a 'forecast' dalla grid quando siamo in focus */
  #widget.forecast-only{
    grid-template-areas: "header" "bottom" !important;
    grid-auto-rows: auto !important;
  }
  /* 3) Sicurezza extra: se qualche script ha forzato display table inline */
  #forecast[style*="display: table"]{
    display: none !important;
  }
}
</style>


<!-- === PATCH 2025‚Äë09‚Äë05b: Back button guarantee on MOBILE when in forecast-only === -->
<style id="forecast-back-mobile-2025-09-05">
@media (max-width: 700px){
  /* Mostra il pulsante solo quando serve */
  #widget.forecast-only #forecastBack{ display: block !important; }
}
</style>
<script id="forecast-back-patch-2025-09-05">
(function(){
  function ensureBackOnFocus(){
    try{
      var w = document.getElementById('widget');
      if(!w || !w.classList.contains('forecast-only')) return;
      var holder = document.getElementById('forecastBack');
      if(!holder){
        holder = document.createElement('div');
        holder.id = 'forecastBack';
        holder.innerHTML = '<button type="button" aria-label="Torna alla mappa" title="Torna alla mappa" tabindex="0">&#8592;</button>';
        holder.addEventListener('click', function(){
          try{ w.classList.remove('forecast-only'); }catch(e){}
          try{ (document.getElementById('mapArea')||document.body).scrollIntoView({behavior:"smooth", block:"start"}); }catch(e){}
        });
        w.appendChild(holder);
      }
      // Posiziona vicino al campo di ricerca
      function pos(){
        try{
          var sf = document.getElementById('searchForm') || document.getElementById('cityInput');
          if(!sf) return;
          var rect = sf.getBoundingClientRect();
          var top = rect.top + window.scrollY + 8;
          var left = Math.max(rect.left + window.scrollX - 48, 12);
          holder.style.position = 'fixed';
          holder.style.top = top + 'px';
          holder.style.left = left + 'px';
          holder.style.zIndex = 9999;
        }catch(e){}
      }
      pos();
      window.addEventListener('resize', pos, {passive:true});
      window.addEventListener('scroll', pos, {passive:true});
    }catch(e){}
  }
  function hookup(){
    var w = document.getElementById('widget');
    if(!w){
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', hookup, {once:true});
      }
      return;
    }
    // Osserva cambi di classe (entra/esce forecast-only)
    try{
      new MutationObserver(ensureBackOnFocus).observe(w, {attributes:true, attributeFilter:['class']});
    }catch(e){}
    ensureBackOnFocus();
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', hookup, {once:true});
  }else{
    hookup();
  }
})();
</script>


<!-- === PATCH 2025‚Äë09‚Äë05c: BACK BUTTON ROBUST === -->
<style id="forecast-back-mobile-robust-2025-09-05">

/* === PATCH 2025‚Äë09‚Äë05d: Style refresh ‚Äî graceful top pill back button === */
@media (max-width: 700px){
  #goBackForecast{
    position: fixed;
    top: calc(env(safe-area-inset-top, 0px) + 12px);
    left: 12px;
    z-index: 10000;
    display: none;
    padding: 12px 16px;
    border-radius: 9999px;
    font-size: 16px;
    line-height: 1;
    border: 1px solid color-mix(in srgb, var(--accent, #0a9396) 40%, #000 20%);
    background: linear-gradient(180deg,
      color-mix(in srgb, var(--accent, #0a9396) 88%, #fff 12%),
      color-mix(in srgb, var(--accent, #0a9396) 78%, #000 22%)
    );
    color: #fff;
    box-shadow: 0 8px 20px rgba(0,0,0,.25);
    backdrop-filter: saturate(1.2) blur(6px);
    -webkit-backdrop-filter: saturate(1.2) blur(6px);
    letter-spacing: .2px;
    touch-action: manipulation;
  }
  /* Fallback per browser senza color-mix */
  @supports not (color: color-mix(in srgb, black, white)){
    #goBackForecast{
      border-color: rgba(0,0,0,.15);
      background: var(--accent, #0a9396);
    }
  }
  #goBackForecast:active{ transform: translateY(1px); }
  /* Mostra SOLO quando #widget √® in forecast-only */
  #widget.forecast-only ~ #goBackForecast{ display: inline-flex; align-items: center; gap: 10px; }
  /* Icona freccia + label */
  #goBackForecast .arrow{ font-weight: 800; font-size: 18px; }
  #goBackForecast .label{ font-weight: 600; }
}


@media (max-width: 700px){
  #goBackForecast{
    position: fixed;
    top: 12px;
    left: 12px;
    z-index: 10000;
    display: none;
    padding: 10px 14px;
    border-radius: 9999px;
    font-size: 16px;
    line-height: 1;
    border: 1px solid rgba(0,0,0,.15);
    background: rgba(255,255,255,.95);
    box-shadow: 0 2px 8px rgba(0,0,0,.18);
  }
  #goBackForecast:active{ transform: translateY(1px); }
  /* Mostra SOLO quando #widget √® in forecast-only */
  #widget.forecast-only ~ #goBackForecast{ display: inline-flex; align-items: center; gap: 8px; }
  /* Icona freccia */
  #goBackForecast .arrow{ font-weight: 700; }
}
</style>

<!-- Lo mettiamo come fratello di #widget per evitare clipping/overflow -->
<button id="goBackForecast" type="button" aria-label="Torna alla mappa" title="Torna alla mappa">
  <span class="arrow">‚Üê</span> <span class="label">Indietro</span>
</button>

<script id="go-back-robust-2025-09-05">
(function(){
  function exitForecastOnly(){
    try{
      var w = document.getElementById('widget');
      if(w){ w.classList.remove('forecast-only'); }
      // Prova a ri-mostrarti la mappa in ogni caso
      ['mapArea','map'].forEach(function(id){
        var el = document.getElementById(id);
        if(!el) return;
        el.style.removeProperty('display');
        el.hidden = false;
        el.style.display = 'block';
      });
      // Scroll alla mappa se presente
      var target = document.getElementById('mapArea') || document.getElementById('map') || document.body;
      try{ target.scrollIntoView({behavior:'smooth', block:'start'}); }catch(e){}
    }catch(e){}
  }
  function ready(fn){
    if(document.readyState === 'loading'){ document.addEventListener('DOMContentLoaded', fn, {once:true}); }
    else { fn(); }
  }
  ready(function(){
    var btn = document.getElementById('goBackForecast');
    if(btn){ btn.addEventListener('click', exitForecastOnly); }
  });
})();
</script>



<!-- ======= LOCKED REGION ‚Äî PRO Weather Override Core (DO NOT EDIT) v2025-09-06 ======= -->
<script id="pro-weather-override-core-locked">
/*
  Questa sezione √® *bloccata* intenzionalmente.
  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  - Non modificare, non spostare, non rinominare.
  - Le funzioni esposte sono rese non riscrivibili e non riconfigurabili.
  - Un watchdog ripristina eventuali alterazioni non volute.
  Per modifiche future, creare una nuova versione con un nuovo ID e version tag.
*/
(function(){
  if (window.__PRO_LOCK__ && window.__PRO_LOCK__.v === '2025-09-06') return;

  const LOCK_VER = '2025-09-06';
  const lockNS = {};

  // ======= LOCKED: ICON‚ÜíWMO MAPPING (do not change) =======
  function _wmoFromName(name){
    const s = String(name||"").toLowerCase();

    // Fenomeni con priorit√† alta
    if (s.includes("tempor")) return 95;
    if (s.includes("pioggia forte")) return 82;
    if (s.includes("pioggia mista a neve")) return 71;
    if (s.includes("piovaschi") || s.includes("schiarite") || s.includes("pioggia") || s.includes("rain")) return 61;
    if (s.includes("neve") || s.includes("snow")) return 71;
    if (s.includes("nebb")) return 45;

    // Coperture nuvolose ‚Äî ordine SPECIFICO (non invertire):
    if (s.includes("molto nuvoloso") || s.includes("coperto")) return 3;  // pi√π chiuso
    if (s.includes("poco nuvoloso") || s.includes("poco")) return 1;      // pochi cumuli
    if (s.includes("parzialmente") || s.includes("parz")) return 2;       // parzialmente nuvoloso
    if (s.includes("nuvoloso")) return 3;                                  // generico "nuvoloso"

    // Sereno
    if (s.includes("sereno") || s.includes("clear")) return 0;

    // Mare/vento e simili: usa un codice neutro non precipitante
    if (s.includes("mare") || s.includes("vento")) return 2;

    // Fallback neutro
    return 2;
  }
  Object.freeze(_wmoFromName);
  try{
    Object.defineProperty(window, 'wmoFromName', { value: _wmoFromName, writable: false, configurable: false });
  }catch(_e){
    // Se gi√† definito non configurabile, lasciamo invariato
  }

  // Watchdog di integrit√†: impedisce override futuri
  setInterval(function(){
    try{
      if (window.wmoFromName !== _wmoFromName) {
        Object.defineProperty(window, 'wmoFromName', { value: _wmoFromName, writable: false, configurable: false });
      }
    }catch(_e){}
  }, 2000);

  // ======= LOCKED: Apply anche per *OGGI* (non rimuovere) =======
  function proApplyTodayNow(){
    try{
      var fc = window.fc;
      if(!fc) return;
      if(typeof window.applySectorCondMiniToForecast === 'function'){
        try{ window.applySectorCondMiniToForecast(fc); }catch(_e){}
      }
      var fn = (window.__applyRangeOverrides || window.applyRangeOverrides);
      if(typeof fn === 'function'){ try{ fn(fc); }catch(_e){} }
      if(typeof window.render === 'function'){ try{ window.render(); }catch(_e){} }
      if(typeof window.updateNarrativeBoxFuture === 'function'){ try{ window.updateNarrativeBoxFuture(); }catch(_e){} }
    }catch(_e){}
  }
  Object.freeze(proApplyTodayNow);
  lockNS.proApplyTodayNow = proApplyTodayNow;

  // Listener persistenti in *capture* per non essere scavalcati
  function attachPersistent(el){
    if(!el || el.__proLockListener) return;
    const h = function(){ try{ proApplyTodayNow(); }catch(_e){} };
    el.addEventListener('click', h, { capture:true });
    Object.defineProperty(el, '__proLockListener', { value:true, writable:false });
  }
  function boot(){
    attachPersistent(document.getElementById('proApplyNow'));
    attachPersistent(document.getElementById('proSave'));
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', boot, { once:true });
  }else{
    boot();
  }
  // Re-alleghiamo i listener se il DOM cambia
  try{
    const mo = new MutationObserver(boot);
    mo.observe(document.documentElement, { childList:true, subtree:true });
    Object.freeze(mo);
  }catch(_e){}

  // Esponi namespace lockato
  lockNS.v = LOCK_VER;
  Object.freeze(lockNS);
  try{
    Object.defineProperty(window, '__PRO_LOCK__', { value: lockNS, writable:false, configurable:false });
  }catch(_e){}

})(); 
</script>
<!-- ======= END LOCKED REGION ======= -->


<!-- === PATCH 2025‚Äë09‚Äë07: Tri‚Äëorario sotto i pannelli giornalieri (default) === -->
<style id="tri-under-daily-css">
  /* contenitore sotto le fasce (mattina/pomeriggio/sera/notte) */
  #dailyDetailPanel{ margin:16px auto; max-width:980px; }
  #dailyDetailPanel .card{
    background:var(--glass);
    border-radius:var(--radius);
    padding:0.6rem 0.8rem 1rem;
    color:var(--text);
    border:1px solid rgba(255,255,255,.12);
    box-shadow:0 8px 24px rgba(0,0,0,.20);
  }
  #dailyDetailPanel .card h3{
    margin:0 0 .4rem;
    font-size:1.02rem;
    display:flex; align-items:center; gap:.5rem;
  }
  /* lista tri‚Äëoraria riusa la stessa grammatica della hourly-list */
  #dailyDetailPanel .hourly-list{display:flex;flex-direction:column;gap:6px;margin-top:6px;}
  #dailyDetailPanel .hour-row{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:rgba(255,255,255,.07);border-radius:10px;font-size:.95rem}
  #dailyDetailPanel .hour-row .hr-time{font-weight:700;width:84px;flex-shrink:0;text-align:left;}
  #dailyDetailPanel .hour-row .hr-icon{width:34px;flex-shrink:0;display:flex;justify-content:center;}
  #dailyDetailPanel .hour-row .hr-desc{flex:1;min-width:140px;opacity:.95;padding:0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  #dailyDetailPanel .hour-row .hr-temp{width:56px;text-align:right;flex-shrink:0;}
  #dailyDetailPanel .hour-row .hr-rain{width:72px;text-align:right;flex-shrink:0;}
  #dailyDetailPanel .hour-row .hr-wind{width:70px;text-align:right;flex-shrink:0;font-size:.85rem;opacity:.95;}
  @media(max-width:520px){
    #dailyDetailPanel .hour-row{flex-wrap:wrap;row-gap:4px}
    #dailyDetailPanel .hour-row .hr-desc{order:4;width:100%}
    #dailyDetailPanel .hour-row .hr-rain{width:auto;flex:1;text-align:left}
    #dailyDetailPanel .hour-row .hr-wind{width:auto;flex:0 0 auto;text-align:right}
  }
</style>
<script id="tri-under-daily-js">
(function(){

  // Inserisce/assicura il pannello subito sotto #dayParts
  function ensurePanel(){
    var fasce = document.getElementById('dayParts');
    if(!fasce || !fasce.parentNode) return null;
    var panel = document.getElementById('dailyDetailPanel');
    if(!panel){
      panel = document.createElement('section');
      panel.id = 'dailyDetailPanel';
      panel.innerHTML = '<div class="card"><h3>Dettaglio triorario</h3><div class="content"></div></div>';
    }
    if(fasce.nextSibling !== panel){
      fasce.parentNode.insertBefore(panel, fasce.nextSibling);
    }
    return panel;
  }

  // Utility: descrizione WMO se disponibile
  function descFor(code){
    try{
      if(typeof window.wmoDesc === 'function') return window.wmoDesc(code);
    }catch(e){}
    // fallback stringa generica
    return '‚Äî';
  }

  // Costruisce lista tri‚Äëoraria dal sotto‚Äëforecast (un solo giorno)
  function renderTriList(fc){
    var h = fc && fc.hourly || {};
    var n = (h.time||[]).length;
    if(!n) return '<div class="hourly-list"></div>';

    function avg(arr, idxs){
      var s=0, c=0; for(var i=0;i<idxs.length;i++){ var v=arr[idxs[i]]; if(isFinite(v)){ s+=v; c++; } }
      return c? (Math.round((s/c)*10)/10) : 0;
    }
    function sum(arr, idxs){
      var s=0; for(var i=0;i<idxs.length;i++){ var v=arr[idxs[i]]; if(isFinite(v)) s+=v; }
      return Math.round(s*10)/10;
    }
    function maxProb(prob, idxs){
      var m=0; for(var i=0;i<idxs.length;i++){ var v=prob[idxs[i]]; if(isFinite(v) && v>m) m=v; }
      return m;
    }

    var rowsHTML = [];
    for(var i=0; i<n; i+=3){
      var idxs = [i, i+1, i+2].filter(function(j){ return j<n; });
      var timeStart = String(h.time[i]).slice(11,16);
      var timeEnd   = String(h.time[Math.min(i+2, n-1)]).slice(11,16);
      // icona: prendi l'ora con pi√π precipitazione, altrimenti la centrale
      var best = idxs[0];
      if(h.precipitation){ for(var k=0;k<idxs.length;k++){ var j=idxs[k]; if((h.precipitation[j]||0) > (h.precipitation[best]||0)) best = j; } }
      else if(idxs.length>=2){ best = idxs[Math.floor(idxs.length/2)]; }
      var isNight = !!(h.is_day && (idxs.reduce(function(s,j){ return s + (h.is_day[j]===0?1:0); },0) > (idxs.length/2)));
      var iconHTML = (typeof window.iconHTML_NOEMOJI==='function') ? window.iconHTML_NOEMOJI(h.weathercode[best], isNight) : '';
      var code = h.weathercode ? h.weathercode[best] : null;
      var tAvg = avg(h.temperature_2m||[], idxs);
      var rain = sum(h.precipitation||[], idxs);
      var wind = avg(h.wind_speed_10m||[], idxs);
      var prob = (h.precipitation_probability) ? maxProb(h.precipitation_probability, idxs) : null;
      var probTxt = (prob!=null && isFinite(prob)) ? (Math.round(prob) + '%') : '';

      rowsHTML.push(
        '<div class="hour-row">' +
          '<div class="hr-time">'+ timeStart + '‚Äì' + timeEnd +'</div>' +
          '<div class="hr-icon">' + iconHTML + '</div>' +
          '<div class="hr-desc">' + descFor(code) + '</div>' +
          '<div class="hr-temp">' + (isFinite(tAvg)? Math.round(tAvg)+'¬∞' : '‚Äî') + '</div>' +
          '<div class="hr-rain">' + (isFinite(rain)? (rain.toFixed(1)+' mm') : '0.0 mm') + (probTxt? ' ¬∑ ' + probTxt : '') + '</div>' +
          '<div class="hr-wind">' + (isFinite(wind)? Math.round(wind)+' km/h' : '‚Äî') + '</div>' +
        '</div>'
      );
    }
    return '<div class="hourly-list">' + rowsHTML.join('') + '</div>';
  }

  // Sotto‚Äëforecast per giorno (se definito globalmente lo uso, altrimenti semplice fallback)
  function subForecastByDay(fc, index){
    if(typeof window.subForecastByDay === 'function') return window.subForecastByDay(fc, index);
    if(!fc || !fc.hourly || !fc.daily || index<0) return fc;
    var dayISO = fc.daily.time[index];
    var rows = [];
    for(var i=0;i<fc.hourly.time.length;i++){
      if((fc.hourly.time[i]||'').indexOf(dayISO)===0) rows.push(i);
    }
    if(!rows.length) return fc;
    var sub = JSON.parse(JSON.stringify(fc));
    Object.keys(sub.hourly).forEach(function(k){
      sub.hourly[k] = rows.map(function(i){ return fc.hourly[k][i]; });
    });
    ['time','temperature_2m_max','temperature_2m_min','weathercode'].forEach(function(k){
      if(sub.daily && sub.daily[k]) sub.daily[k] = [fc.daily[k][index]];
    });
    return sub;
  }

  function selectedDayIndex(){
    try{
      var strip = document.querySelector('#dailyPanel .days');
      if(!strip) return 0;
      var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
      var sel   = items.findIndex(function(el){ return el.classList.contains('sel'); });
      return (sel>=0 ? sel : 0);
    }catch(e){ return 0; }
  }

  function renderDefaultTri(){
    var panel = ensurePanel(); if(!panel) return;
    var content = panel.querySelector('.content'); if(!content) return;
    var fc = window.fc; if(!fc || !fc.hourly) { content.innerHTML = ''; return; }
    var idx = selectedDayIndex();
    var sub = subForecastByDay(fc, idx);
    content.innerHTML = renderTriList(sub);
  }

  // Re‚Äërender on relevant events
  document.addEventListener('DOMContentLoaded', function(){
    try{ renderDefaultTri(); }catch(e){}
  });
  // quando strip 7‚Äëgiorni cambia (patch esistente emette mlg:dayparts-rendered)
  document.addEventListener('mlg:dayparts-rendered', function(){
    try{ renderDefaultTri(); }catch(e){}
  }, true);
  // fallback: riascolta click sulla strip se non c'√® l'evento custom
  document.addEventListener('click', function(ev){
    var d = ev.target && ev.target.closest && ev.target.closest('#dailyPanel .day');
    if(d){ setTimeout(renderDefaultTri, 30); }
  }, true);

  // Se una nuova previsione viene caricata, prova a renderizzare
  try{
    var _oldRun = window.run;
    if(typeof _oldRun === 'function' && !_oldRun.__triInject){
      window.run = function(){
        var out = _oldRun.apply(this, arguments);
        try{ renderDefaultTri(); }catch(e){}
        return out;
      };
      window.run.__triInject = true;
    }
  }catch(e){}

  // Esponi un gancio per forzare manualmente
  window.__renderTriUnderDaily = renderDefaultTri;

})();
</script>


<!-- === PATCH 2025‚Äë09‚Äë09 ‚Äî Tri‚Äëorario mobile tightening === -->
<style id="tri-mobile-tighten-2025-09-09">
/* Recupera spazio laterale e riduce lo spazio fra ora e icona
   senza toccare l'HTML/JS. Solo override CSS, sicuro. */

@media (max-width: 700px){
  /* Card che contiene il dettaglio tri‚Äëorario */
  #dailyDetailPanel .card{
    padding: .5rem .6rem .7rem !important;
  }

  /* Riga tri‚Äëoraria pi√π compatta */
  #dailyDetailPanel .hour-row{
    padding: 8px 8px !important;
  }

  /* Ora + icona: pi√π vicine e pi√π strette */
  #dailyDetailPanel .hour-row .hr-time{
    width: 70px !important;      /* prima ~84px */
    margin-right: 2px !important;
  }
  #dailyDetailPanel .hour-row .hr-icon{
    width: 26px !important;      /* prima ~34px */
  }

  /* Descrizione pi√π snella */
  #dailyDetailPanel .hour-row .hr-desc{
    padding: 0 4px !important;
    min-width: 120px !important;
  }

  /* Colonnine finali leggermente pi√π strette */
  #dailyDetailPanel .hour-row .hr-temp{ width: 50px !important; }
  #dailyDetailPanel .hour-row .hr-rain{ width: 60px !important; }
  #dailyDetailPanel .hour-row .hr-wind{ width: 60px !important; }

  /* Se viene mostrata la tabella tri‚Äëoraria nel modal, compattiamo anche l√¨ */
  #triModal .hourly-table td,
  #triModal .hourly-table th{
    padding: 8px 6px !important;
  }
}

/* Extra su telefoni molto piccoli */
@media (max-width: 420px){
  #dailyDetailPanel .hour-row{ padding: 7px 6px !important; }
  #dailyDetailPanel .hour-row .hr-time{ width: 64px !important; }
  #dailyDetailPanel .hour-row .hr-icon{ width: 24px !important; }
  #dailyDetailPanel .hour-row .hr-desc{ min-width: 104px !important; }
}
</style>

<!-- === PATCH 2025-09-10 ‚Äî Troncamento descrizione fenomeni === -->
<style id="tri-mobile-desc-ellipsis-2025-09-10">
/* Taglia automaticamente la descrizione (sereno / poco nuvoloso / ecc.)
   con ellissi dove necessario, su mobile e nel modal della tabella. */

@media (max-width: 700px){
  /* Daily detail panel */
  #dailyDetailPanel .hour-row .hr-desc{
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    flex: 1 1 auto !important;
    min-width: 0 !important;          /* permette l'ellissi nei layout flex */
  }

  /* Modal table */
  #triModal .hourly-table{
    table-layout: fixed;   /* necessario per l'ellissi sulle celle */
    width: 100%;
  }
  #triModal .hourly-table td,
  #triModal .hourly-table th{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  /* Larghezze minime fissate per lasciare alla descrizione lo spazio rimanente */
  #triModal .hourly-table td:nth-child(1){ width: 56px; } /* ora */
  #triModal .hourly-table td:nth-child(2){ width: 40px; } /* icona */
  #triModal .hourly-table td:nth-child(4){ width: 58px; } /* temp */
  #triModal .hourly-table td:nth-child(5){ width: 58px; } /* UR */
  #triModal .hourly-table td:nth-child(6){ width: 66px; } /* mm */
  #triModal .hourly-table td:nth-child(7){ width: 58px; } /* % pioggia */
  #triModal .hourly-table td:nth-child(8){ width: 66px; } /* vento */
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Icona fenomeno pi√π grande su mobile (tri-orario) === -->
<style id="tri-mobile-bigger-icon-2025-09-10">
@media (max-width: 700px){
  /* Aumenta la dimensione dell'icona del fenomeno nelle tri-orarie */
  #dailyDetailPanel .hour-row .hr-icon{
    width: 32px !important;     /* prima 26px */
    height: 32px !important;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  /* Se l'icona √® un <img> o un <svg>, scala coerentemente */
  #dailyDetailPanel .hour-row .hr-icon img,
  #dailyDetailPanel .hour-row .hr-icon svg{
    width: 32px !important;
    height: 32px !important;
    max-width: 32px !important;
  }

  /* recupero 2px riducendo leggermente la colonna oraria */
  #dailyDetailPanel .hour-row .hr-time{ width: 68px !important; }
}

@media (max-width: 420px){
  #dailyDetailPanel .hour-row .hr-icon,
  #dailyDetailPanel .hour-row .hr-icon img,
  #dailyDetailPanel .hour-row .hr-icon svg{
    width: 28px !important;
    height: 28px !important;
    max-width: 28px !important;
  }
  #dailyDetailPanel .hour-row .hr-time{ width: 62px !important; }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Allinea precipitazione e probabilit√† nella stessa riga === -->
<style id="tri-mobile-rain-prob-nowrap-2025-09-10">
@media (max-width: 700px){
  /* Libera spazio e impedisce l'andata a capo disordinata */
  #dailyDetailPanel .hour-row .hr-temp{ width: 44px !important; }
  #dailyDetailPanel .hour-row .hr-wind{ width: 52px !important; }

  /* Niente larghezze rigide su pioggia/prob; tienile sempre in linea */
  #dailyDetailPanel .hour-row .hr-rain,
  #dailyDetailPanel .hour-row .hr-prob{
    width: auto !important;
    max-width: none !important;
    white-space: nowrap !important;
    flex: 0 1 auto !important;
  }

  /* Se esiste un wrapper centrale (alcuni temi lo hanno) mantieni tutto su una riga */
  #dailyDetailPanel .hour-row .hr-metrics,
  #dailyDetailPanel .hour-row .hr-middle{
    display: flex !important;
    flex-wrap: nowrap !important;
    align-items: center;
    min-width: 0 !important;
    gap: 6px;
  }
}

@media (max-width: 420px){
  #dailyDetailPanel .hour-row .hr-temp{ width: 42px !important; }
  #dailyDetailPanel .hour-row .hr-wind{ width: 48px !important; }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Vento: 'km/h' sempre affianco, non sotto === -->
<style id="tri-mobile-wind-inline-2025-09-10">
@media (max-width: 700px){
  /* Forza la cella del vento ad essere su una sola riga */
  #dailyDetailPanel .hour-row .hr-wind{
    display: inline-flex !important;
    align-items: baseline;
    justify-content: flex-end;
    gap: 4px;
    white-space: nowrap !important;
    width: 56px !important;            /* leggermente compatta ma sufficiente */
    min-width: 56px !important;
    flex: 0 0 56px !important;
  }
  /* I figli non devono forzare stack verticali */
  #dailyDetailPanel .hour-row .hr-wind > *{
    display: inline !important;
    white-space: inherit !important;
  }

  /* Evita ritorni a capo nella sezione centrale per lasciare spazio al vento */
  #dailyDetailPanel .hour-row .hr-middle,
  #dailyDetailPanel .hour-row .hr-metrics{
    display: flex !important;
    flex-wrap: nowrap !important;
    min-width: 0 !important;
    gap: 6px;
  }
}

@media (max-width: 420px){
  #dailyDetailPanel .hour-row .hr-wind{
    width: 52px !important;
    min-width: 52px !important;
    flex: 0 0 52px !important;
  }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Riduci margini laterali + icone un po' pi√π grandi === -->
<style id="tri-mobile-tight-gutters-bigger-icons-2025-09-10">
@media (max-width: 700px){
  /* Stringe i "binari" laterali nel box Dettaglio triorario */
  #dailyDetailPanel{
    padding-left: 6px !important;
    padding-right: 6px !important;
  }
  /* Card contenitore: elimina margini inutili ai lati */
  #dailyDetailPanel .card{
    margin-left: 0 !important;
    margin-right: 0 !important;
    border-radius: 16px;
  }
  /* Eventuali liste / body interni: azzera padding orizzontale per far aderire le card */
  #dailyDetailPanel .card-body,
  #dailyDetailPanel .list-group,
  #dailyDetailPanel .list-group-flush,
  #dailyDetailPanel .hourly-container{
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  /* Le singole righe/card devono occupare tutto lo spazio utile */
  #dailyDetailPanel .hour-row,
  #dailyDetailPanel .list-group-item,
  #dailyDetailPanel .hour-card{
    margin-left: 0 !important;
    margin-right: 0 !important;
    border-radius: 14px;
  }

  /* Icone fenomeno un po' pi√π grandi */
  #dailyDetailPanel .hour-row .hr-icon{
    width: 36px !important;
    height: 36px !important;
    display: flex; align-items: center; justify-content: center;
  }
  #dailyDetailPanel .hour-row .hr-icon img,
  #dailyDetailPanel .hour-row .hr-icon svg{
    width: 36px !important;
    height: 36px !important;
    max-width: 36px !important;
  }

  /* Leggera compensazione: colonna ora appena pi√π stretta */
  #dailyDetailPanel .hour-row .hr-time{ width: 66px !important; }
}

/* Telefoni molto piccoli */
@media (max-width: 420px){
  #dailyDetailPanel{ padding-left: 4px !important; padding-right: 4px !important; }
  #dailyDetailPanel .hour-row .hr-icon,
  #dailyDetailPanel .hour-row .hr-icon img,
  #dailyDetailPanel .hour-row .hr-icon svg{
    width: 32px !important; height: 32px !important; max-width: 32px !important;
  }
  #dailyDetailPanel .hour-row .hr-time{ width: 62px !important; }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Gutter laterali a 0px su mobile === -->
<style id="tri-mobile-zero-gutters-2025-09-10">
@media (max-width: 700px){
  /* Nessun margine n√© padding ai lati del pannello */
  #dailyDetailPanel{
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
  }
  /* Aderenza totale delle card al bordo del box */
  #dailyDetailPanel .card,
  #dailyDetailPanel .hour-card,
  #dailyDetailPanel .list-group,
  #dailyDetailPanel .list-group-item,
  #dailyDetailPanel .hourly-container,
  #dailyDetailPanel .card-body{
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî ZERO gutters: selettori esatti (.content, .hourly-card) === -->
<style id="tri-mobile-zero-gutters-strong-2025-09-10">
@media (max-width:700px){
  /* Il padding laterale viene da .content: azzeriamolo */
  #dailyDetailPanel .content{ padding-left:0 !important; padding-right:0 !important; }
  /* Anche eventuali card/list interni */
  #dailyDetailPanel .card, 
  #dailyDetailPanel .card-body,
  #dailyDetailPanel .list-group,
  #dailyDetailPanel .list-group-flush{ padding-left:0 !important; padding-right:0 !important; margin-left:0 !important; margin-right:0 !important; }

  /* Il contenitore delle tri-orarie (hourly-card) deve occupare 100% */
  #dailyDetailPanel .hourly-card{ max-width:none !important; width:100% !important; margin-left:0 !important; margin-right:0 !important; }

  /* Se la stessa vista √® resa dentro #dayParts usiamo gli stessi fix */
  #dayParts .part .detail{ padding-left:0 !important; padding-right:0 !important; }
  #dayParts .part .detail .hourly-card{ max-width:none !important; width:100% !important; margin-left:0 !important; margin-right:0 !important; }

  /* Niente margine orizzontale anche alla lista righe */
  .hourly-list{ margin-left:0 !important; margin-right:0 !important; }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Intestazioni colonne su mobile (ORA / TEMP¬∞C / PREC. / PROB% / VENTO) === -->
<style id="tri-mobile-column-headers-2025-09-10">
@media (max-width:700px){
  /* creiamo spazio per le etichette sopra la prima riga */
  #dailyDetailPanel .hourly-list{ position:relative; padding-top: 18px !important; }
  #dailyDetailPanel .hour-row:first-child .hr-time,
  #dailyDetailPanel .hour-row:first-child .hr-temp,
  #dailyDetailPanel .hour-row:first-child .hr-rain,
  #dailyDetailPanel .hour-row:first-child .hr-prob,
  #dailyDetailPanel .hour-row:first-child .hr-wind{
    position: relative;
  }
  #dailyDetailPanel .hour-row:first-child .hr-time::before{
    content: "ORA";
    position:absolute; top:-16px; left:0;
    font-size:10px; letter-spacing:.3px; opacity:.75;
  }
  #dailyDetailPanel .hour-row:first-child .hr-temp::before{
    content: "TEMP¬∞C";
    position:absolute; top:-16px; left:0;
    font-size:10px; letter-spacing:.3px; opacity:.75;
  }
  #dailyDetailPanel .hour-row:first-child .hr-rain::before{
    content: "PREC.";
    position:absolute; top:-16px; left:0;
    font-size:10px; letter-spacing:.3px; opacity:.75;
  }
  #dailyDetailPanel .hour-row:first-child .hr-prob::before{
    content: "PROB%";
    position:absolute; top:-16px; left:0;
    font-size:10px; letter-spacing:.3px; opacity:.75;
  }
  #dailyDetailPanel .hour-row:first-child .hr-wind::before{
    content: "VENTO";
    position:absolute; top:-16px; right:0; /* il valore √® allineato a destra */
    font-size:10px; letter-spacing:.3px; opacity:.75;
    text-align:right; width:100%;
  }
}
</style>


<!-- === PATCH 2025-09-10 ‚Äî Header fuori dalle card con etichette colonne === -->
<style id="tri-mobile-outside-header-2025-09-10-old">
@media (max-width:700px){
  #dailyDetailPanel .card > h3{ display:none !important; } /* nasconde 'Dettaglio triorario' */

  #dailyDetailPanel .tri-header{
    display:grid;
    grid-template-columns: 66px 36px 44px auto auto 56px; /* ORA | (icona) | TEMP | PREC | PROB | VENTO */
    align-items:end;
    gap:6px;
    padding: 0 8px 4px;
    font-size:10px;
    letter-spacing:.3px;
    opacity:.8;
  }
  #dailyDetailPanel .tri-header .hdr-time{ grid-column:1; }
  #dailyDetailPanel .tri-header .hdr-icon{ grid-column:2; } /* vuoto: solo per allineare */
  #dailyDetailPanel .tri-header .hdr-temp{ grid-column:3; }
  #dailyDetailPanel .tri-header .hdr-rain{ grid-column:4; }
  #dailyDetailPanel .tri-header .hdr-prob{ grid-column:5; }
  #dailyDetailPanel .tri-header .hdr-wind{ grid-column:6; text-align:right; }

  /* Telefoni molto piccoli */
  @media (max-width:420px){
    #dailyDetailPanel .tri-header{
      grid-template-columns: 62px 32px 42px auto auto 52px;
      padding: 0 6px 4px;
    }
  }
}
</style>


<script id="tri-mobile-outside-header-js-2025-09-10">
(function(){
  function ensureHeader(){
    var panel = document.getElementById('dailyDetailPanel');
    if(!panel) return;
    var card = panel.querySelector('.card');
    if(!card) return;
    var content = card.querySelector('.content');
    if(!content) return;

    // nascondi l'H3 (fallback anche se il CSS non carica)
    var h3 = card.querySelector('h3');
    if(h3) h3.style.display = 'none';

    // crea header se non esiste
    if(!card.querySelector('.tri-header')){
      var hdr = document.createElement('div');
      hdr.className = 'tri-header';
      hdr.innerHTML = '<span class="hdr-time">ORA</span>' +
                      '<span class="hdr-icon"></span>' +
                      '<span class="hdr-temp">TEMP¬∞C</span>' +
                      '<span class="hdr-rain">PREC.</span>' +
                      '<span class="hdr-prob">PROB%</span>' +
                      '<span class="hdr-wind">VENTO</span>';
      card.insertBefore(hdr, content);
    }
  }

  // prova subito
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', ensureHeader);
  }else{
    ensureHeader();
  }

  // se il pannello viene rigenerato, reinserisci l'header
  var obs = new MutationObserver(function(){
    ensureHeader();
  });
  obs.observe(document.documentElement, {childList:true, subtree:true});
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî CLEANUP: un solo header fuori, nessun duplicato === -->
<style id="tri-mobile-header-cleanup-2025-09-10">
@media (max-width:700px){
  /* 1) Disattiva etichette nella PRIMA RIGA (quelle pseudo-element) */
  #dailyDetailPanel .hour-row:first-child .hr-time::before,
  #dailyDetailPanel .hour-row:first-child .hr-temp::before,
  #dailyDetailPanel .hour-row:first-child .hr-rain::before,
  #dailyDetailPanel .hour-row:first-child .hr-prob::before,
  #dailyDetailPanel .hour-row:first-child .hr-wind::before{
    content: none !important;
  }
  /* 2) Ripristina l'offset top aggiunto allora */
  #dailyDetailPanel .hourly-list{ padding-top: 0 !important; }

  /* 3) Nessuno spazio extra attorno al titolo/area header */
  #dailyDetailPanel .card{ margin-top: 0 !important; }
}
</style>

<script id="tri-mobile-header-dedupe-2025-09-10">
(function(){
  function dedupeHeader(){
    var panel = document.getElementById('dailyDetailPanel');
    if(!panel) return;
    var card = panel.querySelector('.card');
    if(!card) return;
    var headers = card.querySelectorAll('.tri-header');
    if(headers.length > 1){
      // lascia solo il primo
      for(var i=1;i<headers.length;i++){ headers[i].remove(); }
    }
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', dedupeHeader);
  }else{
    dedupeHeader();
  }
  new MutationObserver(dedupeHeader).observe(document.getElementById('dailyDetailPanel')||document.documentElement,{childList:true,subtree:true});
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Allineamento preciso intestazioni con prima riga === -->
<style id="tri-mobile-outside-header-flex-2025-09-10">
@media (max-width:700px){
  #dailyDetailPanel .tri-header{
    display:flex; align-items:flex-end; gap:6px;
    padding:0 8px 4px;
    font-size:10px; letter-spacing:.3px; opacity:.8;
    position:relative;
  }
  #dailyDetailPanel .tri-header > span{ flex:0 0 auto; }
  #dailyDetailPanel .tri-header .hdr-wind{ text-align:right; }
}
</style>
<script id="tri-mobile-sync-widths-2025-09-10">
(function(){
  function syncHeader(){
    var panel=document.getElementById('dailyDetailPanel'); if(!panel) return;
    var card=panel.querySelector('.card'); if(!card) return;
    var header=card.querySelector('.tri-header'); if(!header) return;
    var firstRow=card.querySelector('.hour-row'); if(!firstRow) return;

    var map=[
      ['.hr-time','.hdr-time'],
      ['.hr-icon','.hdr-icon'],
      ['.hr-temp','.hdr-temp'],
      ['.hr-rain','.hdr-rain'],
      ['.hr-prob','.hdr-prob'],
      ['.hr-wind','.hdr-wind']
    ];
    map.forEach(function(pair){
      var cell=firstRow.querySelector(pair[0]);
      var hdr=header.querySelector(pair[1]);
      if(cell && hdr){
        var w=Math.round(cell.getBoundingClientRect().width);
        // protezione per valori strani
        if(w>0 && w<400){
          hdr.style.flex='0 0 '+w+'px';
        }
      }
    });
  }

  function init(){
    syncHeader();
    window.addEventListener('resize', syncHeader);
    var panel=document.getElementById('dailyDetailPanel')||document.documentElement;
    new MutationObserver(syncHeader).observe(panel,{childList:true,subtree:true});
  }

  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); }
  else { init(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Allineamento pixel-perfect (posizionamento assoluto) === -->
<style id="tri-mobile-outside-header-absolute-2025-09-10">
@media (max-width:700px){
  #dailyDetailPanel .tri-header{
    position: relative;
    height: 16px;                 /* spazio per le etichette */
    padding: 0 8px 4px;
    font-size: 10px;
    letter-spacing: .3px;
    opacity: .8;
  }
  #dailyDetailPanel .tri-header > span{
    position: absolute; top: 0;
    white-space: nowrap;
    transform: translateX(0);     /* evitare eredit√† */
  }
  #dailyDetailPanel .tri-header .hdr-wind{ text-align: right; }
}
</style>
<script id="tri-mobile-absolute-align-2025-09-10">
(function(){
  function alignAbsolute(){
    var panel=document.getElementById('dailyDetailPanel'); if(!panel) return;
    var card=panel.querySelector('.card'); if(!card) return;
    var header=card.querySelector('.tri-header'); if(!header) return;
    var firstRow=card.querySelector('.hour-row'); if(!firstRow) return;

    var container=header.getBoundingClientRect();

    var pairs=[
      ['.hr-time','.hdr-time','left'],
      ['.hr-icon',null,null], // solo offset
      ['.hr-temp','.hdr-temp','left'],
      ['.hr-rain','.hdr-rain','left'],
      ['.hr-prob','.hdr-prob','left'],
      ['.hr-wind','.hdr-wind','right']
    ];

    var leftSoFar = 0;
    var lastRight = container.left;

    // mappa cell -> {left,width}
    var rects = {};
    ['.hr-time','.hr-icon','.hr-temp','.hr-rain','.hr-prob','.hr-wind'].forEach(function(sel){
      var el=firstRow.querySelector(sel);
      if(el){
        var r=el.getBoundingClientRect();
        rects[sel]={left:r.left, width:r.width, right:r.right};
      }
    });

    // posiziona ciascuna intestazione esattamente sopra la relativa cella
    [['.hr-time','.hdr-time'],['.hr-temp','.hdr-temp'],['.hr-rain','.hdr-rain'],['.hr-prob','.hdr-prob']].forEach(function(p){
      var cr=rects[p[0]]; var lab=header.querySelector(p[1]);
      if(cr&&lab){
        var l = Math.round(cr.left - container.left);
        var w = Math.round(cr.width);
        lab.style.left = l+'px';
        lab.style.width = w+'px';
        lab.style.textAlign = 'left';
      }
    });

    var windR = rects['.hr-wind'], labW = header.querySelector('.hdr-wind');
    if(windR && labW){
      var l = Math.round(windR.left - container.left);
      var w = Math.round(windR.width);
      labW.style.left = l+'px';
      labW.style.width = w+'px';
      labW.style.textAlign = 'right';
    }
  }

  function init(){
    alignAbsolute();
    window.addEventListener('resize', alignAbsolute);
    var root=document.getElementById('dailyDetailPanel')||document.documentElement;
    new MutationObserver(alignAbsolute).observe(root,{childList:true,subtree:true});
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); }
  else { init(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Crea .hr-prob wrappando la % dentro .hr-rain === -->
<script id="tri-mobile-wrap-prob-2025-09-10">
(function(){
  function wrapProb(){
    var rows = document.querySelectorAll('#dailyDetailPanel .hour-row');
    rows.forEach(function(row){
      // se esiste gi√† .hr-prob per questa riga, salta
      if(row.querySelector('.hr-prob')) return;
      var rain = row.querySelector('.hr-rain');
      if(!rain) return;
      // lavora su HTML per gestire anche eventuali <span> interni
      var html = rain.innerHTML;
      // cerca l'ultima occorrenza di "¬∑" seguita da una percentuale
      var m = html.match(/(.+?)¬∑\s*([0-9]+(?:\.[0-9]+)?)%\s*$/);
      if(m){
        rain.innerHTML = m[1] + '¬∑ <span class="hr-prob">' + m[2] + '%</span>';
      }else{
        // fallback: se finisce con % senza "¬∑"
        var m2 = html.match(/(.+?)([0-9]+(?:\.[0-9]+)?)%\s*$/);
        if(m2){
          rain.innerHTML = m2[1] + '<span class="hr-prob">' + m2[2] + '%</span>';
        }
      }
    });
  }
  function init(){
    wrapProb();
    // riallinea anche quando i dati cambiano
    var root = document.getElementById('dailyDetailPanel') || document.documentElement;
    new MutationObserver(wrapProb).observe(root,{childList:true,subtree:true});
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); }
  else { init(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Expand tri-hour row into hourly cards on click === -->
<style id="tri-hourly-expand-2025-09-10">
/* Look & feel for sub-hour cards */
#dailyDetailPanel .hour-row{ cursor: pointer; }
#dailyDetailPanel .hour-row .subhours{
  overflow: hidden;
  transition: grid-template-rows .25s ease, padding .2s ease;
  display: grid;
  grid-template-rows: 0fr;     /* collapsed */
}
#dailyDetailPanel .hour-row.expanded .subhours{
  grid-template-rows: 1fr;     /* expanded */
  padding-top: 6px;
}
#dailyDetailPanel .hour-row .subhours > div{
  min-height: 0;
}
#dailyDetailPanel .sub-hour{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; margin:6px 0;
  border-radius:12px;
  background: rgba(255,255,255,.06);
}

/* reuse same column classes for alignment */
#dailyDetailPanel .sub-hour .hr-time{ width: 64px; font-weight:600; }
#dailyDetailPanel .sub-hour .hr-icon{ width: 28px; display:flex; justify-content:center; }
#dailyDetailPanel .sub-hour .hr-temp{ width: 44px; }
#dailyDetailPanel .sub-hour .hr-rain{ width: auto; }
#dailyDetailPanel .sub-hour .hr-prob{ width: auto; margin-left: 6px; }
#dailyDetailPanel .sub-hour .hr-wind{ width: 56px; margin-left:auto; text-align:right; }
#dailyDetailPanel .sub-hour .hr-desc{ flex:1 1 auto; min-width: 100px; }

/* hover/active feedback */
@media (hover:hover){
  #dailyDetailPanel .hour-row:hover{ filter: brightness(1.02); }
}
#dailyDetailPanel .hour-row:active{ filter: brightness(0.98); }
</style>


<script id="tri-hourly-expand-js-2025-09-10">
(function(){
  function parseRange(txt){
    // "09:00‚Äì11:00" or "09:00 - 11:00"
    var m = txt.match(/(\d{2}):(\d{2}).*?(\d{2}):(\d{2})/);
    if(!m) return [];
    var s = parseInt(m[1],10), e = parseInt(m[3],10);
    // normalize end possibly < start across midnight
    var hours = [];
    for(var h=s; ; h=(h+1)%24){
      hours.push((h<10?'0':'')+h+':00');
      if(h===e) break;
      if(hours.length>24) break;
    }
    return hours;
  }

  function getHourlyFromTable(hourStr){
    var tbl = document.querySelector('#triModal .hourly-table');
    if(!tbl) return null;
    var rows = Array.from(tbl.querySelectorAll('tr'));
    // find a row whose first cell contains the hour string
    for(var i=0;i<rows.length;i++){
      var tcell = rows[i].querySelector('td,th');
      if(!tcell) continue;
      if((tcell.textContent||'').indexOf(hourStr) !== -1){
        var tds = rows[i].querySelectorAll('td');
        if(!tds || tds.length===0) continue;
        // expected indexes (based on earlier patches):
        // 1: time, 2: icon, 4: temp, 6: mm, 7: prob, 8: wind
        var temp = (tds[2] && tds[2].textContent.trim()) || '';
        var mm   = (tds[5] && tds[5].textContent.trim()) || '';
        var prob = (tds[6] && tds[6].textContent.trim()) || '';
        var wind = (tds[7] && tds[7].textContent.trim()) || '';
        // icon
        var iconCell = tds[1];
        var iconHTML = iconCell ? iconCell.innerHTML : '';
        return {temp: temp, mm: mm, prob: prob, wind: wind, iconHTML: iconHTML, desc: ''};
      }
    }
    return null;
  }

  function buildSubHour(hourStr, data, fallbackIconHTML){
    var el = document.createElement('div');
    el.className = 'sub-hour';
    el.innerHTML =
      '<div class="hr-time">'+hourStr+'</div>'+
      '<div class="hr-icon">'+(data && data.iconHTML ? data.iconHTML : (fallbackIconHTML||''))+'</div>'+
      '<div class="hr-temp">'+(data && data.temp ? data.temp : '‚Äî')+'</div>'+
      '<div class="hr-rain">'+(data && data.mm ? data.mm : '‚Äî')+'</div>'+
      '<div class="hr-prob">'+(data && data.prob ? data.prob : '‚Äî')+'</div>'+
      '<div class="hr-wind">'+(data && data.wind ? data.wind : '‚Äî')+'</div>';
    return el;
  }

  function toggleRow(row){
    row.classList.toggle('expanded');
    var box = row.querySelector('.subhours');
    if(!box){
      box = document.createElement('div');
      box.className = 'subhours';
      box.innerHTML = '<div></div>';
      row.appendChild(box);
    }
    var content = box.firstElementChild;
    if(row.classList.contains('expanded')){
      // populate once
      if(!content.hasChildNodes()){
        var timeTxt = (row.querySelector('.hr-time')||row).textContent;
        var hours = parseRange(timeTxt);
        var icon = row.querySelector('.hr-icon'); var fallbackIconHTML = icon ? icon.innerHTML : '';
        hours.forEach(function(hs){
          var d = getHourlyFromTable(hs);
          content.appendChild(buildSubHour(hs, d, fallbackIconHTML));
        });
      }
    }else{
      // collapse (keep children for performance)
    }
  }

  function attachHandlers(){
    document.querySelectorAll('#dailyDetailPanel .hour-row').forEach(function(row){
      if(row.dataset.expandableAttached) return;
      row.dataset.expandableAttached = '1';
      row.addEventListener('click', function(e){
        // ignore clicks on links/buttons to avoid conflicts
        if(e.target.closest('a,button')) return;
        toggleRow(row);
      });
    });
  }

  function init(){
    attachHandlers();
    var root = document.getElementById('dailyDetailPanel') || document.documentElement;
    new MutationObserver(attachHandlers).observe(root,{childList:true,subtree:true});
  }

  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); }
  else { init(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Sub-ore con dati REALI da fc.hourly === -->
<script id="tri-hourly-expand-use-fc-2025-09-10">
(function(){
  function iconFor(code, hourText){
    try{
      var night = false;
      // heuristica semplice: notte 20‚Äì5
      var h = parseInt((hourText||'00').slice(0,2),10);
      if(!(isNaN(h))) night = (h>=20 || h<=5);
      if(typeof window.iconHTML_NOEMOJI==='function'){
        return window.iconHTML_NOEMOJI(Number(code), night) || '';
      }
    }catch(_e){}
    return '';
  }
  function wmo(code){
    try{ if(typeof window.wmoDesc==='function') return window.wmoDesc(Number(code))||''; }catch(_e){}
    return '';
  }
  function fmt(val, unit){
    if(val==null || val==='') return '‚Äî';
    return String(val) + (unit||'');
  }
  function getHourlyFromFC(hourStr){
    try{
      var fc = window.fc || null;
      if(!fc || !fc.hourly) return null;
      var t = fc.hourly.time||[];
      var idx = -1;
      for(var i=0;i<t.length;i++){
        // t[i] is ISO like "2025-09-10T09:00"
        var hh = (t[i]||'').slice(11,16);
        if(hh===hourStr){ idx=i; break; }
      }
      if(idx<0) return null;
      var temp = fc.hourly.temperature_2m ? (Math.round(fc.hourly.temperature_2m[idx]) + '¬∞') : '';
      var mm = fc.hourly.precipitation ? (Number(fc.hourly.precipitation[idx]).toFixed(1) + ' mm') : '';
      var prob = fc.hourly.precipitation_probability ? (String(fc.hourly.precipitation_probability[idx]||0)+'%') : '';
      var wind = fc.hourly.wind_speed_10m ? (Math.round(fc.hourly.wind_speed_10m[idx]) + ' km/h') : '';
      var code = fc.hourly.weathercode ? fc.hourly.weathercode[idx] : null;
      var iconHTML = iconFor(code, hourStr);
      var desc = wmo(code);
      return {temp: temp, mm: mm, prob: prob, wind: wind, iconHTML: iconHTML, desc: desc};
    }catch(_e){ return null; }
  }

  // Hook dentro lo script di espansione esistente se presente
  function patch(){
    var ns = window.__triHourlyExpandNS = (window.__triHourlyExpandNS||{});
    ns.getHourlyFromFC = getHourlyFromFC;
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', patch); } else { patch(); }
})();
</script>
<script id="tri-hourly-expand-use-fc-wire-2025-09-10">
(function(){
  // Ricollega toggleRow per preferire i dati reali
  function wire(){
    var scr = document.querySelector('#tri-hourly-expand-js');
    if(!scr) return;
    // Se l'installer originale ha esposto i metodi, estendiamoli
    var ns = window.__triHourlyExpandNS = (window.__triHourlyExpandNS||{});
    ns._getData = function(hourStr){
      // 1) prova da fc.hourly (reale)
      if(ns.getHourlyFromFC){
        var d = ns.getHourlyFromFC(hourStr);
        if(d) return d;
      }
      // 2) fallback da tabella nel modal
      try{
        var tbl = document.querySelector('#triModal .hourly-table');
        if(tbl){
          var rows = Array.from(tbl.querySelectorAll('tr'));
          for(var i=0;i<rows.length;i++){
            var c = rows[i].querySelector('td,th');
            if(!c) continue;
            if((c.textContent||'').indexOf(hourStr)!==-1){
              var tds=rows[i].querySelectorAll('td');
              var temp=(tds[2]&&tds[2].textContent.trim())||'';
              var mm=(tds[5]&&tds[5].textContent.trim())||'';
              var prob=(tds[6]&&tds[6].textContent.trim())||'';
              var wind=(tds[7]&&tds[7].textContent.trim())||'';
              var iconCell=tds[1]; var iconHTML=iconCell?iconCell.innerHTML:'';
              return {temp:temp, mm:mm, prob:prob, wind:wind, iconHTML:iconHTML, desc:''};
            }
          }
        }
      }catch(_e){}
      return null;
    };

    // monkey-patch toggleRow from earlier script, keeping original as backup
    var code = scr.textContent;
    if(code && !window._triTogglePatched){
      window._triTogglePatched = true;
      // Define a global function used by click handler
      window._tri_getDataForHour = ns._getData;
      // Attach a capture listener to use the new data provider
      document.addEventListener('click', function(e){
        var row = e.target.closest && e.target.closest('#dailyDetailPanel .hour-row');
        if(!row) return;
        // The original handler will still run; we re-populate if needed
        setTimeout(function(){
          if(row.classList.contains('expanded')){
            var box=row.querySelector('.subhours>div');
            if(box && box.children.length>0){
              // If placeholders present (‚Äî), replace with real data if available
              Array.from(box.children).forEach(function(sh){
                var h = (sh.querySelector('.hr-time')||{}).textContent||'';
                var temp=sh.querySelector('.hr-temp');
                var rain=sh.querySelector('.hr-rain');
                var prob=sh.querySelector('.hr-prob');
                var wind=sh.querySelector('.hr-wind');
                var icon=sh.querySelector('.hr-icon');
                var d = window._tri_getDataForHour(h);
                if(d){
                  if(temp) temp.textContent = d.temp||'‚Äî';
                  if(rain) rain.textContent = d.mm||'‚Äî';
                  if(prob) prob.textContent = d.prob||'‚Äî';
                  if(wind) wind.textContent = d.wind||'‚Äî';
                  if(icon && d.iconHTML){
                    icon.innerHTML = d.iconHTML;
                  }
                }
              });
            }
          }
        }, 0);
      }, true);
    }
  }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', wire); } else { wire(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî Finder robusto dei dati orari + mapping locale === -->
<script id="tri-hourly-expand-robust-source-2025-09-10">
(function(){
  function findForecast(){
    // 1) Prefer window.fc se valido
    if(window.fc && window.fc.hourly && Array.isArray(window.fc.hourly.time)) return window.fc;
    // 2) Scansione superficiale delle propriet√† globali (non enumerable di librerie)
    var cand = null;
    for (var k in window){
      try{
        var v = window[k];
        if(!v || typeof v!=='object') continue;
        if(v.hourly && v.hourly.time && Array.isArray(v.hourly.time) &&
           (v.hourly.temperature_2m || v.hourly.temperature)){
          cand = v; break;
        }
      }catch(_e){}
    }
    return cand;
  }

  function localTimeStr(iso){
    try{
      var d = new Date(iso);
      // se √® una stringa tipo "2024-09-10T06:00" senza timezone, trattala come locale
      if(/T\d{2}:\d{2}$/.test(iso) && !/[Z\+\-]\d{2}:?\d{2}$/.test(iso)){
        var hh = iso.slice(11,16);
        return hh;
      }
      var h = d.getHours();
      var m = d.getMinutes();
      return (h<10?'0':'')+h+':'+(m<10?'0':'')+m;
    }catch(_e){ return ''; }
  }

  function getHourlyFromAny(hourStr){
    var fc = findForecast(); if(!fc) return null;
    var t = fc.hourly.time||[];
    var idx = -1;
    for(var i=0;i<t.length;i++){
      if(localTimeStr(t[i])===hourStr){ idx=i; break; }
    }
    if(idx<0) return null;
    var H = fc.hourly;
    var temp = H.temperature_2m ? (Math.round(H.temperature_2m[idx])+'¬∞')
              : H.temperature ? (Math.round(H.temperature[idx])+'¬∞') : '';
    var mm = H.precipitation ? (Number(H.precipitation[idx]||0).toFixed(1)+' mm') : '';
    var prob = H.precipitation_probability ? (String(H.precipitation_probability[idx]||0)+'%') : '';
    var wind = H.wind_speed_10m ? (Math.round(H.wind_speed_10m[idx]||0)+' km/h')
              : H.windspeed_10m ? (Math.round(H.windspeed_10m[idx]||0)+' km/h') : '';
    var code = H.weathercode ? H.weathercode[idx] : null;
    var night = (parseInt(hourStr.slice(0,2),10)>=20 || parseInt(hourStr.slice(0,2),10)<=5);
    var iconHTML = (typeof window.iconHTML_NOEMOJI==='function') ? (window.iconHTML_NOEMOJI(Number(code), night)||'') : '';
    var desc = (typeof window.wmoDesc==='function') ? (window.wmoDesc(Number(code))||'') : '';
    return {temp:temp, mm:mm, prob:prob, wind:wind, iconHTML:iconHTML, desc:desc};
  }

  function repopulateRow(row){
    var box=row.querySelector('.subhours>div'); if(!box) return;
    Array.from(box.children).forEach(function(sh){
      var h = (sh.querySelector('.hr-time')||{}).textContent||'';
      var data = getHourlyFromAny(h);
      if(data){
        var temp=sh.querySelector('.hr-temp'); if(temp) temp.textContent=data.temp||'‚Äî';
        var rain=sh.querySelector('.hr-rain'); if(rain) rain.textContent=data.mm||'‚Äî';
        var prob=sh.querySelector('.hr-prob'); if(prob) prob.textContent=data.prob||'‚Äî';
        var wind=sh.querySelector('.hr-wind'); if(wind) wind.textContent=data.wind||'‚Äî';
        var icon=sh.querySelector('.hr-icon'); if(icon && data.iconHTML) icon.innerHTML=data.iconHTML;
      }
    });
  }

  function hook(){
    // Quando si espande una riga, ripopola immediatamente
    document.addEventListener('click', function(e){
      var row=e.target.closest && e.target.closest('#dailyDetailPanel .hour-row.expanded');
      if(row) setTimeout(function(){ repopulateRow(row); }, 0);
    }, true);
  }

  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', hook); } else { hook(); }
})();
</script>


<!-- === PATCH 2025-09-10 ‚Äî 7‚ÄëGiorni: box senza spazio laterale su mobile (solo #dailyPanel) === -->
<style id="daily-seven-zero-gutters-2025-09-10">
@media (max-width: 700px){
  /* Riduce solo il contenitore del 7‚Äëgiorni, senza toccare le singole card .day */
  #dailyPanel .card{
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    width: 100% !important;
  }
  /* Un minimo di respiro per titolo e contenuto */
  #dailyPanel .card h3{ margin: 0 8px 8px !important; }
  #dailyPanel .days{ padding: 0 8px 4px !important; }
}
</style>

<!-- === PATCH 2025-09-11 ‚Äî Hourly table: remove past hours for TODAY (non-destructive wrapper) === -->
<script id="hourly-skip-past-2025-09-11">
(function(){
  function todayISO(){
    try{ var d=new Date(); d.setHours(0,0,0,0); return d.toISOString().slice(0,10); }catch(_e){ return ""; }
  }
  function filterFutureToday(data, idx){
    try{
      if(!data || !data.hourly || !Array.isArray(data.hourly.time)) return {data:data, idx:idx};
      var baseISO = (data.hourly.time[idx] ? String(data.hourly.time[idx]).slice(0,10) : "");
      if(!baseISO || baseISO !== todayISO()) return {data:data, idx:idx};
      var now = Date.now();
      var rows = [];
      for(var i=0;i<data.hourly.time.length;i++){
        var t = String(data.hourly.time[i]||"");
        if(t.slice(0,10)!==baseISO) continue;
        if(Date.parse(t) >= now) rows.push(i);
      }
      if(!rows.length) return {data:data, idx:idx};
      // clone subset
      var sub = JSON.parse(JSON.stringify(data));
      Object.keys(sub.hourly).forEach(function(k){
        if(Array.isArray(sub.hourly[k])) sub.hourly[k] = rows.map(function(i){ return data.hourly[k][i]; });
      });
      return {data:sub, idx:0};
    }catch(_e){ return {data:data, idx:idx}; }
  }
  function apply(){
    try{
      var base = window.renderHourly;
      if(typeof base !== "function") return;
      if(base.__skipPastWrap) return;
      var wrapped = function(data, idx){
        var r = filterFutureToday(data, (typeof idx==="number"?idx:0));
        return base.call(this, r.data, r.idx);
      };
      wrapped.__skipPastWrap = true;
      // preserve any flags used by other patches
      Object.keys(base).forEach(function(k){ wrapped[k] = base[k]; });
      window.renderHourly = wrapped;
    }catch(_e){}
  }
  // Try immediately and for a short while, in case other hotfixes override later
  if(document.readyState==="loading"){
    document.addEventListener("DOMContentLoaded", apply, {once:true});
  }else{
    apply();
  }
  var tries = 0, timer = setInterval(function(){ apply(); if(++tries>40) clearInterval(timer); }, 100);
})();
</script>

<!-- === PATCH 2025-09-11 ‚Äî 7-day strip: highlight and auto-reselect TODAY (non-destructive) === -->
<style id="today-highlight-style-2025-09-11">
  /* Soft yellow highlight for today's tile in the 7-day strip */
  #dailyPanel .days .day.today{
    background: #fff7b3 !important;
    box-shadow: 0 0 0 2px #ffd54d inset;
  }
</style>
<script id="seven-day-today-autoselect-2025-09-11">
(function(){
  function todayMMDD(){
    try{ return new Date().toISOString().slice(5,10); }catch(_e){ return ""; }
  }
  function markAndMaybeClickToday(strip){
    try{
      if(!strip) return;
      var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
      if(!items.length) return;
      var key = todayMMDD();
      var todayEl = null;
      for(var i=0;i<items.length;i++){
        var t = items[i].querySelector('div'); // first inner div contains "MM-DD"
        var txt = (t && t.textContent) ? t.textContent.trim() : "";
        if(txt === key){
          todayEl = items[i];
          break;
        }
      }
      if(!todayEl){
        // Fallback: assume first is today (common case)
        todayEl = items[0];
      }
      if(!todayEl) return;
      todayEl.classList.add('today');

      // If it's already selected, still "re-press" it after a short delay to refresh dependent panels.
      if(!todayEl.dataset.autoreclicked){
        todayEl.dataset.autoreclicked = "1";
        // Try a couple of times in case other async code overrides selection
        var delays = [220, 600, 1200];
        delays.forEach(function(ms, idx){
          setTimeout(function(){
            try{
              // Make sure element is still in DOM
              if(!document.body.contains(todayEl)) return;
              todayEl.dispatchEvent(new MouseEvent('click', {bubbles:true}));
            }catch(_e){}
          }, ms);
        });
      }
    }catch(_e){}
  }

  function tryFindAndApply(){
    try{
      var strip = document.querySelector('#dailyPanel .days');
      if(strip) markAndMaybeClickToday(strip);
    }catch(_e){}
  }

  // Observe mutations to #dailyPanel to run when the 7-day strip appears/refreshes
  function setupObserver(){
    try{
      var panel = document.getElementById('dailyPanel');
      if(!panel || panel.__todayObserverSetup) return;
      panel.__todayObserverSetup = true;
      var mo = new MutationObserver(function(muts){
        for(var i=0;i<muts.length;i++){
          var m = muts[i];
          if(m.type === 'childList'){
            // If any new .days or .day nodes appeared, apply
            if(panel.querySelector('.days .day')){
              markAndMaybeClickToday(panel.querySelector('.days'));
            }
          }
        }
      });
      mo.observe(panel, {childList:true, subtree:true});
    }catch(_e){}
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', function(){
      setupObserver();
      // Initial attempt (in case content is already there)
      tryFindAndApply();
      // A couple more attempts to be resilient to async rendering
      setTimeout(tryFindAndApply, 150);
      setTimeout(tryFindAndApply, 500);
    }, {once:true});
  }else{
    setupObserver();
    tryFindAndApply();
    setTimeout(tryFindAndApply, 150);
    setTimeout(tryFindAndApply, 500);
  }
})();
</script>

<!-- === PATCH 2025-09-11 ‚Äî Override: border-only highlight for today's day (no yellow fill) === -->
<style id="today-highlight-style-2025-09-11-border-only">
  /* Only draw a yellow ring; do NOT fill the card */
  #dailyPanel .days .day.today{
    background: inherit !important;          /* keep original background */
    box-shadow: 0 0 0 3px #ffd54d inset !important; /* inner ring as border */
  }
</style>

<!-- === PATCH 2025-09-11 ‚Äî 7-day strip: Italian short date labels "DD Mon" (e.g., "11 Set") === -->
<script id="seven-day-labels-it-2025-09-11">
(function(){
  var IT_MONTHS = ["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"];
  function fmtDDMon(mm, dd){
    var m = parseInt(mm,10); var d = parseInt(dd,10);
    if(!(m>=1 && m<=12) || !(d>=1 && d<=31)) return null;
    return d + " " + IT_MONTHS[m-1];
  }
  function extractMMDDFromText(txt){
    if(!txt) return null;
    txt = String(txt).trim();
    // Patterns: "MM-DD" or "YYYY-MM-DD"
    var m1 = txt.match(/^([0-1]?\d)-([0-3]?\d)$/); // e.g., "9-7" or "09-07"
    if(m1) return (m1[1].padStart(2,"0") + "-" + m1[2].padStart(2,"0"));
    var m2 = txt.match(/^\d{4}-([0-1]?\d)-([0-3]?\d)$/); // "2025-09-11"
    if(m2) return (m2[1].padStart(2,"0") + "-" + m2[2].padStart(2,"0"));
    return null;
  }
  function isAlreadyItalian(txt){
    if(!txt) return false;
    return /(\bGen\b|\bFeb\b|\bMar\b|\bApr\b|\bMag\b|\bGiu\b|\bLug\b|\bAgo\b|\bSet\b|\bOtt\b|\bNov\b|\bDic\b)/.test(txt);
  }
  function todayMMDD(){ try{ return new Date().toISOString().slice(5,10);}catch(_e){return "";} }

  function reformatStrip(strip){
    try{
      var items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
      if(!items.length) return;
      items.forEach(function(dayEl, idx){
        // Choose a label container: the first direct child div or span with text
        var labelEl = dayEl.querySelector('div,span');
        if(!labelEl) return;
        var current = (labelEl.textContent || "").trim();
        // If already in Italian short format, skip (idempotent)
        if(isAlreadyItalian(current)) return;

        // Extract source MM-DD
        var mmdd = dayEl.getAttribute('data-mmdd') || extractMMDDFromText(current);
        if(!mmdd){
          // Try from data-date or aria-label if present
          mmdd = extractMMDDFromText(dayEl.getAttribute('data-date') || dayEl.getAttribute('aria-label') || "");
        }
        if(!mmdd){
          // Last resort: leave as is
          return;
        }
        // Store standardized key for compatibility with other scripts
        dayEl.setAttribute('data-mmdd', mmdd);

        var mm = mmdd.slice(0,2), dd = mmdd.slice(3,5);
        var pretty = fmtDDMon(mm, dd);
        if(pretty){
          labelEl.textContent = pretty;
        }

        // If this item is today, and no one marked it yet, mark and (optionally) re-click
        if(mmdd === todayMMDD()){
          dayEl.classList.add('today');
          if(!dayEl.dataset.autoreclicked){
            dayEl.dataset.autoreclicked = "1";
            setTimeout(function(){
              try{ if(document.body.contains(dayEl)) dayEl.dispatchEvent(new MouseEvent('click', {bubbles:true})); }catch(_e){}
            }, 240);
          }
        }
      });
    }catch(_e){}
  }

  function apply(){
    try{
      var strip = document.querySelector('#dailyPanel .days');
      if(strip) reformatStrip(strip);
    }catch(_e){}
  }

  function setupObserver(){
    try{
      var panel = document.getElementById('dailyPanel');
      if(!panel || panel.__itLabelsObserverSetup) return;
      panel.__itLabelsObserverSetup = true;
      var mo = new MutationObserver(function(muts){
        for(var i=0;i<muts.length;i++){
          var m = muts[i];
          if(m.type === 'childList'){
            if(panel.querySelector('.days .day')){
              apply();
            }
          }
        }
      });
      mo.observe(panel, {childList:true, subtree:true});
    }catch(_e){}
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', function(){
      setupObserver();
      apply();
      setTimeout(apply, 120);
      setTimeout(apply, 400);
    }, {once:true});
  }else{
    setupObserver();
    apply();
    setTimeout(apply, 120);
    setTimeout(apply, 400);
  }
})();
</script>

<!-- === PATCH 2025-09-11 ‚Äî Narrative placement & refresh improvements === -->
<script id="daily-narrative-fix-2025-09-11">
(function(){
  function ensurePlacementFix(){
    try{
      var box = document.getElementById('narrativeBox');
      if(!box || !box.parentNode) return;
      var dayParts = document.getElementById('dayParts');
      var tri = document.getElementById('dailyDetailPanel');
      var hourly = document.getElementById('hourlyPanel');
      var anchor = null;
      if(hourly && hourly.parentNode === box.parentNode){ anchor = hourly; }
      else if(tri && tri.parentNode === box.parentNode){ anchor = tri; }
      else if(dayParts && dayParts.parentNode === box.parentNode){ anchor = dayParts; }
      if(anchor && anchor.nextSibling !== box){
        anchor.parentNode.insertBefore(box, anchor.nextSibling);
      }
    }catch(_e){}
  }

  function hookHourly(){
    try{
      var base = window.renderHourly;
      if(typeof base === 'function' && !base.__narrFix__){
        var wrapped = function(){
          var r = base.apply(this, arguments);
          try{ ensurePlacementFix(); }catch(_e){}
          try{ if(typeof window.render === 'function') window.render(); }catch(_e){}
          return r;
        };
        wrapped.__narrFix__ = true;
        Object.keys(base).forEach(function(k){ wrapped[k] = base[k]; });
        window.renderHourly = wrapped;
      }
    }catch(_e){}
  }

  function boot(){
    ensurePlacementFix();
    hookHourly();
    // Watch for layout changes
    try{
      var mo = new MutationObserver(function(){
        try{ ensurePlacementFix(); }catch(_e){}
      });
      mo.observe(document.body, {childList:true, subtree:true});
    }catch(_e){}
    // A couple of delayed attempts for async renderers
    setTimeout(ensurePlacementFix, 120);
    setTimeout(ensurePlacementFix, 400);
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', boot, {once:true});
  }else{
    boot();
  }
})();
</script>

<!-- === PATCH assistant-below-narrative-v2-2025-09-11: move assistant under #narrativeBox and ensure visibility === -->
<script id="assistant-below-narrative-v2-2025-09-11">
(function(){
  var RUN_FLAG = "assistant-below-narrative-v2-2025-09-11__mounted";
  function ensureAssistantPlacement(){ 
    try{ 
      var ai = document.getElementById('mlgAiBox');
      var narr = document.getElementById('narrativeBox');
      if(!ai || !narr) return;

      // Always ensure it's visible, even if other scripts set it hidden
      try{ 
        ai.style.visibility = 'visible';
        if(ai.hasAttribute('style')){ 
          // Strip only visibility:hidden if present in inline style
          ai.setAttribute('style', ai.getAttribute('style').replace(/visibility\s*:\s*hidden\s*;?/i, ''));
        }
      }catch(_e){}

      // Create (once) a dedicated mount right after #narrativeBox
      var mountId = 'mlgAiMountAfterNarrative';
      var mount = document.getElementById(mountId);
      if(!mount){ 
        mount = document.createElement('div');
        mount.id = mountId;
        // Keep layout tidy
        mount.style.marginTop = '12px';
        narr.parentNode.insertBefore(mount, narr.nextSibling);
      }

      // If AI is not already inside the mount, move it there (safe re-parenting)
      if(ai.parentNode !== mount){ 
        mount.appendChild(ai);
      }
    }catch(_e){ /* swallow */ }
  }

  function boot(){
    if(window[RUN_FLAG]) return;
    window[RUN_FLAG] = true;
    ensureAssistantPlacement();

    // Re-apply after common UI changes
    setTimeout(ensureAssistantPlacement, 80);
    setTimeout(ensureAssistantPlacement, 200);
    setTimeout(ensureAssistantPlacement, 800);

    try{ 
      var mo = new MutationObserver(ensureAssistantPlacement);
      mo.observe(document.documentElement, { childList:true, subtree:true });
    }catch(_e){}
  }

  if(document.readyState === 'loading'){ 
    document.addEventListener('DOMContentLoaded', boot, {once:true});
  } else { 
    boot();
  }
})();
</script>


<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>



<script id="mini-bollettino-js">
(function(){
  const $ = (sel, root=document) => root.querySelector(sel);
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

  const SLOTI = [
    {key:'notte', from:0, to:6, label:'di notte (00‚Äì06)'},
    {key:'mattino', from:6, to:12, label:'al mattino (06‚Äì12)'},
    {key:'pomeriggio', from:12, to:18, label:'al pomeriggio (12‚Äì18)'},
    {key:'sera', from:18, to:24, label:'in serata (18‚Äì24)'}
  ];

  const RAIN_WORDS = /(piogg|rovesc|tempor|tuon|nubifragi|grandine|neve|nevischio|scirocco)/i;
  const CLEAR_WORDS = /(sereno|soleggiat|schiarit|poco nuvol|parzialmente nuvol)/i;
  const CLOUD_WORDS = /(nuvol|copert|foschia|nebbia|smog)/i;

  function getCity(){
    const input = $('#cityInput') || $('.search input');
    if(input && input.value && input.value.trim().length>1) return input.value.trim();
    const h = $$('header h1, .station-header h2').map(x => (x.textContent||'').trim()).find(Boolean);
    if(h) return h.replace(/\s+‚Äì.*$/, '').trim();
    return 'la localit√† selezionata';
  }

  function parseNumber(val){
    if(val==null) return NaN;
    const m = String(val).match(/-?\d+(?:[\.,]\d+)?/);
    return m ? parseFloat(m[0].replace(',', '.')) : NaN;
  }

  function extractHourlyRows(root=document){
    const table = $('#hourlyPanel table.hourly', root) || $('table.hourly', root);
    if(!table) return [];

    const rows = $$('tbody tr, tr', table).filter(r => r.querySelector('td'));
    const out = [];
    rows.forEach(tr => {
      const tds = $$('td', tr);
      if(!tds.length) return;

      const oraTxt  = (tds[0]?.textContent || '').trim();
      const hour = parseNumber(oraTxt);
      if(!(hour>=0 && hour<24)) return;

      const descr = (tds[2]?.textContent || tds[1]?.textContent || '').trim().toLowerCase();
      const temp  = parseNumber(tds[3]?.textContent || tds[2]?.textContent);
      const vento = parseNumber(tds[6]?.textContent || tds[5]?.textContent);
      const precipTxt = (tds[7]?.textContent || tds[6]?.textContent || '').trim();
      const pProb = /%/.test(precipTxt) ? parseNumber(precipTxt) : NaN;
      const pMM   = /mm/i.test(precipTxt) ? parseNumber(precipTxt) : NaN;

      out.push({hour, descr, temp, vento, pProb, pMM});
    });
    return out;
  }

  function extractDailyCard(root=document){
    const day = $('.days .day.active', root) || $('.days .day', root);
    if(!day) return null;
    const minTxt = $('.min', day)?.textContent || '';
    const maxTxt = $('.max', day)?.textContent || '';
    const min = parseNumber(minTxt);
    const max = parseNumber(maxTxt);
    return {min, max};
  }

  function qualitaVenti(kmh){
    if(!(kmh>0)) return null;
    if(kmh < 11) return 'deboli';
    if(kmh < 28) return 'moderati';
    if(kmh < 50) return 'tesi';
    return 'forti';
  }

  function riassuntoSlot(rows, from, to){
    const inSlot = rows.filter(r => r.hour>=from && r.hour<to);
    if(!inSlot.length) return null;

    const hasThunder = inSlot.some(r => /tempor|tuon/i.test(r.descr));
    const hasRain    = hasThunder || inSlot.some(r => RAIN_WORDS.test(r.descr) || (r.pProb && r.pProb>=40) || (r.pMM && r.pMM>=1));
    const hasClear   = inSlot.some(r => CLEAR_WORDS.test(r.descr));
    const hasCloud   = inSlot.some(r => CLOUD_WORDS.test(r.descr));

    let label = null;
    if(hasThunder) label = 'temporali';
    else if(hasRain && hasClear) label = 'piogge e schiarite';
    else if(hasRain) label = 'piogge';
    else if(hasCloud && hasClear) label = 'nubi e schiarite';
    else if(hasCloud) label = 'cielo nuvoloso';
    else if(hasClear) label = 'cielo poco o parzialmente nuvoloso';
    else label = 'condizioni stabili';

    const ventiMed = (inSlot.reduce((s,r)=> s + (isFinite(r.vento)?r.vento:0),0) / Math.max(1, inSlot.filter(r=>isFinite(r.vento)).length)) || 0;
    const ventoQ = qualitaVenti(ventiMed);

    const tMin = Math.min(...inSlot.map(r=>isFinite(r.temp)?r.temp:Infinity));
    const tMax = Math.max(...inSlot.map(r=>isFinite(r.temp)?r.temp:-Infinity));

    return {
      label,
      ventoQ,
      tMin: isFinite(tMin)?Math.round(tMin):null,
      tMax: isFinite(tMax)?Math.round(tMax):null,
      hasRain, hasThunder
    };
  }

  function laundryAdvice(parts){
    const bad = [];
    const good = [];
    parts.forEach(p => {
      const slot = p.slot;
      if(p.data?.hasRain || p.data?.hasThunder){
        bad.push(slot.label);
      }else{
        good.push(slot.label);
      }
    });
    const makeList = (arr)=> arr.map(x=> x.replace(/^al |^in /,'')).join(', ');
    if(bad.length === 0){
      return {text: 'Bucato consigliato per tutta la giornata.', type:'ok'};
    }
    if(good.length === 0){
      return {text: 'Bucato sconsigliato per tutta la giornata.', type:'no'};
    }
    return {
      text: 'Bucato sconsigliato ' + makeList(bad) + '.',
      type: 'no'
    };
  }

  function composeText(city, mode, parts, daily){
    const periodIntro = (mode==='domani') ? 'per domani' : 'per le prossime ore';
    const descr = parts
      .filter(p => p.data)
      .map(p => `${p.data.label} (${p.slot.key === 'notte' ? 'di notte' : p.slot.label.replace(/^al |^in /,'')})`)
      .join(', ')
      .replace(/, ([^,]+)$/,' e $1');

    let out = `Secondo Meteo Lo Gullo ${periodIntro} a ${city} sono previsti ${descr}.`;

    if(daily && (isFinite(daily.min) || isFinite(daily.max))){
      const tbits = [];
      if(isFinite(daily.min)) tbits.push(`minime intorno a ${Math.round(daily.min)}¬∞C`);
      if(isFinite(daily.max)) tbits.push(`massime fino a ${Math.round(daily.max)}¬∞C`);
      if(tbits.length) out += ` Temperature: ${tbits.join(', ')}.`;
    }

    const ventiQ = parts.map(p=>p.data?.ventoQ).filter(Boolean);
    if(ventiQ.length){
      const freq = ventiQ.reduce((m,v)=> (m[v]=(m[v]||0)+1,m),{});
      const top = Object.entries(freq).sort((a,b)=>b[1]-a[1])[0]?.[0];
      if(top) out += ` Venti ${top}.`;
    }
    return out;
  }

  function build(mode){
    try{
      const city = getCity();
      const rows = extractHourlyRows(document);
      if(!rows.length){
        $('#miniBollettino')?.style && ( $('#miniBollettino').style.display = 'none' );
        return;
      }

      const parts = SLOTI.map(slot => {
        const data = riassuntoSlot(rows, slot.from, slot.to);
        return {slot, data};
      });

      const daily = extractDailyCard(document);
      const text = composeText(city, mode, parts, daily);

      const mb = $('#miniBollettino');
      if(!mb) return;

      $('#mbContent').textContent = text;

      const adv = laundryAdvice(parts);
      const lav = $('#mbLaundry');
      lav.textContent = adv.text;
      lav.className = 'mb-laundry advice ' + (adv.type==='ok'?'ok':'no');

      mb.style.display = '';

      const oggi = $('#mbOggi'), domani = $('#mbDomani');
      if(oggi && domani){
        if(mode==='domani'){
          domani.disabled = true; oggi.disabled = false;
        }else{
          oggi.disabled = true; domani.disabled = false;
        }
      }
    }catch(e){
      console.warn('Mini bollettino error', e);
    }
  }

  function setup(){
    const mb = $('#miniBollettino');
    if(!mb) return;

    $('#mbOggi')?.addEventListener('click', ()=>build('oggi'));
    $('#mbDomani')?.addEventListener('click', ()=>build('domani'));
    $('#mbCopia')?.addEventListener('click', async ()=>{
      try{
        const txt = $('#mbContent')?.textContent || '';
        await navigator.clipboard.writeText(txt);
        const t = document.createElement('div');
        t.textContent = 'Testo copiato';
        t.style.cssText = 'position:fixed;top:18px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.85);color:#fff;padding:8px 12px;border-radius:10px;z-index:2000';
        document.body.appendChild(t);
        setTimeout(()=> t.remove(), 1200);
      }catch(_){}
    });

    const hook = (node)=>{
      try{
        const mo = new MutationObserver(()=> build('oggi'));
        mo.observe(node, {childList:true, subtree:true});
      }catch(_){}
    };
    const hourly = $('#hourlyPanel') || document.body;
    hook(hourly);

    const sf = $('#searchForm') || $('form.search') || $('.search form');
    if(sf){
      sf.addEventListener('submit', ()=> setTimeout(()=>build('oggi'), 400));
    }else{
      const inp = $('#cityInput') || $('.search input');
      inp && inp.addEventListener('change', ()=> setTimeout(()=>build('oggi'), 400));
    }

    setTimeout(()=> build('oggi'), 600);
    setTimeout(()=> build('oggi'), 1600);
  }

  if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', setup);
  else setup();

  window.MLG_buildMiniBollettino = (mode='oggi') => build(mode);
})();
</script>

<!-- === PATCH 2025-09-11 ‚Äî Auto-reclick TODAY after search; cancel on user selection (non-destructive) === -->
<script id="today-auto-reclick-after-search-2025-09-11">
(function(){
  if(window.__todayAutoReclickInstalled__) return;
  window.__todayAutoReclickInstalled__ = true;

  function $(s){ return document.querySelector(s); }
  function $all(s){ return Array.prototype.slice.call(document.querySelectorAll(s)); }

  function getStrip(){ return $('#dailyPanel .days'); }

  function todayMMDD(){
    try{ return new Date().toISOString().slice(5,10); }catch(e){ return ""; }
  }

  function extractMMDDFromText(t){
    if(!t) return "";
    var m = String(t).match(/(\d{2})[-\/\.](\d{2})/); // "MM-DD" or "MM/DD"
    return m ? (m[1] + "-" + m[2]) : "";
  }

  function getTodayEl(strip){
    if(!strip) return null;
    var items = $all('.day', strip);
    if(!items.length){
      items = Array.prototype.slice.call(strip.querySelectorAll('.day'));
    }
    if(!items.length) return null;
    // 1) Try via standardized data-mmdd (set by other patches)
    var key = todayMMDD();
    for(var i=0;i<items.length;i++){
      var mmdd = items[i].getAttribute('data-mmdd') || extractMMDDFromText(items[i].querySelector('div') && items[i].querySelector('div').textContent);
      if(mmdd === key){ return items[i]; }
    }
    // 2) Fallback: assume first tile is "today"
    return items[0];
  }

  var AutoClicker = {
    timers: [],
    active: false,
    target: null,
    start: function(){
      try{
        this.stop();
        var strip = getStrip();
        if(!strip) return;
        var todayEl = getTodayEl(strip);
        if(!todayEl) return;
        this.active = true;
        this.target = todayEl;
        todayEl.classList.add('today');
        // Multiple re-clicks to ensure all dependent panels refresh,
        // spaced to survive async re-renders.
        var delays = [150, 320, 650, 1000, 1500, 2100, 2800];
        for(var i=0;i<delays.length;i++){
          (function(ms, el, self){
            self.timers.push(setTimeout(function(){
              if(!self.active) return;
              if(!document.body.contains(el)){ self.stop(); return; }
              try{ el.dispatchEvent(new MouseEvent('click', {bubbles:true})); }catch(_e){}
            }, ms));
          })(delays[i], todayEl, this);
        }
      }catch(e){ /* swallow */ }
    },
    stop: function(){
      this.active = false;
      while(this.timers.length){ try{ clearTimeout(this.timers.pop()); }catch(_e){} }
      this.target = null;
    }
  };

  // Cancel auto-clicks if the user selects a different day.
  document.addEventListener('click', function(ev){
    try{
      var day = ev.target && ev.target.closest && ev.target.closest('#dailyPanel .day');
      if(!day) return;
      if(!ev.isTrusted) return;          // ignore our programmatic clicks
      if(!AutoClicker.active) return;
      if(AutoClicker.target && day !== AutoClicker.target){
        AutoClicker.stop();
      }
    }catch(_e){}
  }, true);

  // Start the auto-click cycle when forecasts are (re)rendered after a search.
  (function hookRun(){
    try{
      var old = window.run;
      if(typeof old === 'function' && !old.__todayAutoReclickHook){
        window.run = async function(){
          var r = await old.apply(this, arguments);
          try{ AutoClicker.start(); }catch(_e){}
          return r;
        };
        window.run.__todayAutoReclickHook = true;
      }
    }catch(_e){}
  })();

  // Fallback: observe #dailyPanel for the 7-day strip appearing/refreshed.
  (function setupObserver(){
    try{
      var panel = document.getElementById('dailyPanel');
      if(!panel || panel.__todayAutoReclickObserver__) return;
      panel.__todayAutoReclickObserver__ = true;
      var mo = new MutationObserver(function(muts){
        for(var i=0;i<muts.length;i++){
          var m = muts[i];
          if(m.type === 'childList' && panel.querySelector('.days .day')){
            AutoClicker.start();
            break;
          }
        }
      });
      mo.observe(panel, {childList:true, subtree:true});
    }catch(_e){}
  })();

  // Boot: try once on DOM ready as well.
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', function(){ try{ AutoClicker.start(); }catch(_e){} }, {once:true});
  }else{
    try{ AutoClicker.start(); }catch(_e){}
  }
})();
</script>
<script>
  // Optional: active state sync for chips (works for both desktop & mobile)
  document.addEventListener('click', function(e){
    const a = e.target.closest('a.mlg-pill');
    if (!a) return;
    const key = a.dataset.key;
    if (!key) return;
    document.querySelectorAll('.mlg-pill').forEach(el => {
      el.classList.toggle('active', el.dataset.key === key);
    });
  });
</script>




<script>
  // Robust bridge for "Info": forward to the original control and hide it.
  (function(){
    const navInfo = document.getElementById('mlg-info-link');
    if (!navInfo) return;

    function isVisible(el){
      const cs = getComputedStyle(el);
      return cs && cs.display !== 'none' && cs.visibility !== 'hidden' && el.offsetParent !== null;
    }

    function findOriginalInfo(){
      // Candidates that often represent the floating "Info" pill
      const selectors = [
        '[aria-label="Info"]',
        'button#info, a#info, [data-role="info"]',
        '.info, .btn-info'
      ];
      for (const sel of selectors){
        const el = document.querySelector(sel);
        if (el && /info/i.test(el.textContent || el.getAttribute('aria-label') || '') ) return el;
      }
      // Fallback: element with the text "Info" that looks clickable
      const nodes = Array.from(document.querySelectorAll('a, button, [role="button"], div, span'));
      for (const el of nodes){
        const t = (el.textContent || '').trim();
        const clickable = (el.onclick || el.getAttribute('onclick')) || getComputedStyle(el).cursor === 'pointer';
        if (/^info$/i.test(t) && isVisible(el) && clickable) return el;
      }
      // Last resort: first visible element with exact text "Info"
      for (const el of nodes){
        if (/^info$/i.test((el.textContent || '').trim()) && isVisible(el)) return el;
      }
      return null;
    }

    const original = findOriginalInfo();
    if (original){
      // Hide the floating button from the UI but keep it in DOM so its listeners work
      original.style.display = 'none';
      // Also hide a possible parent capsule to avoid empty space (common pattern)
      const parent = original.parentElement;
      if (parent && parent.childElementCount === 1 && getComputedStyle(parent).position === 'fixed'){
        parent.style.display = 'none';
      }
      // Wire the nav pill
      navInfo.addEventListener('click', function(e){
        e.preventDefault();
        try {
          original.dispatchEvent(new MouseEvent('click', {bubbles:true, cancelable:true, view:window}));
        } catch(err){
          // fallback to .click()
          original.click && original.click();
        }
      });
    } else {
      // If not found, degrade gracefully (you can replace with your own modal opener)
      navInfo.addEventListener('click', function(e){
        e.preventDefault();
        alert('Pulsante Info non trovato nel DOM: collegami al tuo handler per aprire il pannello.');
      });
    }
  })();
</script>


<!-- === MLG Auto-dismiss script (Sezione Previsioni) === -->
<script id="mlg-auto-dismiss-js">
(() => {
  const DISMISS_AFTER_MS = 4500; // show ~4.5s, then hide
  const norm = (s) => (s || "").toLowerCase()
    .normalize('NFD').replace(/[\u0300-\u036f]/g,'').trim();
  const matchTexts = ["sezione previsioni", "sezione previsione"];

  const headings = Array.from(document.querySelectorAll("h1,h2,h3,h4,h5,h6"));
  let headingEl = headings.find(h => matchTexts.some(m => norm(h.textContent).includes(m)));
  if (!headingEl) return;

  // Climb to a sensible container to collapse the whole info box
  const container = headingEl.closest("section,article,.card,.panel,.box,.content,.container,div");
  if (!container) return;

  container.classList.add("mlg-autodismiss");
  setTimeout(() => {
    container.classList.add("is-hiding");
    const done = () => {
      container.style.display = "none";
      container.removeEventListener("transitionend", done);
    };
    container.addEventListener("transitionend", done);
    // Safety in case transitionend doesn't fire
    setTimeout(done, 1200);
  }, DISMISS_AFTER_MS);
})();
</script>

<!-- === MLG Map date: JS nudge to right on mobile in case of inline !important === -->
<script id="mlg-mapdate-mobile-right-js">
(function(){
  const apply = () => {
    if (window.matchMedia('(max-width: 860px)').matches){
      const el = document.querySelector('.map-date');
      if (el){
        try{
          el.style.setProperty('left','auto','important');
          el.style.setProperty('right','10px','important');
          el.style.setProperty('top','10px','important');
          el.style.removeProperty('transform');
        }catch(e){}
      }
    }
  };
  // Run now and after DOM mutations (in case the map injects it later)
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', apply);
  } else { apply(); }
  const mo = new MutationObserver(apply);
  mo.observe(document.documentElement, {subtree:true, childList:true});
  // Also re-apply on orientation changes / resize
  window.addEventListener('resize', apply, {passive:true});
  window.addEventListener('orientationchange', apply);
})();
</script>
</body>
</html>
<!-- === FIX 2025‚Äë08‚Äë15: PRO panel ‚Äî allow applying to "oggi" even when fc is a 1‚Äëday sub‚Äëforecast === -->
<script id="sector-pro-today-fix-2025-08-15">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function isFull(fc){ return fc && fc.daily && Array.isArray(fc.daily.time) && fc.daily.time.length > 1; }
  function todayISO(){ var d=new Date(); d.setHours(0,0,0,0); return d.toISOString().slice(0,10); }

  // Keep a copy of the last full forecast so the PRO panel can use real 7-day dates
  (function hookRender(){
    var old = window.render;
    if(typeof old==='function' && !old.__fullSaver){
      window.render = function(){
        var out = old.apply(this, arguments);
        try{ if(isFull(window.fc)) window.__lastFullFc = window.fc; }catch(e){}
        return out;
      };
      window.render.__fullSaver = true;
    }
  })();

  function rebuildDays(panel){
    if(!panel) panel = document.getElementById('sector-pro-panel');
    if(!panel) return;
    var sel = panel.querySelector('#proDay'); if(!sel) return;
    var fc = (isFull(window.fc) ? window.fc : (window.__lastFullFc || window.fc));
    var arr = (fc && fc.daily && Array.isArray(fc.daily.time)) ? fc.daily.time.slice() : [];
    var tISO = todayISO();
    // If today is missing (e.g., when the panel was opened while a 1-day subforecast was active),
    // put it in front so the user can save/apply for the current day.
    if(arr.indexOf(tISO) < 0) arr.unshift(tISO);
    // De-duplicate and keep at most 7 entries
    var seen = Object.create(null), list = [];
    for(var i=0;i<arr.length && list.length<7;i++){ var x=String(arr[i]||'').slice(0,10); if(x && !seen[x]){ seen[x]=1; list.push(x); } }
    // Rebuild options
    sel.innerHTML = "";
    for(var i=0;i<list.length;i++){ var o=document.createElement('option'); o.value=list[i]; o.textContent=list[i]; sel.appendChild(o); }
    // Prefer today when present
    var idx = list.indexOf(tISO);
    sel.selectedIndex = (idx>=0) ? idx : 0;
  }

  function patchOpen(){
    if(!window.__openSectorPro || window.__openSectorPro.__todayFix) return;
    var orig = window.__openSectorPro;
    window.__openSectorPro = function(){
      var r = orig.apply(this, arguments);
      try{ rebuildDays(document.getElementById('sector-pro-panel')); }catch(e){}
      return r;
    };
    window.__openSectorPro.__todayFix = true;
  }

  // Run immediately and on DOM ready
  patchOpen();
  document.addEventListener('DOMContentLoaded', patchOpen);
})();
</script>
<!-- === FIX 2025-08-15: Ensure "Applica adesso" also applies time-band overrides immediately === -->
<script id="sector-pro-applynow-timebands-fix-2025-08-15">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  function patchApplyNow(){
    var btn = document.getElementById('proApplyNow');
    if(!btn || btn.__tbApplyFix) return;
    var old = btn.onclick;
    btn.onclick = function(ev){
      var r; try{ if(typeof old==='function') r = old.call(this, ev); }catch(e){}
      try{
        var fn = (window.__applyRangeOverrides || window.applyRangeOverrides);
        if(typeof fn === 'function' && window.fc){ fn(window.fc); }
        if(typeof window.render === 'function'){ window.render(); }
      }catch(e){}
      return r;
    };
    btn.__tbApplyFix = true;
  }
  function init(){ try{ patchApplyNow(); }catch(e){} }
  document.addEventListener('DOMContentLoaded', init);
  // also try periodically in case the panel is injected later
  setInterval(init, 500);
})();
</script>
<!-- === PATCH 2025-09-02b: PRO hydrate precip ‚Äî fix operator, set rain/snowfall too, and trigger light refresh === -->
<script id="pro-hydrate-precip-v1-1">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__proHydratePrecipV1_1) return;
  window.__proHydratePrecipV1_1 = true;

  function isSnowCode(code){
    code = Number(code);
    return [71,73,75,85,86].includes(code);
  }
  function isRainCode(code){
    code = Number(code);
    return [51,53,55,56,57,61,63,65,66,67,80,81,82,95,96,99].includes(code);
  }
  function impliedPrecipMM(code){
    code = Number(code);
    if(code===51) return 0.2;
    if(code===53) return 0.6;
    if(code===55) return 1.0;
    if(code===56) return 0.4;
    if(code===57) return 0.8;
    if(code===61) return 1.0;
    if(code===63) return 3.0;
    if(code===65) return 6.0;
    if(code===66) return 2.0;
    if(code===67) return 4.0;
    if(code===80) return 1.0;
    if(code===81) return 3.0;
    if(code===82) return 6.0;
    if(code===71) return 1.0;
    if(code===73) return 3.0;
    if(code===75) return 6.0;
    if(code===85) return 1.0;
    if(code===86) return 3.0;
    if(code===95) return 4.0;
    if(code===96 || code===99) return 6.0;
    return 0;
  }
  function humidityFloor(code){
    code = Number(code);
    if([55,57,65,67,82,86,96,99].includes(code)) return 90;
    if([53,56,63,66,81,75,95].includes(code)) return 85;
    if([51,61,80,71,73,85].includes(code)) return 78;
    return 0;
  }
  function popFloor(code){
    code = Number(code);
    if([65,67,82,86,96,99].includes(code)) return 90;
    if([63,66,81,75,95].includes(code)) return 80;
    if([51,53,55,56,57,61,80,71,73,85].includes(code)) return 60;
    return 0;
  }

  function hydrateHourly(fc){
    if(!fc || !fc.hourly) return;
    const H = fc.hourly;
    const times = H.time||[];
    const codes = H.weathercode||[];

    const rh  = H.relativehumidity_2m = (H.relativehumidity_2m||[]).slice();
    const pr  = H.precipitation       = (H.precipitation||[]).slice();
    const rain = H.rain                = (H.rain||[]).slice();
    const snow = H.snowfall            = (H.snowfall||[]).slice();
    const pop = H.precipitation_probability = (H.precipitation_probability||[]).slice();

    for(let i=0;i<times.length;i++){
      const code = Number(codes[i]);
      const mm = impliedPrecipMM(code);
      if(mm>0){
        const cur = Number(pr[i] ?? 0);
        if(!(cur>0) || cur < mm*0.5){
          pr[i] = Number(mm.toFixed(1));
        }
        if(isRainCode(code)){
          const rc = Number(rain[i] ?? 0);
          if(!(rc>0) || rc < mm*0.5){
            rain[i] = Number(mm.toFixed(1));
          }
        }
        if(isSnowCode(code)){
          const sc = Number(snow[i] ?? 0);
          if(!(sc>0) || sc < mm*0.5){
            snow[i] = Number(mm.toFixed(1));
          }
        }
        const hf = humidityFloor(code);
        const curH = Number(rh[i] ?? 0);
        if(hf>0 && (isNaN(curH) || curH<hf)){
          rh[i] = hf;
        }
        const pf = popFloor(code);
        const curP = Number(pop[i] ?? 0);
        if(pf>0 && (isNaN(curP) || curP<pf)){
          pop[i] = pf;
        }
      }
    }

    H.relativehumidity_2m = rh;
    H.precipitation = pr;
    H.rain = rain;
    H.snowfall = snow;
    H.precipitation_probability = pop;
  }

  function applyAndRefresh(){
    try{
      if(window.fc){
        hydrateHourly(window.fc);
        // trigger a light refresh if a band component exposes refresh
        if(typeof window.refreshBands === 'function'){ window.refreshBands(); }
        // else try a minimal repaint of the current panel
        if(typeof window.renderBands === 'function'){
          try{ window.renderBands(); }catch(_e){}
        }
      }
    }catch(_e){}
  }

  const oldRun = window.run;
  if(typeof oldRun==='function' && !oldRun.__proHydrate_fix){
    window.run = async function(){
      const r = await oldRun.apply(this, arguments);
      applyAndRefresh();
      return r;
    };
    window.run.__proHydrate_fix = true;
  }
  const oldRender = window.render;
  if(typeof oldRender==='function' && !oldRender.__proHydrate_fix){
    window.render = function(){
      const out = oldRender.apply(this, arguments);
      applyAndRefresh();
      return out;
    };
    window.render.__proHydrate_fix = true;
  }

  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded', applyAndRefresh);
  }else{
    applyAndRefresh();
  }

  try{ window.addEventListener('pro:applied', applyAndRefresh, false); }catch(_e){}
})();
</script>
<style id="daily-narrative-css">
#narrativeBox{ margin:14px 0; }
#narrativeBox .card{
  background:var(--glass);
  border-radius:var(--radius);
  padding:1rem 1.15rem;
  color:var(--text);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 8px 24px rgba(0,0,0,.20);
}
#narrativeBox h3{ margin:0 0 .5rem; font-size:1.05rem; }
#narrativeBox p{ margin:.35rem 0; line-height:1.45; }
#narrativeBox .meta{ opacity:.95; font-size:.95rem; margin:.2rem 0 .4rem; }
#narrativeBox .footer{ display:flex; justify-content:space-between; gap:.5rem; flex-wrap:wrap; opacity:.9; font-size:.9rem; margin-top:.4rem; }
#narrativeBox .footer a{ color:var(--text); text-decoration:underline; }
@media(max-width:600px){
  #narrativeBox .card{ padding:.9rem 1rem; }
  #narrativeBox h3{ font-size:1rem; }
}
</style>
<script id="daily-narrative-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  const EL_ID="narrativeBox";
  const MAP_LINK="https://www.meteologullo.com/stazioni-meteorologiche-mlg";

  
  function ensurePlacement(){
    const box = document.getElementById(EL_ID);
    const fasce = document.getElementById("dayParts");
    if(!box || !fasce || !fasce.parentNode) return;
    const tri  = document.getElementById("dailyDetailPanel");
    // anchor = prefer the tri-hourly panel; fallback to dayParts
    const anchor = (tri && tri.parentNode === fasce.parentNode) ? tri : fasce;
    if(anchor.nextSibling !== box){
      anchor.parentNode.insertBefore(box, anchor.nextSibling);
    }
  }

  }

  function round(x){ const n=Number(x); return isFinite(n)?Math.round(n):NaN; }
  function weekdayIT(s){ try{ return new Date(s+"T12:00:00").toLocaleDateString("it-IT",{weekday:"long"});}catch(e){return "";} }
  function dayMonthIT(s){ try{ return new Date(s+"T12:00:00").toLocaleDateString("it-IT",{day:"numeric", month:"long"});}catch(e){return s;} }

  // Label rule: 0 -> oggi, 1 -> domani, others -> "gioved√¨, 4 settembre"
  function labelByIdx(idx, dateStr){
    // Prefer the date string to decide "oggi/domani" to avoid index/state desync
    try{
      const now = new Date();
      const pad = (n)=>String(n).padStart(2,'0');
      const todayStr = now.getFullYear()+"-"+pad(now.getMonth()+1)+"-"+pad(now.getDate());
      const tmrw = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1);
      const tomorrowStr = tmrw.getFullYear()+"-"+pad(tmrw.getMonth()+1)+"-"+pad(tmrw.getDate());
      if(dateStr===todayStr) return "oggi";
      if(dateStr===tomorrowStr) return "domani";
    }catch(e){}
    const wd = weekdayIT(dateStr);
    const dm = dayMonthIT(dateStr);
    const wdl = wd ? wd.charAt(0).toLowerCase()+wd.slice(1) : "";
    return (wdl? wdl+", " : "") + dm;
  }

  const TS = new Set([95,96,99]);
  const WET= new Set([51,53,55,56,57,61,63,65,66,67,71,73,75,77,80,81,82,85,86,95,96,99]);

  function compute(fc, d){
    try{
      if(!fc || !fc.daily || !fc.daily.time) return null;
      const dateStr = fc.daily.time[d]; if(!dateStr) return null;
      const H = fc.hourly||{}, T=fc.daily||{};
      const rows=[];
      for(let i=0;i<(H.time?.length||0);i++){
        const t = H.time[i]; if(!t) continue;
        if(t.startsWith(dateStr)) rows.push(i); else {
          const diffH=(new Date(t)-new Date(dateStr+"T00:00:00"))/36e5;
          if(diffH>=24 && diffH<30) rows.push(i);
        }
      }
      let sum=0, pmax=0, ts=false, wmax=0, gmax=0;
      const wet=[false,false,false,false];
      const part=(h)=>h>=6&&h<12?0:h>=12&&h<18?1:h>=18&&h<24?2:3;
      for(const i of rows){
        const pr=+((H.precipitation_probability||[])[i]||0);
        const mm=+((H.precipitation||[])[i]||0);
        const code=+((H.weathercode||[])[i]||0);
        const ws=+((H.wind_speed_10m||[])[i]||0);
        const gs=+((H.wind_gusts_10m||[])[i]||ws);
        const hh=new Date(H.time[i]).getHours();
        sum+=mm; pmax=Math.max(pmax,pr); if(TS.has(code)) ts=true; wmax=Math.max(wmax,ws); gmax=Math.max(gmax,gs);
        if(WET.has(code)||mm>=0.2||pr>=40) wet[part(hh)]=true;
      }
      const tmax=round(T.temperature_2m_max?.[d]); const tmin=round(T.temperature_2m_min?.[d]);
      const place = (window.CITIES?.[0]?.city) || document.getElementById("cityInput")?.value || "localit√† selezionata";
      const when = labelByIdx(d, dateStr);
      const _labels = ["al mattino","al pomeriggio","in serata","di notte"];let _idx = [0,1,2,3].filter(i=>wet[i]);// Se oggi e piove di notte, mettiamo "di notte" prima di "al mattino" per evitare ambiguit√†
if (isToday && wet[3]) { _idx = [3].concat([0,1,2].filter(i=>wet[i])); }
const whereWet = _idx.map(i=>_labels[i]);let precip = "non sono previste precipitazioni significative";
      if(pmax>=70 || sum>=5) precip="sono probabili rovesci";
      if(ts) precip="sono possibili temporali";
      if(whereWet.length) precip += " " + (whereWet.length===1? whereWet[0] : "(" + whereWet.join(", ") + ")");
      
// Descrizione del cielo anche senza precipitazioni: calcolata dal meteo prevalente nelle ore considerate
(function(){
  try{
    const codes = (H.weathercode||[]);
    const freq = {};
    for(const i of rows){ const c = +((codes[i])||0); if(!isFinite(c)) continue; freq[c]=(freq[c]||0)+1; }
    let dom = null, domN=-1;
    for(const k in freq){ if(freq[k]>domN){ dom=+k; domN=freq[k]; } }
    function skyFromCode(c){
      if([0].includes(c)) return "cielo sereno";
      if([1].includes(c)) return "prevalentemente sereno";
      if([2].includes(c)) return "poco nuvoloso";
      if([3].includes(c)) return "molto nuvoloso o coperto";
      if([45,48].includes(c)) return "foschie o banchi di nebbia";
      if([51,53,55,56,57].includes(c)) return "pioviggine a tratti";
      if([61,63,65,66,67,80,81,82].includes(c)) return "piogge sparse";
      if([71,73,75,77,85,86].includes(c)) return "neve o neve mista";
      if([95,96,99].includes(c)) return "temporali locali";
      return "condizioni variabili";
    }
    window.__mlgSkyDesc = skyFromCode(dom);
  }catch(_e){ window.__mlgSkyDesc = undefined; }
})();

const venti = (wmax>=60 || gmax>=70) ? "forti" : (wmax>=35 ? "moderati" : "deboli");
      const hot = (tmax>=35);
      const risky = (ts || pmax>=70 || gmax>=70);
      const outdoor = risky || hot ? "sconsigliate" : (pmax<=30 && gmax<55 ? "consigliate" : "valutabili con cautela");

      // bucato ‚Äî SOLO precipitazioni
      const DRY_START=8, DRY_END=20; // fascia di interesse per stendere
      const dryIntervals = [];
      let blockStart=null, lastH=null, anyWet=false;
      for(const i of rows){
        const hh = new Date(H.time[i]).getHours();
        if(hh<DRY_START || hh>DRY_END) continue;
        const pr = +((H.precipitation_probability||[])[i]||0);
        const mm = +((H.precipitation||[])[i]||0);
        const isWet = (pr>=40 || mm>=0.2);
        anyWet = anyWet || isWet;
        if(!isWet){
          if(blockStart===null){ blockStart = hh; lastH = hh; }
          else if(hh === lastH+1){ lastH = hh; }
          else{ // gap
            dryIntervals.push([blockStart, lastH+1]);
            blockStart = hh; lastH = hh;
          }
        }else{
          if(blockStart!==null){ dryIntervals.push([blockStart, lastH+1]); blockStart=null; lastH=null; }
        }
      }
      if(blockStart!==null){ dryIntervals.push([blockStart, lastH+1]); }

      // filtra blocchi < 2h
      const intervals2h = dryIntervals.filter(([a,b]) => (b-a)>=2);
      function fmt(h){ return String(h).padStart(2,'0') + ':00'; }
      let bucato;
      if(!anyWet && intervals2h.length){
        bucato = 'consigliato per l\'intera giornata';
      }else if(intervals2h.length){
        bucato = 'consigliato nelle fasce: ' + intervals2h.map(([a,b])=> fmt(a)+'‚Äì'+fmt(b)).join('; ');
      }else{
        bucato = 'non consigliato';
      }

      const crit = (ts || gmax>=70 || sum>=20) ? "Sono previste situazioni di criticit√†." : "Non sono previste situazioni di criticit√†."; (ts || gmax>=70 || sum>=20) ? "Sono previste situazioni di criticit√†." : "Non sono previste situazioni di criticit√†.";
      const lead = `A ${place}, ${when} ${precip}. La temperatura si porter√† intorno a ${isFinite(tmax)?tmax+"¬∞C":"--"} nelle ore pi√π calde e verso ${isFinite(tmin)?tmin+"¬∞C":"--"} nelle ore pi√π fresche. Venti ${venti}${isFinite(gmax)?", con raffiche fino a "+round(gmax)+" km/h":""}.`;
      const meta = `Pioggia prevista: ${sum.toFixed(1)} mm (probabilit√† massima ${pmax}%).`;
      const details = [`Attivit√† all‚Äôaperto: ${outdoor}.`,`Bucato: ${bucato}.`,crit];
      return {lead, meta, details};
    }catch(e){ return null; }
  }

  function render(){
    ensurePlacement();
    const box=document.getElementById(EL_ID);
    if(!box) return;
    const fc = (window.fc && window.fc.daily?.time) ? window.fc : (window.__fullFc||window.fc);
    const d = Number(window.curDay||0);
    const data=compute(fc,d);
    if(!data){ box.innerHTML=''; return; }
    box.innerHTML=[
      '<div class="card">',
      '<h3>üìù Sintesi della giornata</h3>',
      '<p>',data.lead,'</p>',
      '<p class="meta">',data.meta,'</p>',
      '<p>‚Ä¢ ',data.details[0],'<br/>‚Ä¢ ',data.details[1],'<br/>‚Ä¢ ',data.details[2],'</p>',
      '<div class="footer"><span><strong>Previsioni elaborate da Meteo Lo Gullo</strong></span>',
      '<span>Per i <em>dati in tempo reale</em> di tutta la regione consulta la <a target="_blank" rel="noopener" href="'+MAP_LINK+'">MLG Map</a>.</span></div>',
      '</div>'
    ].join('');
  }

  function hook(name){
    try{
      const o = window[name];
      if(typeof o==='function' && !o.__narr__){
        window[name] = function(){
          const r=o.apply(this, arguments);
          try{ render(); }catch(e){}
          return r;
        };
        window[name].__narr__=true;
      }
    }catch(e){}
  }

  function boot(){
    // Keep placement correct even if panels re-render
    try{
      const mo = new MutationObserver(()=>{ try{ ensurePlacement(); }catch(e){} });
      mo.observe(document.body,{childList:true,subtree:true});
    }catch(e){}
    ['renderDayParts','renderDayPartsSeverity','renderDaily'].forEach(hook);
    render();
    let lastKey="", lastDay=-1;
    setInterval(()=>{
      const d=Number(window.curDay||0);
      const key=(window.fc && window.fc.daily && window.fc.daily.time && window.fc.daily.time.join('|'))||'';
      if(d!==lastDay || key!==lastKey){ lastDay=d; lastKey=key; render(); }
    }, 400);
  }

  if(document.readyState==='loading') document.addEventListener('DOMContentLoaded', boot, {once:true}); else boot();
})();
</script>
<!-- === Sector PRO ‚Ä¢ Microsettori Calabria (v1.0) ‚Äî non distruttivo === -->
<script id="sector-pro-microsettori-v10">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__sectorProMicro) return; window.__sectorProMicro = true;

  var STORAGE_KEY = 'sectorCondMiniV1';
  var MICRO_GRID = {rows:4, cols:4}; // 4√ó4 per ciascun settore della griglia principale

  function clamp(v,a,b){ return Math.max(a, Math.min(b, v)); }
  function loadStore(){ try{ return JSON.parse(localStorage.getItem(STORAGE_KEY))||{overrides:{},grid:{rows:8,cols:6}}; }catch(e){ return {overrides:{},grid:{rows:8,cols:6}}; } }
  function saveStore(s){ try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }catch(e){} }

  function grid(){ var s=loadStore(); return {rows:(s.grid&&s.grid.rows)||8, cols:(s.grid&&s.grid.cols)||6}; }
  function latLonToXYWrap(lat,lon){ try{ if(typeof window.latLonToXY==='function'){ var xy=window.latLonToXY(+lat,+lon); if(xy) return {x:clamp(+xy.x,0,100), y:clamp(+xy.y,0,100)}; } }catch(e){} return null; }

  function sectorAndMicroForLatLon(lat,lon){
    var g = grid();
    var xy = latLonToXYWrap(lat,lon); if(!xy) return null;
    var cellW = 100/g.cols, cellH = 100/g.rows;
    var ccol = clamp(Math.floor(xy.x/cellW),0,g.cols-1);
    var crow = clamp(Math.floor(xy.y/cellH),0,g.rows-1);
    // coordinate relative all'interno della cella
    var rx = xy.x - ccol*cellW;
    var ry = xy.y - crow*cellH;
    var mw = cellW / MICRO_GRID.cols;
    var mh = cellH / MICRO_GRID.rows;
    var mcol = clamp(Math.floor(rx/mw), 0, MICRO_GRID.cols-1);
    var mrow = clamp(Math.floor(ry/mh), 0, MICRO_GRID.rows-1);
    var sid = crow + '-' + ccol;
    var mid = mrow + 'x' + mcol;
    return {sid:sid, mid:mid, key: sid + '@' + mid, xy:xy, crow:crow, ccol:ccol, mrow:mrow, mcol:mcol};
  }

  // ‚Äî‚Äî‚Äî UI injection: toggle micro ‚Äî‚Äî‚Äî
  function injectUi(){
    var pnl = document.getElementById('sector-pro-panel');
    if(!pnl || pnl.__microUi) return;
    pnl.__microUi = true;

    // Riga UI dopo "Localit√†"
    var anchor = pnl.querySelector('#proSector');
    if(anchor){
      var row = document.createElement('span');
      row.id = 'proMicroRow';
      row.style.cssText = 'margin-left:10px; display:inline-flex; gap:8px; align-items:center;';
      row.innerHTML = '<label style="display:inline-flex;gap:6px;align-items:center;"><input type="checkbox" id="proUseMicro"> Solo microsettore</label><span id="proMicroLbl" style="opacity:.85"></span><button id="proList" type="button" style="padding:4px 8px;border-radius:8px;background:#0e2a36;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Elenco modifiche</button>';
      anchor.parentNode.insertBefore(row, anchor.nextSibling);
    }

    function updateMicroLblFromQuery(){
      try{
        var q = document.getElementById('proQuery').value.trim();
        var lbl = document.getElementById('proMicroLbl');
        var secLbl = document.getElementById('proSector');
        lbl.textContent = '';
        if(!q || !secLbl || !secLbl.getAttribute('data-sid')) return;
        (typeof window.geocode==='function' ? window.geocode(q) : Promise.resolve(null)).then(function(g){
          if(!g) return;
          var sm = sectorAndMicroForLatLon(g.latitude, g.longitude);
          if(sm){
            lbl.textContent = 'Micro: '+sm.mid;
            // memorizza sullo span settore anche il micro rilevato
            secLbl.setAttribute('data-micro', sm.mid);
          }
        });
      }catch(e){}
    }

    // Recompute label each time the user hits "Trova settore" or edits query
    var btnFind = pnl.querySelector('#proFind');
    if(btnFind && !btnFind.__microHook){
      btnFind.addEventListener('click', function(){ setTimeout(updateMicroLblFromQuery, 60); }, false);
      btnFind.__microHook = true;
    }
    var inp = pnl.querySelector('#proQuery');
    if(inp && !inp.__microHook){
      inp.addEventListener('change', updateMicroLblFromQuery, false);
      inp.addEventListener('blur', updateMicroLblFromQuery, false);
      inp.__microHook = true;
    }

    // Lista modifiche
    var btnList = document.getElementById('proList');
    if(btnList && !btnList.__microHook){
      btnList.addEventListener('click', openListModal, false);
      btnList.__microHook = true;
    }
  }

  // ‚Äî‚Äî‚Äî Helpers override read/write con micro ‚Äî‚Äî‚Äî
  function currentPanelKey(){
    var pnl = document.getElementById('sector-pro-panel');
    if(!pnl) return null;
    var daySel = pnl.querySelector('#proDay'); var iso = daySel && daySel.value;
    var sidEl = pnl.querySelector('#proSector');
    var sid = sidEl && sidEl.getAttribute('data-sid');
    var useMicro = (pnl.querySelector('#proUseMicro')||{}).checked;
    var mid = sidEl && sidEl.getAttribute('data-micro');
    if(!iso || !sid) return null;
    var key = sid;
    if(useMicro && mid){ key = sid + '@' + mid; }
    return {iso:iso, key:key, sid:sid, mid:mid||null, useMicro:!!useMicro};
  }

  // Sposta l'override appena salvato da [sid] -> [sid@mid] se richiesto
  function migrateOverrideIfNeeded(){
    try{
      var cur = currentPanelKey(); if(!cur) return;
      var s = loadStore(); var day = s.overrides[cur.iso]||{};
      if(cur.useMicro && cur.mid && day[cur.sid] && !day[cur.key]){
        day[cur.key] = day[cur.sid]; // copia
        delete day[cur.sid];         // rimuovi generico (evita toccare tutto il settore)
        s.overrides[cur.iso] = day; saveStore(s);
        try{ if(window.toast) toast('Salvato sul microsettore ‚úî'); }catch(_e){}
      }
    }catch(e){}
  }

  // Cancella sul micro se flag attivo, altrimenti sul settore
  function clearOverrideSmart(){
    try{
      var cur = currentPanelKey(); if(!cur) return;
      var s = loadStore();
      var day = s.overrides[cur.iso]||{};
      if(cur.useMicro && cur.mid){
        if(day[cur.key]){ delete day[cur.key]; }
      }else{
        if(day[cur.sid]){ delete day[cur.sid]; }
      }
      s.overrides[cur.iso] = day; saveStore(s);
    }catch(e){}
  }

  // Hook i pulsanti del pannello
  function hookButtons(){
    // Dopo il salvataggio originale, migra su micro
    document.addEventListener('click', function(ev){
      var t = ev.target;
      if(t && t.id==='proSave'){
        setTimeout(migrateOverrideIfNeeded, 40);
      }
    }, true);
    // Sostituisci clear
    document.addEventListener('click', function(ev){
      var t = ev.target;
      if(t && t.id==='proClear'){
        ev.stopImmediatePropagation();
        ev.preventDefault();
        clearOverrideSmart();
        alert('Override rimosso');
      }
    }, true);
  }

  // ‚Äî‚Äî‚Äî APPLY: micro ha precedenza su settore ‚Äî‚Äî‚Äî
  function applyMicroFullDay(fc){
    try{
      if(!fc) return;
      var sm = sectorAndMicroForLatLon(fc.latitude, fc.longitude); if(!sm) return;
      var s = loadStore();
      var days = (fc.daily && fc.daily.time) || [];
      for(var d=0; d<days.length; d++){
        var iso = days[d];
        var per = s.overrides && s.overrides[iso]; if(!per) continue;
        var ov = per[sm.key] || null; // micro prima!
        if(!ov || ov.code==null) continue;
        var code = +ov.code;
        if(Array.isArray(fc.daily.weathercode)) fc.daily.weathercode[d] = code;
        // applica a tutte le ore del giorno
        if(fc.hourly && Array.isArray(fc.hourly.weathercode)){
          // individua intervallo del giorno
          var times=(fc.hourly.time||[]);
          var start=-1, end=times.length;
          for(var i=0;i<times.length;i++){ if((times[i]||'').startsWith(iso)){ start=i; break; } }
          if(start>=0){
            for(var j=start;j<Math.min(end, start+24);j++){ fc.hourly.weathercode[j] = code; }
          }
        }
      }
    }catch(e){}
  }

  // Timebands solo micro (sovrascrive quanto applicato prima)
  function inRange(h, start, end){ return (start<end) ? (h>=start && h<end) : (h>=start || h<end); }
  function bandToRange(name){
    var k=(name||'').toLowerCase();
    if(k==='mattina') return {start:6,end:12};
    if(k==='pomeriggio') return {start:12,end:18};
    if(k==='sera') return {start:18,end:24};
    if(k==='notte') return {start:0,end:6};
    return null;
  }
  function applyMicroTimebands(fc){
    try{
      if(!fc || !fc.hourly || !fc.daily) return;
      var sm = sectorAndMicroForLatLon(fc.latitude, fc.longitude); if(!sm) return;
      var s = loadStore();
      var days = (fc.daily.time||[]);
      for(var d=0; d<days.length; d++){
        var iso = days[d];
        var per = s.overrides && s.overrides[iso]; if(!per) continue;
        var ov = per[sm.key];
        if(!ov || !ov.ranged || ov.ranged.code==null) continue;
        var code = Number(ov.ranged.code);
        // trova indice orario del giorno
        var times = (fc.hourly.time||[]);
        var startIdx=-1, endIdx=times.length;
        for(var i=0;i<times.length;i++){ if((times[i]||'').startsWith(iso)){ startIdx=i; break; } }
        if(startIdx<0) continue;
        for(var j=startIdx+1;j<times.length;j++){ if(!times[j].startsWith(iso)){ endIdx=j; break; } }
        if(!isFinite(endIdx)) endIdx=Math.min(times.length, startIdx+24);

        var hs=0, he=24;
        if(ov.ranged.type==='band'){
          var br=bandToRange(ov.ranged.band); if(!br) continue; hs=br.start; he=br.end;
        }else if(ov.ranged.type==='hours'){
          hs=clamp(Number(ov.ranged.start)||0,0,23);
          he=clamp(Number(ov.ranged.end)||24,1,24);
        }
        for(var k=startIdx;k<endIdx;k++){
          var hh= +String(times[k]).slice(11,13);
          if(inRange(hh,hs,he)){
            if(Array.isArray(fc.hourly.weathercode)) fc.hourly.weathercode[k] = code;
          }
        }
      }
    }catch(e){}
  }

  // Wrap/daisy-chain alle funzioni esistenti
  (function patchApply(){
    var old = window.applySectorCondMiniToForecast;
    if(typeof old==='function' && !old.__microWrapped){
      window.applySectorCondMiniToForecast = function(fc){
        var r = old.apply(this, arguments);
        try{ applyMicroFullDay(fc); }catch(_e){}
        return r;
      };
      window.applySectorCondMiniToForecast.__microWrapped = true;
    }
    function wrapRender(){
      var rr = window.render;
      if(typeof rr==='function' && !rr.__microWrapped){
        window.render = function(){
          var out = rr.apply(this, arguments);
          try{ if(window.fc) applyMicroTimebands(window.fc); }catch(_e){}
          return out;
        };
        window.render.__microWrapped = true;
      }
      var rn = window.run;
      if(typeof rn==='function' && !rn.__microWrapped){
        window.run = async function(){
          var res = await rn.apply(this, arguments);
          try{ if(window.fc) applyMicroTimebands(window.fc); }catch(_e){}
          return res;
        };
        window.run.__microWrapped = true;
      }
    }
    wrapRender();
    setInterval(wrapRender, 800);
  })();

  // ‚Äî‚Äî‚Äî Elenco modifiche ‚Äî‚Äî‚Äî
  function openListModal(){
    try{
      var s = loadStore();
      var box = document.createElement('div');
      box.id = 'proMicroList';
      box.style.cssText = 'position:fixed;inset:0;z-index:1000000;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;padding:12px;';
      var html = '<div style="background:#0b1f28;color:#e6f1f5;max-width:720px;width:96vw;border-radius:12px;padding:12px;box-shadow:0 8px 30px rgba(0,0,0,.35);">'
               + '<div style="display:flex;justify-content:space-between;align-items:center;">'
               + '<strong>Modifiche attive (micro & settore)</strong>'
               + '<button id="proListClose" style="all:unset;cursor:pointer;font-size:18px">‚úï</button></div>'
               + '<div style="max-height:60vh;overflow:auto;margin-top:8px;">';
      var any=false;
      var days = Object.keys(s.overrides||{}).sort();
      for(var di=0; di<days.length; di++){
        var iso = days[di]; var per = s.overrides[iso]||{};
        var keys = Object.keys(per);
        if(!keys.length) continue;
        any = true;
        html += '<h4 style="margin:10px 0 6px 0;">'+iso+'</h4>';
        html += '<table style="width:100%;border-collapse:collapse;"><thead><tr><th align="left">Settore/¬µ</th><th align="left">Codice</th><th align="left">Fascia</th><th></th></tr></thead><tbody>';
        for(var k=0;k<keys.length;k++){
          var kk = keys[k]; var ov = per[kk]||{};
          var cod = (ov && ov.code!=null) ? String(ov.code) : (ov && ov.ranged && ov.ranged.code!=null ? String(ov.ranged.code)+' (fascia)' : '‚Äî');
          var rng = (ov && ov.ranged) ? (ov.ranged.type==='band' ? ov.ranged.band : (ov.ranged.start+'‚Äì'+ov.ranged.end)) : '';
          html += '<tr style="border-top:1px solid rgba(255,255,255,.08)"><td style="padding:6px 4px">'+kk+'</td><td>'+cod+'</td><td>'+rng+'</td>'
               + '<td style="text-align:right"><button data-iso="'+iso+'" data-key="'+kk+'" class="pro-del" style="padding:4px 8px;border-radius:8px;background:#602a2a;border:1px solid rgba(255,255,255,.12);color:#e6f1f5;cursor:pointer">Rimuovi</button></td></tr>';
        }
        html += '</tbody></table>';
      }
      if(!any) html += '<p>Nessuna modifica salvata.</p>';
      html += '</div></div>';
      box.innerHTML = html;
      document.body.appendChild(box);
      box.querySelector('#proListClose').onclick = function(){ box.remove(); };
      box.addEventListener('click', function(e){ if(e.target===box) box.remove(); });
      var btns = box.querySelectorAll('.pro-del');
      btns.forEach(function(b){
        b.addEventListener('click', function(){
          var iso=this.getAttribute('data-iso'), key=this.getAttribute('data-key');
          var s=loadStore(); if(s.overrides[iso] && s.overrides[iso][key]){ delete s.overrides[iso][key]; saveStore(s); }
          box.remove(); openListModal();
        }, false);
      });
    }catch(e){}
  }

  // Init
  function init(){ injectUi(); hookButtons(); }
  if(document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); } else { init(); }
  // In caso di pannello ricreato dinamicamente
  var mo = new MutationObserver(function(list){
    for(var m of list){
      for(var n of (m.addedNodes||[])){ if(n && n.id==='sector-pro-panel'){ setTimeout(injectUi, 60); } }
    }
  });
  try{ mo.observe(document.body, {childList:true, subtree:true}); }catch(_e){}
})();
</script>


<script id="forecast-focus-js">
(function(){

  function positionBackButton(){
    try{
      const holder = document.getElementById('forecastBack');
      if(!holder) return;
      const sf = document.getElementById('searchForm') || document.getElementById('cityInput');
      if(sf){
        const rect = sf.getBoundingClientRect();
        const top = rect.top + window.scrollY + 8;
        const left = Math.max(rect.left + window.scrollX - 48, 12);
        holder.style.top = top + 'px';
        holder.style.left = left + 'px';
      }else{
        holder.style.top = '16px';
        holder.style.left = '16px';
      }
    }catch(e){}
  }

  if(window.__forecastFocusInit) return; window.__forecastFocusInit = true;

  function widget(){ return document.getElementById('widget'); }
  function forecastHasRows(){
    try{
      const t = document.getElementById('forecast');
      return t && t.rows && t.rows.length > 1; // header + almeno una riga
    }catch(e){ return false; }
  }
  function enterFocus(){
    const w = widget();
    if(!w) return;
    if(!forecastHasRows()) return;
    w.classList.add('forecast-only'); positionBackButton();
    try{ w.scrollIntoView({behavior:'smooth', block:'start'}); }catch(e){}
  }
  function exitFocus(){
    const w = widget();
    if(!w) return;
    w.classList.remove('forecast-only');
    try{ document.getElementById('mapArea')?.scrollIntoView({behavior:'smooth', block:'start'}); }catch(e){}
  }

  // Inserisce un piccolo pulsante "‚Üê Torna alla mappa"
  function ensureBackButton(){
    const w = widget(); if(!w) return;
    if(document.getElementById('forecastBack')) return;
    const holder = document.createElement('div');
    holder.id = 'forecastBack';
    holder.innerHTML = '<button type="button" aria-label="Torna alla mappa" title="Torna alla mappa" tabindex="0">&#8592;</button>';
    holder.addEventListener('click', exitFocus);
    w.appendChild(holder);
  }

  // Hook non distruttivo su run(q): quando la ricerca finisce e c'√® la previsione, attiva la modalit√†
  (function hookRun(){
    try{
      const old = window.run;
      if(typeof old === 'function' && !old.__focusHook){
        window.run = async function(){
          const r = await old.apply(this, arguments);
          try{ ensureBackButton(); enterFocus(); }catch(e){}
          return r;
        };
        window.run.__focusHook = true;
      }
    }catch(e){}
  })();

  // Se l'utente svuota l'input o preme ESC nella barra, torna alla mappa
  (function bindSearch(){
    try{
      const inp = document.getElementById('cityInput');
      if(inp && !inp.__focusBind){
        inp.addEventListener('input', function(){
          if(!this.value.trim()) exitFocus();
        });
        inp.addEventListener('keydown', function(ev){
          if(ev.key === 'Escape'){ exitFocus(); }
        });
        inp.__focusBind = true;
      }
    }catch(e){}
  })();

  // Pulsante back disponibile appena pronto
  
  window.addEventListener('resize', positionBackButton);
  window.addEventListener('scroll', positionBackButton, {passive:true});

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', ensureBackButton, {once:true});
  }else{
    ensureBackButton();
  }
})();
</script>

